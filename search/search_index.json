{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u6b22\u8fce\uff01 \u00b6 OpenBSD \u4e2d\u6587\u7ed3\u793e\u6587\u6863\u9879\u76ee\uff0c\u65e8\u5728\u4e3a\u4e2d\u6587 Unix \u4e0e BSD \u793e\u533a\u521b\u5efa\u4fbf\u4e8e\u9605\u8bfb\u7684\u4e2d\u6587\u6587\u6863\u3002\u8bf7\u53c2\u9605\u76ee\u5f55\u4ee5\u83b7\u53d6\u8be6\u60c5\u3002 For non-chinese visitor, here is a page about us . \u5173\u4e8e OpenBSD \u00b6 \u9ed8\u8ba4\u5b89\u88c5\u4e0b\uff0c\u5728\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u5185\u53ea\u53d1\u73b0\u4e86\u4e24\u4e2a\u8fdc\u7a0b\u6f0f\u6d1e\uff01 OpenBSD \u9879\u76ee\u63d0\u4f9b\u4e86\u4e00\u4e2a\u81ea\u7531\u53ef\u7528\u7684\u57fa\u4e8e4.4BSD\u7cfb\u7edf\u7684\u591a\u5e73\u53f0UNIX\u7cfb\u64cd\u4f5c\u7cfb\u7edf\u3002\u6211\u4eec\u805a\u7126\u4e8e\u6b63\u786e\u6027\u3001\u5b89\u5168\u6027\u3001\u6807\u51c6\u5316\u548c\u53ef\u79fb\u690d\u6027\u3002 \u8be5\u8ba1\u5212\u4ee5\u5176\u5bf9\u5f00\u653e\u6e90\u4ee3\u7801\u7684\u575a\u6301\u3001\u9ad8\u8d28\u91cf\u7684\u6587\u6863\u3001\u575a\u5b9a\u7684\u8f6f\u4ef6\u8bb8\u53ef\u8bc1\u548c\u4e13\u6ce8\u4e8e\u7cfb\u7edf\u5b89\u5168\u53ca\u4ee3\u7801\u8d28\u91cf\u800c\u95fb\u540d\u3002\u9664\u4e86\u64cd\u4f5c\u7cfb\u7edf\uff0cOpenBSD\u9879\u76ee\u5df2\u4e3a\u4f17\u591a\u5b50\u7cfb\u7edf\u7f16\u5199\u4e86\u53ef\u79fb\u690d\u7248\u672c\uff0c\u5176\u4e2d\u6700\u503c\u5f97\u6ce8\u610f\u7684\u662fPF\u9632\u706b\u5899\u3001OpenSSH\u548cOpenNTPD\uff0c\u4f5c\u4e3a\u8f6f\u4ef6\u5305\uff0c\u5b83\u4eec\u5728\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u968f\u5904\u53ef\u89c1\u3002","title":"\u4e3b\u9875"},{"location":"#\u6b22\u8fce","text":"OpenBSD \u4e2d\u6587\u7ed3\u793e\u6587\u6863\u9879\u76ee\uff0c\u65e8\u5728\u4e3a\u4e2d\u6587 Unix \u4e0e BSD \u793e\u533a\u521b\u5efa\u4fbf\u4e8e\u9605\u8bfb\u7684\u4e2d\u6587\u6587\u6863\u3002\u8bf7\u53c2\u9605\u76ee\u5f55\u4ee5\u83b7\u53d6\u8be6\u60c5\u3002 For non-chinese visitor, here is a page about us .","title":"\u6b22\u8fce\uff01"},{"location":"#\u5173\u4e8e-openbsd","text":"\u9ed8\u8ba4\u5b89\u88c5\u4e0b\uff0c\u5728\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u5185\u53ea\u53d1\u73b0\u4e86\u4e24\u4e2a\u8fdc\u7a0b\u6f0f\u6d1e\uff01 OpenBSD \u9879\u76ee\u63d0\u4f9b\u4e86\u4e00\u4e2a\u81ea\u7531\u53ef\u7528\u7684\u57fa\u4e8e4.4BSD\u7cfb\u7edf\u7684\u591a\u5e73\u53f0UNIX\u7cfb\u64cd\u4f5c\u7cfb\u7edf\u3002\u6211\u4eec\u805a\u7126\u4e8e\u6b63\u786e\u6027\u3001\u5b89\u5168\u6027\u3001\u6807\u51c6\u5316\u548c\u53ef\u79fb\u690d\u6027\u3002 \u8be5\u8ba1\u5212\u4ee5\u5176\u5bf9\u5f00\u653e\u6e90\u4ee3\u7801\u7684\u575a\u6301\u3001\u9ad8\u8d28\u91cf\u7684\u6587\u6863\u3001\u575a\u5b9a\u7684\u8f6f\u4ef6\u8bb8\u53ef\u8bc1\u548c\u4e13\u6ce8\u4e8e\u7cfb\u7edf\u5b89\u5168\u53ca\u4ee3\u7801\u8d28\u91cf\u800c\u95fb\u540d\u3002\u9664\u4e86\u64cd\u4f5c\u7cfb\u7edf\uff0cOpenBSD\u9879\u76ee\u5df2\u4e3a\u4f17\u591a\u5b50\u7cfb\u7edf\u7f16\u5199\u4e86\u53ef\u79fb\u690d\u7248\u672c\uff0c\u5176\u4e2d\u6700\u503c\u5f97\u6ce8\u610f\u7684\u662fPF\u9632\u706b\u5899\u3001OpenSSH\u548cOpenNTPD\uff0c\u4f5c\u4e3a\u8f6f\u4ef6\u5305\uff0c\u5b83\u4eec\u5728\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u968f\u5904\u53ef\u89c1\u3002","title":"\u5173\u4e8e OpenBSD"},{"location":"about/","text":"\u5173\u4e8e OpenBSD \u4e2d\u6587\u7ed3\u793e \u00b6","title":"\u5173\u4e8e OpenBSD \u4e2d\u6587\u7ed3\u793e"},{"location":"about/#\u5173\u4e8e-openbsd-\u4e2d\u6587\u7ed3\u793e","text":"","title":"\u5173\u4e8e OpenBSD \u4e2d\u6587\u7ed3\u793e"},{"location":"about/international-about/","text":"About Us \u00b6 OpenBSD \u4e2d\u6587\u7ed3\u793e (OpenBSD Chinese Association) is a OpenBSD user group in China. Our aim is to be a friendly support network for Chinese users, who want to learn and discuss Linux, OpenBSD, or other Unix-type systems. Connected via network, we focus on providing localized document and help each other. Mailing List \u00b6 We use mailing list to communicate. To subscribe to the list, visit this page . You can also review the mailing list archives . Instant Messaging \u00b6 We also chat on our Telegram group. You can directly join @openbsd_zh on Telegram. There an antispam bot using Chinese, so you may need to contact group admin for assistance in advance.","title":"International About\uff08\u82f1\u6587\u7b80\u4ecb\uff09"},{"location":"about/international-about/#about-us","text":"OpenBSD \u4e2d\u6587\u7ed3\u793e (OpenBSD Chinese Association) is a OpenBSD user group in China. Our aim is to be a friendly support network for Chinese users, who want to learn and discuss Linux, OpenBSD, or other Unix-type systems. Connected via network, we focus on providing localized document and help each other.","title":"About Us"},{"location":"about/international-about/#mailing-list","text":"We use mailing list to communicate. To subscribe to the list, visit this page . You can also review the mailing list archives .","title":"Mailing List"},{"location":"about/international-about/#instant-messaging","text":"We also chat on our Telegram group. You can directly join @openbsd_zh on Telegram. There an antispam bot using Chinese, so you may need to contact group admin for assistance in advance.","title":"Instant Messaging"},{"location":"about/terminology/","text":"\u672f\u8bed\u8868 \u00b6 ports <-> ports\u6e90\u7801\u6811 Ports collections \uff08\u53c8\u79f0 ports trees \u6216\u76f4\u63a5\u7b80\u79f0 ports\uff09\u662f\u4e00\u7cfb\u5217\u7531 BSD \u7cfb\u5217\u64cd\u4f5c\u7cfb\u7edf \uff08\u6bd4\u5982 FreeBSD\uff0cNetBSD\uff0c\u548c OpenBSD\uff09\u63d0\u4f9b\u7684\u4e00\u4e9b makefile \u548c patch (Unix)\uff0c\u662f\u4e00\u79cd\u7b80\u5355\u7684\u5b89\u88c5\u4ee5\u53ca\u521b\u5efa\u4e8c\u8fdb\u5236\u5305\u7684\u65b9\u6cd5\u3002 \u5b83\u4eec\u901a\u5e38\u57fa\u4e8e\u8f6f\u4ef6\u5305\u7ba1\u7406\u7cfb\u7edf\uff0c\u5e76\u5e26\u6709 ports handling package \u521b\u5efa\u4ee5\u53ca\u9644\u52a0\u5de5\u5177\u4ee5\u5bf9\u8f6f\u4ef6\u5305\u5220\u9664\u3001\u589e\u6dfb\u6216\u8fdb\u884c\u5176\u4ed6\u64cd\u4f5c\u3002 disk label <-> BSD \u76d8\u6807 Disk labels\uff0cdisklabel\uff08\u53c8\u79f0\u4e3a BSD \u76d8\u6807\uff09\u7528\u4e8e\u7ba1\u7406 OpenBSD \u6587\u4ef6\u7cfb\u7edf\u5206\u533a\u3002 \u5176\u7528\u6765\u514b\u670d\u5728\u67d0\u4e9b\u7279\u5b9a\u67b6\u6784\u4e0a\u5bf9\u78c1\u76d8\u5206\u533a\u7684\u9650\u5236\uff0c\u4f8b\u5982\u5728i386\u67b6\u6784\u4e0a\uff0c\u6bcf\u4e2a\u78c1\u76d8\u53ea\u80fd\u5305\u542b\u56db\u4e2aMBR\u4e3b\u5206\u533a\uff0c\u800c\u4efb\u4f55\u4e00\u4e2a\u8fd9\u6837\u7684\u4e3b\u5206\u533a\u90fd\u53ef\u4ee5\u5305\u542b\u4efb\u610f\u6570\u91cf\u7684OpenBSD\u5206\u533a\u3002 \u5b83\u4eec\u5305\u542b\u6709\u5173\u78c1\u76d8\u7684\u67d0\u4e9b\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f8b\u5982 disklabel(5) \u624b\u518c\u9875\u4e2d\u7684\u8be6\u7ec6\u63cf\u8ff0\u7684\u9a71\u52a8\u5668\u51e0\u4f55\u7ed3\u6784\u548c\u6587\u4ef6\u7cfb\u7edf\u4fe1\u606f\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 disklabel(8) \u547d\u4ee4\u7f16\u8f91BSD\u76d8\u6807\u3002","title":"\u672f\u8bed\u8868"},{"location":"about/terminology/#\u672f\u8bed\u8868","text":"ports <-> ports\u6e90\u7801\u6811 Ports collections \uff08\u53c8\u79f0 ports trees \u6216\u76f4\u63a5\u7b80\u79f0 ports\uff09\u662f\u4e00\u7cfb\u5217\u7531 BSD \u7cfb\u5217\u64cd\u4f5c\u7cfb\u7edf \uff08\u6bd4\u5982 FreeBSD\uff0cNetBSD\uff0c\u548c OpenBSD\uff09\u63d0\u4f9b\u7684\u4e00\u4e9b makefile \u548c patch (Unix)\uff0c\u662f\u4e00\u79cd\u7b80\u5355\u7684\u5b89\u88c5\u4ee5\u53ca\u521b\u5efa\u4e8c\u8fdb\u5236\u5305\u7684\u65b9\u6cd5\u3002 \u5b83\u4eec\u901a\u5e38\u57fa\u4e8e\u8f6f\u4ef6\u5305\u7ba1\u7406\u7cfb\u7edf\uff0c\u5e76\u5e26\u6709 ports handling package \u521b\u5efa\u4ee5\u53ca\u9644\u52a0\u5de5\u5177\u4ee5\u5bf9\u8f6f\u4ef6\u5305\u5220\u9664\u3001\u589e\u6dfb\u6216\u8fdb\u884c\u5176\u4ed6\u64cd\u4f5c\u3002 disk label <-> BSD \u76d8\u6807 Disk labels\uff0cdisklabel\uff08\u53c8\u79f0\u4e3a BSD \u76d8\u6807\uff09\u7528\u4e8e\u7ba1\u7406 OpenBSD \u6587\u4ef6\u7cfb\u7edf\u5206\u533a\u3002 \u5176\u7528\u6765\u514b\u670d\u5728\u67d0\u4e9b\u7279\u5b9a\u67b6\u6784\u4e0a\u5bf9\u78c1\u76d8\u5206\u533a\u7684\u9650\u5236\uff0c\u4f8b\u5982\u5728i386\u67b6\u6784\u4e0a\uff0c\u6bcf\u4e2a\u78c1\u76d8\u53ea\u80fd\u5305\u542b\u56db\u4e2aMBR\u4e3b\u5206\u533a\uff0c\u800c\u4efb\u4f55\u4e00\u4e2a\u8fd9\u6837\u7684\u4e3b\u5206\u533a\u90fd\u53ef\u4ee5\u5305\u542b\u4efb\u610f\u6570\u91cf\u7684OpenBSD\u5206\u533a\u3002 \u5b83\u4eec\u5305\u542b\u6709\u5173\u78c1\u76d8\u7684\u67d0\u4e9b\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f8b\u5982 disklabel(5) \u624b\u518c\u9875\u4e2d\u7684\u8be6\u7ec6\u63cf\u8ff0\u7684\u9a71\u52a8\u5668\u51e0\u4f55\u7ed3\u6784\u548c\u6587\u4ef6\u7cfb\u7edf\u4fe1\u606f\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 disklabel(8) \u547d\u4ee4\u7f16\u8f91BSD\u76d8\u6807\u3002","title":"\u672f\u8bed\u8868"},{"location":"contribution/contributing/","text":"\u8d21\u732e\u6307\u5357 \u00b6 Git \u4e0e Github \u6307\u5357 \u00b6 \u7528 \u5355\u72ec\u7684\u5206\u652f \u6765\u4fdd\u5b58\u60a8\u7684 Git \u63d0\u4ea4\uff08\u4e0d\u8981\u76f4\u63a5 commit \u5230 main \u5206\u652f\uff09 \u6dfb\u52a0\u6587\u7ae0\u65f6\uff0c\u4e00\u4e2a\u62c9\u53d6\u8bf7\u6c42\uff08PR\uff09\u6216\u63d0\u4ea4\uff08commit\uff09\u5bf9\u5e94\u4e00\u7bc7\u6587\u7ae0\u3002\u5982\u679c\u60a8\u4f7f\u7528\u4e86\u591a\u4e2a\u63d0\u4ea4\uff0c\u8bf7\u8003\u8651\u5c06\u60a8\u7684\u63d0\u4ea4\u6324\u538b\uff08squash\uff09\u5230\u4e00\u4e2a\u3002 \u63d0\u4ea4\u4e4b\u524d\uff0c\u5728\u672c\u5730\u9884\u89c8\u770b\u770b\u3002 \u5207\u6362\u5230\u5355\u72ec\u5206\u652f \u00b6 git fetch upstream git checkout -b translate-faq4 upstream/master \u6784\u5efa\u672c\u7ad9 \u00b6 \u672c\u7ad9\u91c7\u7528 MkDocs \u6784\u5efa\uff0c\u9700\u8981 Python \u73af\u5883\u3002\u8981\u6784\u5efa\u672c\u7ad9\uff0c\u9700\u8981\u5b89\u88c5 Python3\u3002\u4ee5\u4e0b\u6d41\u7a0b\u5047\u8bbe\u60a8\u5df2\u7ecf\u5b89\u88c5\uff0c\u4e14\u5728 Unix-like \u73af\u5883\u4e0b\u3002\uff08Linux \u6216\u8005 *BSD\uff09 \u8bbe\u7f6e Python \u73af\u5883\uff1a python3 -m venv ./venv source ./venv/bin/activate \u5b89\u88c5 MkDocs \u4e0e\u4e3b\u9898\uff1a pip install mkdocs[i18n] mkdocs-material \u672c\u5730\u9884\u89c8\uff1a mkdocs serve","title":"\u603b\u8ff0"},{"location":"contribution/contributing/#\u8d21\u732e\u6307\u5357","text":"","title":"\u8d21\u732e\u6307\u5357"},{"location":"contribution/contributing/#git-\u4e0e-github-\u6307\u5357","text":"\u7528 \u5355\u72ec\u7684\u5206\u652f \u6765\u4fdd\u5b58\u60a8\u7684 Git \u63d0\u4ea4\uff08\u4e0d\u8981\u76f4\u63a5 commit \u5230 main \u5206\u652f\uff09 \u6dfb\u52a0\u6587\u7ae0\u65f6\uff0c\u4e00\u4e2a\u62c9\u53d6\u8bf7\u6c42\uff08PR\uff09\u6216\u63d0\u4ea4\uff08commit\uff09\u5bf9\u5e94\u4e00\u7bc7\u6587\u7ae0\u3002\u5982\u679c\u60a8\u4f7f\u7528\u4e86\u591a\u4e2a\u63d0\u4ea4\uff0c\u8bf7\u8003\u8651\u5c06\u60a8\u7684\u63d0\u4ea4\u6324\u538b\uff08squash\uff09\u5230\u4e00\u4e2a\u3002 \u63d0\u4ea4\u4e4b\u524d\uff0c\u5728\u672c\u5730\u9884\u89c8\u770b\u770b\u3002","title":"Git \u4e0e Github \u6307\u5357"},{"location":"contribution/contributing/#\u5207\u6362\u5230\u5355\u72ec\u5206\u652f","text":"git fetch upstream git checkout -b translate-faq4 upstream/master","title":"\u5207\u6362\u5230\u5355\u72ec\u5206\u652f"},{"location":"contribution/contributing/#\u6784\u5efa\u672c\u7ad9","text":"\u672c\u7ad9\u91c7\u7528 MkDocs \u6784\u5efa\uff0c\u9700\u8981 Python \u73af\u5883\u3002\u8981\u6784\u5efa\u672c\u7ad9\uff0c\u9700\u8981\u5b89\u88c5 Python3\u3002\u4ee5\u4e0b\u6d41\u7a0b\u5047\u8bbe\u60a8\u5df2\u7ecf\u5b89\u88c5\uff0c\u4e14\u5728 Unix-like \u73af\u5883\u4e0b\u3002\uff08Linux \u6216\u8005 *BSD\uff09 \u8bbe\u7f6e Python \u73af\u5883\uff1a python3 -m venv ./venv source ./venv/bin/activate \u5b89\u88c5 MkDocs \u4e0e\u4e3b\u9898\uff1a pip install mkdocs[i18n] mkdocs-material \u672c\u5730\u9884\u89c8\uff1a mkdocs serve","title":"\u6784\u5efa\u672c\u7ad9"},{"location":"contribution/translation_rules/","text":"\u7ffb\u8bd1\u89c4\u8303 \u00b6 \u5173\u4e8e\u672c\u6587 \u00b6 \u4e3a\u7ffb\u8bd1 OpenBSD \u5b98\u65b9\u6587\u6863\u63d0\u4f9b\u7edf\u4e00\u7684\u7ffb\u8bd1\u89c4\u8303\u6307\u5357\u3002 \u8981\u6c42 \u00b6 \u4e00\u5207\u547d\u4ee4 \u914d\u7f6e\u9009\u9879\u4fdd\u7559\u539f\u72b6\u4f46\u53ef\u4ee5\u52a0\u62ec\u53f7\u89e3\u91ca \u65b0\u540d\u8bcd\u7ffb\u8bd1\u524d\u67e5\u770b\u672f\u8bed\u8868\uff0c\u786e\u8ba4\u4e0d\u5b58\u5728\u63d0\u4ea4 OpenBSD \u4e2d\u6587\u7fa4\u7ec4\u6216\u5f00\u542f\u4e00\u4e2a\u65b0\u7684 issues \u8fdb\u884c\u8ba8\u8bba\u3002 \u5173\u4e8e\u4e2d\u82f1\u6587\u6df7\u5408\u6392\u7248 \u00b6 \u63a8\u8350\u9605\u8bfb\uff1a Chinese Copywriting Guidelines\uff1a\u4e2d\u6587\u6587\u6848\u6392\u7248\u6307\u5317\uff08\u7b80\u4f53\u4e2d\u6587\u7248\uff09 Markdown \u57fa\u672c\u8bed\u6cd5","title":"\u7ffb\u8bd1\u89c4\u8303"},{"location":"contribution/translation_rules/#\u7ffb\u8bd1\u89c4\u8303","text":"","title":"\u7ffb\u8bd1\u89c4\u8303"},{"location":"contribution/translation_rules/#\u5173\u4e8e\u672c\u6587","text":"\u4e3a\u7ffb\u8bd1 OpenBSD \u5b98\u65b9\u6587\u6863\u63d0\u4f9b\u7edf\u4e00\u7684\u7ffb\u8bd1\u89c4\u8303\u6307\u5357\u3002","title":"\u5173\u4e8e\u672c\u6587"},{"location":"contribution/translation_rules/#\u8981\u6c42","text":"\u4e00\u5207\u547d\u4ee4 \u914d\u7f6e\u9009\u9879\u4fdd\u7559\u539f\u72b6\u4f46\u53ef\u4ee5\u52a0\u62ec\u53f7\u89e3\u91ca \u65b0\u540d\u8bcd\u7ffb\u8bd1\u524d\u67e5\u770b\u672f\u8bed\u8868\uff0c\u786e\u8ba4\u4e0d\u5b58\u5728\u63d0\u4ea4 OpenBSD \u4e2d\u6587\u7fa4\u7ec4\u6216\u5f00\u542f\u4e00\u4e2a\u65b0\u7684 issues \u8fdb\u884c\u8ba8\u8bba\u3002","title":"\u8981\u6c42"},{"location":"contribution/translation_rules/#\u5173\u4e8e\u4e2d\u82f1\u6587\u6df7\u5408\u6392\u7248","text":"\u63a8\u8350\u9605\u8bfb\uff1a Chinese Copywriting Guidelines\uff1a\u4e2d\u6587\u6587\u6848\u6392\u7248\u6307\u5317\uff08\u7b80\u4f53\u4e2d\u6587\u7248\uff09 Markdown \u57fa\u672c\u8bed\u6cd5","title":"\u5173\u4e8e\u4e2d\u82f1\u6587\u6df7\u5408\u6392\u7248"},{"location":"openbsd-faq/faq1/","text":"OpenBSD FAQ - \u5bf9 OpenBSD \u7684\u7b80\u4ecb \u00b6 \u5173\u4e8e OpenBSD \u00b6 OpenBSD \u9879\u76ee \u63d0\u4f9b\u4e86\u4e00\u4e2a\u81ea\u7531\u53ef\u7528\u7684\u57fa\u4e8e 4.4BSD \u7cfb\u7edf\u7684\u591a\u5e73\u53f0 UNIX \u7cfb\u64cd\u4f5c\u7cfb\u7edf\u3002\u6211\u4eec\u7684 \u76ee\u6807 \u805a\u7126\u4e8e\u6b63\u786e\u6027\u3001\u5b89\u5168\u6027\u3001\u6807\u51c6\u5316\u548c\u53ef\u79fb\u690d\u6027\u3002 \u4e3a\u4ec0\u4e48\u6211\u8981\u4f7f\u7528OpenBSD\uff1f \u00b6 \u8fd9\u662f\u6211\u4eec\u8ba4\u4e3a OpenBSD \u662f\u4e00\u4e2a\u5f88\u6709\u7528\u64cd\u4f5c\u7cfb\u7edf\u7684\u539f\u56e0\uff1a OpenBSD \u53ef\u4ee5\u8fd0\u884c\u5728\u8bb8\u591a\u4e0d\u540c\u7684\u786c\u4ef6\u5e73\u53f0\u4e0a OpenBSD \u5728\u65e0\u6570\u7684\u6e90\u4ee3\u7801\u5ba1\u67e5\u540e\uff0c\u88ab\u5404\u5b89\u5168\u4e13\u5bb6\u89c6\u4e3a\u6700 \u5b89\u5168 \u7684 UNIX \u7cfb\u64cd\u4f5c\u7cfb\u7edf OpenBSD \u662f\u4e00\u4e2a\u5177\u6709\u514d\u8d39\u4e14\u5177\u6709\u5b8c\u6574\u7279\u6027\u7684 UNIX \u7cfb\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5e76\u540c\u65f6\u4ee5\u6e90\u4ee3\u7801\u548c\u4e8c\u8fdb\u5236\u683c\u5f0f\u63d0\u4f9b OpenBSD \u96c6\u6210\u4e86\u6700\u5148\u8fdb\u9002\u7528\u7684\u5b89\u5168\u6280\u672f\uff0c\u53ef\u4ee5\u88ab\u7528\u4f5c \u6784\u5efa\u9632\u706b\u5899 \u4ee5\u53ca\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u6784\u5efa\u79c1\u6709\u7f51\u7edc\u670d\u52a1 OpenBSD \u53d7\u76ca\u4e8e\u5728\u5404\u4e2a\u533a\u57df\u5f3a\u5927\u7684\u6301\u7eed\u5f00\u53d1\u8fdb\u7a0b\uff0c\u63d0\u4f9b\u4e86\u4e0e\u65b0\u5174\u6280\u672f\u3001\u56fd\u9645\u5316\u5f00\u53d1\u8005\u793e\u533a\u548c\u6700\u7ec8\u7528\u6237\u5408\u4f5c\u7684\u673a\u4f1a OpenBSD \u52aa\u529b\u6700\u5c0f\u5316\u81ea\u5b9a\u4e49\u548c\u5fae\u8c03\u7684\u9700\u6c42\u3002\u5bf9\u4e8e\u5e9e\u5927\u7684\u4e3b\u8981\u7528\u6237\u7fa4\u4f53\u800c\u8a00\uff0cOpenBSD \u5c31\u5728 \u4ed6\u4eec\u7684\u786c\u4ef6\u4e0a\u4e3a\u5e94\u7528\u800c\u826f\u597d\u5de5\u4f5c OpenBSD \u771f\u7684\u662f\u81ea\u7531\u7684\u5417\uff1f \u00b6 OpenBSD \u5b8c\u5168\u662f\u81ea\u7531\u7684\u3002\u4e8c\u8fdb\u5236\u6587\u4ef6\u662f\u81ea\u7531\u7684\uff0c\u6e90\u4ee3\u7801\u4e5f\u4e00\u6837\u3002OpenBSD \u7684\u6240\u6709\u7ec4\u6210\u90e8\u5206\u90fd\u6709\u4e3a\u81ea\u7531\u7684\u518d\u53d1\u884c\u63d0\u4f9b\u7684\u5408\u7406\u7684\u7248\u6743\u8bb8\u53ef\u6761\u7ea6\u3002\u66f4\u591a\u5173\u4e8e OpenBSD \u7684\u7248\u6743\u653f\u7b56\u53ef\u4ee5 \u5728\u6b64 \u88ab\u627e\u5230\u3002 OpenBSD \u7684\u4e3b\u8981\u7ef4\u62a4\u8005\u81ea\u638f\u8170\u5305\u7ef4\u62a4\u6b64\u9879\u76ee\u3002\u8fd9\u5305\u62ec\u4e3a\u4ed6\u4eec\u4e3a\u7f16\u7a0b\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u7528\u6765\u652f\u6301\u8bb8\u591a\u79fb\u690d\u7684\u8bbe\u5907\uff0c\u7528\u6765\u4e3a\u60a8\u53d1\u884c OpenBSD \u6240\u7528\u7684\u7f51\u7edc\u8d44\u6e90\u4ee5\u53ca\u89e3\u7b54\u95ee\u9898\u548c\u7814\u7a76 Bug \u62a5\u544a\u7684\u65f6\u95f4\u3002OpenBSD \u7684\u5f00\u53d1\u8005\u4eec\u5e76\u4e0d\u5bcc\u6709\uff0c\u4e0d\u8fc7\u5c0f\u5c0f\u7684\u65f6\u95f4\uff0c\u8bbe\u5907\u4ee5\u53ca\u8d44\u6e90\u7684\u6295\u5165\u4e5f\u53ef\u4ee5\u4ea7\u751f\u6781\u5927\u7684\u4f5c\u7528\u3002 \u57fa\u672c\u7cfb\u7edf\u4e2d\u5305\u542b\u4ec0\u4e48\uff1f \u00b6 OpenBSD\u53d1\u884c\u65f6\u5e26\u6709\u5927\u91cf\u7684\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u5305\uff0c\u5305\u62ec\uff1a X.org LLVM/Clang GCC Perl NSD \u4ee5\u53ca Unbound ncurses binutils gdb libfido2 OpenBSD \u56e2\u961f\u7ecf\u5e38\u4e3a\u7b2c\u4e09\u65b9\u4ea7\u54c1\u63d0\u4f9b\u8865\u4e01\uff0c\u8fd9\u901a\u5e38\u662f\u4e3a\u4e86\u63d0\u5347\u4ee3\u7801\u7684\u5b89\u5168\u6027\u6216\u662f\u8d28\u91cf\u3002\u5f88\u591a \u81ea\u5236\u7684\u8f6f\u4ef6 \u4e5f\u88ab\u5305\u542b\u5176\u4e2d\u3002\u9644\u52a0\u7684\u5e94\u7528\u53ef\u4ee5\u4f5c\u4e3a package \u800c\u53ef\u7528\u3002 \u4e3a\u4ec0\u4e48 xxx \u88ab\u5305\u542b\u4e86/\u6ca1\u88ab\u5305\u542b\uff1f \u00b6 \u4eba\u4eec\u7ecf\u5e38\u8be2\u95ee\u4e3a\u4ec0\u4e48\u67d0\u4e2a\u8f6f\u4ef6\u88ab\u5305\u542b\u6216\u8005\u6ca1\u6709\u88ab\u5305\u542b\u5728 OpenBSD \u4e2d\u3002\u7b54\u6848\u4e3b\u8981\u57fa\u4e8e\u4e24\u4e2a\u70b9\uff1a\u5f00\u53d1\u8005\u4eec\u7684\u613f\u671b\u548c\u4e0e\u6b64\u9879\u76ee \u76ee\u6807 \u7684\u517c\u5bb9\u6027\u3002\u6388\u6743\u534f\u8bae\u7ecf\u5e38\u662f\u6700\u5927\u7684\u95ee\u9898\uff1a\u6211\u4eec\u5e0c\u671b OpenBSD \u4fdd\u6301\u5bf9\u5168\u4e16\u754c\u4efb\u4f55\u4eba\u5bf9\u4e8e\u4efb\u4f55\u76ee\u7684\u7684\u53ef\u7528\u6027\u3002 \u4e0b\u4e00\u4e2a\u53d1\u884c\u7248\u672c\u4f55\u65f6\u53d1\u5e03\uff1f \u00b6 OpenBSD \u56e2\u961f\u5927\u7ea6\u6bcf\u516d\u4e2a\u6708\u53d1\u5e03\u4e00\u4e2a\u65b0\u7248\u672c\uff0c\u9884\u8ba1\u65f6\u95f4\u4e3a\u4e94\u6708\u548c\u5341\u4e00\u6708\u3002\u66f4\u591a\u5173\u4e8e\u5f00\u53d1\u5468\u671f\u7684\u4fe1\u606f\u53ef\u4ee5 \u5728\u6b64 \u88ab\u627e\u5230 \u786c\u4ef6\u652f\u6301 \u00b6 OpenBSD \u53ef\u4ee5\u8fd0\u884c\u5728\u4ee5\u4e0b \u5e73\u53f0 \u4e0a\uff1a alpha amd64 arm64 armv7 hppa i386 landisk luna88k macppc octeon powerpc64 riscv64 sparc64 \u8be6\u7ec6\u7684\u786c\u4ef6\u652f\u6301\u7ec6\u8282\u4f4d\u4e8e\u5404\u81ea\u7684\u5e73\u53f0\u9875\u9762\u4e0a\u3002 \u624b\u518c\u9875 \u00b6 OpenBSD\u5e26\u6709\u5927\u91cfman\u9875\u9762\u5f62\u5f0f\u7684\u624b\u518c\u9875\u3002\u5b83\u4eec\u662fOpenBSD\u6743\u5a01\u7684\u4fe1\u606f\u6e90\uff0c\u56e0\u6b64\u76f8\u5f53\u591a\u7684\u5de5\u4f5c\u88ab\u8fdb\u884c\u6765\u786e\u4fdd\u4ed6\u4eec\u6700\u65b0\u4e14\u7cbe\u786e\u65e0\u8bef\u3002\u5bf9\u7cfb\u7edf\u8fdb\u884c\u66f4\u6539\u7684\u5f00\u53d1\u8005\u5e94\u5f53\u968f\u4ed6\u4eec\u5bf9\u4ee3\u7801\u7684\u66f4\u6539\u66f4\u65b0\u624b\u518c\u9875\u3002\u800c\u5bf9\u4e8e\u7528\u6237\uff0c\u5728\u5bfb\u6c42\u5e2e\u52a9\u524d\u4e5f\u5e94\u5f53\u5148\u67e5\u770b\u624b\u518c\u9875\u3002 \u8fd9\u662f\u4e00\u4e2a\u4e00\u4e9b\u5bf9\u4e8e\u65b0\u7528\u6237\u6709\u5e2e\u52a9\u7684\u624b\u518c\u9875\u7684\u5217\u8868\uff1a afterboot(8) - \u5728\u7b2c\u4e00\u6b21\u5b8c\u5168\u542f\u52a8\u540e\u5e94\u5f53\u68c0\u67e5\u7684\u4e1c\u897f help(1) - \u5bf9\u4e8e\u65b0\u7528\u6237\u548c\u7ba1\u7406\u5458\u7684\u5e2e\u52a9 hier(7) - \u6587\u4ef6\u7cfb\u7edf\u7684\u7ed3\u6784 man(1) - \u663e\u793a\u624b\u518c\u9875 adduser(8) \u4ee5\u53ca rmuser(8) - \u6dfb\u52a0\u548c\u79fb\u9664\u65b0\u7528\u6237 reboot(8) , halt(8) \u4ee5\u53ca shutdown(8) \u505c\u6b62\u548c\u91cd\u542f\u7cfb\u7edf syspatch(8) - \u5e94\u7528\u5b89\u5168\u548c\u53ef\u9760\u6027\u66f4\u65b0 sysupgrade(8) - \u66f4\u65b0\u5230\u4e0b\u4e00\u4e2a OpenBSD \u53d1\u884c\u7248\u6216\u8005\u4e00\u4e2a\u66f4\u65b0\u7684\u5feb\u7167\u7248 dmesg(8) - \u91cd\u65b0\u663e\u793a\u5185\u6838\u542f\u52a8\u4fe1\u606f doas(1) - \u4ee5\u53e6\u4e00\u4e2a\u7528\u6237\u7684\u8eab\u4efd\u8fd0\u884c\u547d\u4ee4 tmux(1) - \u7ec8\u7aef\u590d\u7528\u5668 ifconfig(8) - \u914d\u7f6e\u7f51\u7edc\u63a5\u53e3\u53c2\u6570 ftp(1) - \u4ece\u7f51\u7edc\u4e0a\u4e0b\u8f7d\u6587\u4ef6(\u652f\u6301 FTP/HTTP/HTTPS \u534f\u8bae) login.conf(5) - \u767b\u9646\u914d\u7f6e\u6587\u4ef6\u7684\u683c\u5f0f sendbug(1) - \u62a5\u544a\u4e00\u4e2a\u4f60\u627e\u5230\u7684 Bug \u5168\u90e8\u7684OpenBSD\u624b\u518c\u9875\u53ef\u4ee5\u5728 man.openbsd.org \u7f51\u7ad9\u6216 man70.tgz \u6587\u4ef6\u4e2d\u88ab\u627e\u5230\u3002 \u603b\u4e4b\uff0c\u5982\u679c\u60a8\u77e5\u9053\u4e00\u4e2a\u547d\u4ee4\u6216\u8005\u624b\u518c\u9875\u7684\u540d\u5b57\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c man \u547d\u4ee4 \u6765\u9605\u8bfb\u5b83\u3002\u5982\u679c\u4f60\u4e0d\u77e5\u9053\u547d\u4ee4\u7684\u540d\u5b57\uff0c\u6216\u8005\u5982\u679c man \u547d\u4ee4 \u6ca1\u6709\u627e\u5230\u624b\u518c\u9875\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c apropos \u4e00\u4e9b\u4e1c\u897f \u6216\u8005 man -k \u4e00\u4e9b\u4e1c\u897f \u6765\u67e5\u627e\u6570\u636e\u5e93\uff0c\u201c\u4e00\u4e9b\u4e1c\u897f\u201d\u5c31\u662f\u4e00\u4e2a\u5f88\u53ef\u80fd\u5728\u60a8\u8981\u67e5\u627e\u7684\u624b\u518c\u9875\u6807\u9898\u4e2d\u51fa\u73b0\u7684\u5355\u8bcd\u3002 $ apropos \"time zone\" tzfile(5) - time zone information zdump(8) - time zone dumper zic(8) - time zone compiler \u8fd9\u4e9b\u62ec\u53f7\u91cc\u9762\u6570\u5b57\u8868\u793a\u8be5\u624b\u518c\u9875\u5b58\u5728\u7684\u7ae0\u8282\u3002\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u80fd\u4f1a\u9047\u5230\u5206\u6563\u5728\u4e0d\u540c\u7ae0\u8282\u4e2d\u5374\u6709\u76f8\u540c\u6807\u8bc6\u7b26\u7684\u624b\u518c\u9875\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u60a8\u60f3\u8981\u77e5\u9053cron\u5b88\u62a4\u8fdb\u7a0b\u7684\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u3002\u53ea\u8981\u60a8\u77e5\u9053\u60a8\u60f3\u8981\u7684\u624b\u518c\u9875\u6240\u5728\u7684\u7ae0\u8282\uff0c\u60a8\u53ef\u4ee5\u8fd0\u884c man n \u547d\u4ee4 \uff0c\u5176\u4e2dn\u662f\u624b\u518c\u7ae0\u8282\u5e8f\u53f7\u3002 $ man -k cron cron(8) - clock daemon crontab(1) - maintain crontab files for individual users crontab(5) - tables for driving cron $ man 5 crontab \u90ae\u4ef6\u5217\u8868 \u00b6 OpenBSD \u9879\u76ee\u5305\u542b\u51e0\u4e2a\u4f60\u53ef\u4ee5\u8ba2\u9605\u548c\u8ddf\u8fdb\u7684\u90ae\u4ef6\u5217\u8868\u3002\u6bd4\u8f83\u53d7\u6b22\u8fce\u7684\u90ae\u4ef6\u5217\u8868\u6709\uff1a announce - \u516c\u544a\u548c\u5b89\u5168\u8b66\u62a5 bugs - \u901a\u8fc7 sendbug(1) \u6536\u5230\u7684bug\u53cd\u9988\u53ca\u76f8\u5173\u8ba8\u8bba misc - \u603b\u7684\u7528\u6237\u95ee\u9898\u548c\u89e3\u7b54 ports - \u8ba8\u8bbaports\u6e90\u7801\u6811 source-changes - \u81ea\u52a8\u6784\u5efa\u7684CVS\u6e90\u7801\u6811\u6539\u52a8 tech - OpenBSD\u5f00\u53d1\u8005\u548c\u9ad8\u7ea7\u7528\u6237\u5bf9\u6280\u672f\u8bdd\u9898\u7684\u8ba8\u8bba \u5728\u5411\u4efb\u4f55\u90ae\u4ef6\u5217\u8868\u53d1\u9001\u95ee\u9898\u4e4b\u524d\uff0c\u8bf7\u68c0\u67e5\u90ae\u4ef6\u5217\u8868\u7684\u5f52\u6863\u4e2d\u5df2\u7ecf\u88ab\u65e0\u6570\u6b21\u95ee\u8fc7\u7684\u95ee\u9898\u3002\u5373\u4f7f\u60a8\u53ef\u80fd\u662f\u7b2c\u4e00\u6b21\u9047\u5230\u6b64\u95ee\u9898\uff0c\u90ae\u4ef6\u5217\u8868\u4e2d\u7684\u5176\u4ed6\u8ba2\u9605\u8005\u53ef\u80fd\u5728\u4e0a\u5468\u521a\u89c1\u8fc7\u8fd9\u4e2a\u95ee\u9898\u51e0\u6b21\uff0c\u4e0d\u592a\u5e0c\u671b\u518d\u89c1\u5230\u5b83\u3002\u5982\u679c\u8be2\u95ee\u7684\u95ee\u9898\u53ef\u80fd\u4e0e\u786c\u4ef6\u76f8\u5173\uff0c\u8bf7\u4e00\u5b9a\u5728\u90ae\u4ef6\u4e2d\u5305\u542b\u5b8c\u6574\u7684 dmesg(8) \u8f93\u51fa\u3002 \u4f60\u53ef\u4ee5\u627e\u5230\u51e0\u4e2a\u90ae\u4ef6\u5217\u8868\u7684\u5f52\u6863\uff0c\u5176\u4ed6\u7684\u6307\u5bfc\u548c\u66f4\u591a\u7684\u4fe1\u606f\u4f4d\u4e8e \u90ae\u4ef6\u5217\u8868\u9875\u9762 \u4e0a\u3002\u5bf9\u4e8e\u90ae\u4ef6\u5217\u8868\u7684\u8ba2\u9605\u53ef\u4ee5\u5f88\u5bb9\u6613\u901a\u8fc7 Web\u754c\u9762 \u5b8c\u6210\u3002 \uff08\u4ece\u5176\u4ed6\u7cfb\u7edf\uff09\u8fc1\u79fb\u5230 OpenBSD \u00b6 \u5982\u679c\u60a8\u5df2\u7ecf\u8bfb\u8fc7\u5176\u4ed6\u5173\u4e8e Unix \u7c7b\u7cfb\u7edf\u7684 \u4f18\u79c0\u7684\u8457\u4f5c \uff0c\u7406\u89e3\u4e86 Unix \u54f2\u5b66\u5e76\u4e5f\u5c06\u4f60\u7684\u77e5\u8bc6\u9762\u6269\u5c55\u5230\u4e86\u67d0\u4e00\u4e2a\u7279\u5b9a\u5e73\u53f0\u4e0a\uff0c\u60a8\u5c06\u4f1a\u5bf9 OpenBSD \u611f\u5230\u975e\u5e38\u719f\u6089\u3002 \u8fd9\u91cc\u6709\u4e00\u4e9b OpenBSD \u548c\u5176\u4ed6 Unix \u53d8\u79cd\u4e4b\u95f4\u6700\u7ecf\u5e38\u88ab\u9047\u5230\u7684\u5dee\u522b\uff1a OpenBSD \u662f\u4e00\u4e2a BSD \u98ce\u683c\u7684 Unix \u7cfb\u7edf\uff0c\u7d27\u5bc6\u9075\u5faa\u8fd9 4.4BSD \u7684\u8bbe\u8ba1\u601d\u60f3\u3002Linux \u4e0e Solaris \u662f System V \u98ce\u683c\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002\u4e00\u4e9b Unix \u7cfb\u64cd\u4f5c\u7cfb\u7edf\u6df7\u5408\u7740 System V \u4e0e BSD \u7684\u98ce\u683c\u3002\u4e00\u4e2a\u56e0\u6b64\u7ecf\u5e38\u9020\u6210\u6df7\u4e71\u7684\u5730\u65b9\u662f \u542f\u52a8\u811a\u672c \u3002OpenBSD \u4f7f\u7528 rc(8) \u7cfb\u7edf\u3002 OpenBSD \u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u7cfb\u7edf\uff0c\u5404\u4e2a\u90e8\u5206\u5e94\u5f53\u4fdd\u6301\u540c\u6b65\u3002\u5b83\u5e76\u4e0d\u662f\u53ef\u4ee5\u88ab\u72ec\u7acb\u5347\u7ea7\u7684\u3001\u4e00\u4e2a\u5185\u6838\u548c\u4e00\u5957\u5de5\u5177\u7684\u805a\u5408\u4f53\u3002 OpenBSD \u7ef4\u62a4\u7740\u4e00\u5957 ports\u6e90\u7801\u6811 \u6765\u63d0\u4f9b\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u3002\u9884\u7f16\u8bd1\u7684 \u5305(packages) \u7531 OpenBSD ports \u56e2\u961f\u521b\u5efa\u548c\u7ef4\u62a4\u3002 OpenBSD \u4f7f\u7528 CVS \u6765\u8ffd\u8e2a\u4ee3\u7801\u66f4\u6539\u3002OpenBSD \u63d0\u5021 \u533f\u540d CVS \uff0c\u5176\u5141\u8bb8\u4efb\u4f55\u4eba\u5728\u4efb\u4f55\u65f6\u523b\u63d0\u53d6 OpenBSD \u4efb\u4f55\u7248\u672c\u7684\u5b8c\u6574\u6e90\u4ee3\u7801\u3002\u5176\u4e5f\u5305\u542b\u4e00\u4e2a Web \u754c\u9762 \u3002 OpenBSD \u5df2\u7ecf\u901a\u8fc7\u4e86\u91cd\u5ea6\u4e0d\u95f4\u65ad\u7684\u5b89\u5168\u6027\u5ba1\u67e5\u6765\u786e\u4fdd\u4ee3\u7801\u7684\u8d28\u91cf\u4e0e\u5b89\u5168\u6027\u3002 OpenBSD \u4e0d\u652f\u6301\u65e5\u5fd7\u6587\u4ef6\u7cfb\u7edf\u3002\u76f8\u53cd\uff0c\u6211\u4eec\u4f7f\u7528\u5feb\u901f\u6587\u4ef6\u7cfb\u7edf(Fast File System,FFS)\u7684 \u8f6f\u540c\u6b65 \u7279\u6027\u3002 OpenBSD \u5e26\u6709 \u5305\u8fc7\u6ee4\u5668(Packet Filter,PF) \u3002\u8fd9\u610f\u5473\u7740\u7f51\u7edc\u5730\u5740\u8f6c\u6362(NAT)\uff0c\u961f\u5217\u7b49\u5f85\u4e0e\u5305\u8fc7\u6ee4\u7531 pfctl(8) \uff0c pf(4) \u548c pf.conf(5) \u5904\u7406\u3002 OpenBSD \u7684\u9ed8\u8ba4 Shell \u662f ksh \uff0c\u5176\u57fa\u4e8e\u4f4d\u4e8e\u516c\u6709\u9886\u57df\u7684 Korn Shell\u3002\u4f8b\u5982 bash \u7684\u5176\u4ed6 Shell \u53ef\u4ee5\u4ece \u5305 \u4e2d\u88ab\u6dfb\u52a0\u3002 \u8bbe\u5907\u7531\u9a71\u52a8\u7a0b\u5e8f\u547d\u540d\uff0c\u800c\u4e0d\u662f\u901a\u8fc7\u8bbe\u5907\u7c7b\u578b\u547d\u540d\u3002\u6362\u800c\u8a00\u4e4b\uff0c\u6ca1\u6709 eth0 eth1 \u8bbe\u5907\u3002\u5bf9\u4e8e\u4e00\u4e2a Intel PRO/1000 \u4ee5\u592a\u7f51\u5361\uff0c\u547d\u540d\u53ef\u80fd\u662f em0 \uff1b\u5bf9\u4e8e Broadcom BCM57xx \u6216\u8005 BCM590x \u4ee5\u592a\u7f51\u8bbe\u5907\uff0c\u547d\u540d\u53ef\u80fd\u662f bge0\uff1b\u5bf9\u4e8e\u4e00\u4e2a RaLink \u65e0\u7ebf\u8bbe\u5907\uff0c\u547d\u540d\u53ef\u80fd\u662f ral0\uff0c\u8bf8\u5982\u6b64\u7c7b\u3002 OpenBSD/i386\uff0camd64 \u548c\u5176\u4ed6\u51e0\u4e2a\u5e73\u53f0\u4f7f\u7528\u53cc\u5c42\u78c1\u76d8\u5206\u533a\u7cfb\u7edf\uff0c\u5176\u4e2d\u7b2c\u4e00\u5c42\u662f fdisk BIOS \u53ef\u89c1\u7684\u5206\u533a\uff0c\u7b2c\u4e8c\u5c42\u662f\u76d8\u6807\uff08 disklabel \uff09 \u4e00\u4e9b\u5176\u4ed6\u7684\u64cd\u4f5c\u7cfb\u7edf\u9f13\u52b1\u4f60\u4e3a\u4f60\u7684\u673a\u5668\u5b9a\u5236\u5185\u6838\u3002OpenBSD \u7528\u6237\u5219\u88ab\u9f13\u52b1\u7740\u4f7f\u7528\u5f00\u53d1\u8005\u63d0\u4f9b\u7684\u6807\u51c6\u901a\u7528\u5185\u6838\u3002 \u62a5\u544a Bug \u00b6 \u62a5\u544a Bug \u662f\u6700\u7ec8\u7528\u6237\u6700\u91cd\u8981\u7684\u8d23\u4efb\u4e4b\u4e00\u3002\u4e3a\u4e86\u786e\u5b9a\u8f83\u4e25\u91cd\u7684\u95ee\u9898\uff0c\u9700\u8981\u6781\u5176\u8be6\u7ec6\u7684\u6709\u5173\u7ec6\u8282\u3002\u4f8b\u5982\uff0c\u4ee5\u4e0b\u5373\u662f\u4e00\u4efd\u6070\u5f53\u7684 bug \u62a5\u544a\uff1a From: user@example.com To: bugs@openbsd.org Subject: 3.3-beta panics on a SPARCStation2 OpenBSD 3.2 installed from an official CD-ROM installed and ran fine on this machine. After doing a clean install of 3.3-beta from a mirror, I find the system randomly panics after a period of use, and predictably and quickly when starting X. This is the dmesg output: [...] This is the panic I got when attempting to start X: panic: pool_get(mclpl): free list modified: magic=78746572; page 0xfaa93000; item addr 0xfaa93000 Stopped at Debugger+0x4: jmpl [%o7 + 0x8], %g0 https://www.openbsd.org/ddb.html describes the minimum info required in bug reports. Insufficient info makes it difficult to find and fix bugs. ddb> trace [...] Thank you! \u53e6\u89c1 \u6b64\u9875\u9762 \u6765\u5f97\u5230\u5173\u4e8e\u521b\u5efa\u548c\u63d0\u4ea4 Bug \u62a5\u544a\u7684\u7ec6\u8282\u3002\u826f\u597d\u7684 Bug \u62a5\u544a\u5e94\u8be5\u5305\u62ec\u5173\u4e8e\u53d1\u751f\u4e86\u4ec0\u4e48\uff0c\u60a8\u8ba1\u7b97\u673a\u7684\u7cbe\u786e\u914d\u7f6e\u548c\u91cd\u73b0\u95ee\u9898\u7684\u65b9\u5f0f\u3002\u53ea\u8981\u53ef\u80fd\uff0c\u8bf7\u4f7f\u7528 sendbug(1) \u6765\u62a5\u544a\u60a8\u7684\u95ee\u9898\u3002\u5426\u5219\uff0c\u8bf7\u81f3\u5c11\u5305\u62ec\u60a8\u7cfb\u7edf\u7684 dmesg(8) \u8f93\u51fa\u3002 sendbug(1) \u547d\u4ee4\u9700\u8981\u4f60\u7684\u7cfb\u7edf\u80fd\u591f\u53d1\u9001\u90ae\u4ef6\u3002 OpenBSD \u90ae\u4ef6\u670d\u52a1\u5668\u4f7f\u7528 spamd(8) \u5b9e\u73b0\u7070\u540d\u5355\u5783\u573e\u90ae\u4ef6\u5904\u7406\uff0c\u6240\u4ee5\u5728\u90ae\u4ef6\u670d\u52a1\u5668\u63a5\u53d7\u60a8\u7684 Bug \u62a5\u544a\u524d\u53ef\u80fd\u6709\u534a\u4e2a\u5c0f\u65f6\u5de6\u53f3\u7684\u65f6\u95f4\u3002\u8bf7\u8010\u5fc3\u7b49\u5f85\u3002 \u5728\u63d0\u4ea4\u4e00\u4e2a Bug \u53cd\u9988\u4e4b\u540e\uff0c\u60a8\u53ef\u80fd\u4f1a\u88ab\u5f00\u53d1\u8005\u8054\u7cfb\u6765\u5bfb\u6c42\u9644\u52a0\u7684\u4fe1\u606f\u6216\u8005\u662f\u5e0c\u671b\u60a8\u6d4b\u8bd5\u7684\u8865\u4e01\u3002\u60a8\u4e5f\u53ef\u4ee5\u5173\u6ce8 bugs@openbsd.org \u90ae\u4ef6\u5217\u8868\u7684\u5f52\u6863 - \u8be6\u60c5\u89c1 \u90ae\u4ef6\u5217\u8868 \u3002 \u652f\u6301\u672c\u9879\u76ee \u00b6 \u6211\u4eec\u5bf9\u66fe\u7ecf\u4e3a OpenBSD \u9879\u76ee\u4f5c\u51fa\u8d21\u732e\u7684\u4eba\u548c\u7ec4\u7ec7\u8868\u793a\u6781\u5927\u7684\u611f\u6fc0\u3002 OpenBSD \u9879\u76ee\u603b\u662f\u9700\u8981\u6765\u81ea\u793e\u533a\u7684\u51e0\u79cd\u4e0d\u540c\u79cd\u7c7b\u7684\u652f\u6301\u3002\u5982\u679c\u60a8\u89c9\u5f97 OpenBSD \u5f88\u6709\u7528\uff0c\u60a8\u53ef\u4ee5\u627e\u4e00\u79cd\u65b9\u5f0f\u4ee5\u4e3a\u5b83\u505a\u51fa\u8d21\u732e\uff1a \u6350\u8d60\u8d44\u91d1 \u3002\u8fd9\u4e2a\u9879\u76ee\u603b\u662f\u9700\u8981\u8d44\u91d1\u6765\u652f\u4ed8\u8bbe\u5907\u548c\u7f51\u7edc\u94fe\u63a5\u7b49\u7b49\u3002\u5373\u4f7f\u662f\u5f88\u5c0f\u7684\u4e00\u7b14\u6350\u8d60\u4e5f\u80fd\u4ea7\u751f\u6df1\u8fdc\u7684\u5f71\u54cd\u3002 \u6350\u8d60\u8bbe\u5907\u548c\u90e8\u5206 \u3002\u8fd9\u4e2a\u9879\u76ee\u603b\u662f\u9700\u8981\u666e\u901a\u7684\u548c\u7279\u5b9a\u7684\u786c\u4ef6\u3002 \u6350\u8d60\u60a8\u7684\u65f6\u95f4\u548c\u6280\u672f \u70ed\u7231\u7f16\u5199\u64cd\u4f5c\u7cfb\u7edf\u7684\u7a0b\u5e8f\u5458\u5f88\u81ea\u7136\u603b\u662f\u5f88\u53d7\u6b22\u8fce\u7684\uff0c\u4f46\u4e5f\u6709\u5176\u4ed6\u7684\u65b9\u5f0f\u53ef\u4ee5\u8ba9\u4eba\u4eec\u505a\u51fa\u8d21\u732e\u3002 \u8ddf\u8fdb \u90ae\u4ef6\u5217\u8868 \u5e76\u4e3a\u5176\u4ed6\u4eba\u7b54\u7591\u89e3\u60d1\u3002 \u901a\u8fc7\u5411 misc@openbsd.org \u53d1\u9001\u65b0\u7684 FAQ \u7d20\u6750\u6765\u5e2e\u52a9\u7ef4\u62a4\u6587\u6863\u3002 \u7ec4\u7ec7\u4e00\u4e2a\u672c\u5730\u7684 \u7528\u6237\u7ec4 \u5e76\u8ba9\u60a8\u7684\u670b\u53cb\u4eec\u75f4\u8ff7\u4e8e OpenBSD\u3002 \u901a\u8fc7\u60a8\u7684\u96c7\u4e3b\u4e3a\u5728\u5de5\u4f5c\u4e0a\u4f7f\u7528 OpenBSD \u521b\u9020\u4e00\u4e2a\u673a\u4f1a\u3002\u5982\u679c\u60a8\u662f\u4e00\u540d\u5b66\u751f\uff0c\u4e0e\u60a8\u7684\u6559\u6388\u8ba8\u8bba\u5c06 OpenBSD \u4f5c\u4e3a\u4e00\u4e2a\u5b66\u4e60\u8ba1\u7b97\u673a\u79d1\u5b66\u6216\u8005\u5de5\u7a0b\u5b66\u7684\u5de5\u5177\u7684\u53ef\u80fd\u6027\u3002","title":"OpenBSD \u7b80\u4ecb"},{"location":"openbsd-faq/faq1/#openbsd-faq---\u5bf9-openbsd-\u7684\u7b80\u4ecb","text":"","title":"OpenBSD FAQ - \u5bf9 OpenBSD \u7684\u7b80\u4ecb"},{"location":"openbsd-faq/faq1/#\u5173\u4e8e-openbsd","text":"OpenBSD \u9879\u76ee \u63d0\u4f9b\u4e86\u4e00\u4e2a\u81ea\u7531\u53ef\u7528\u7684\u57fa\u4e8e 4.4BSD \u7cfb\u7edf\u7684\u591a\u5e73\u53f0 UNIX \u7cfb\u64cd\u4f5c\u7cfb\u7edf\u3002\u6211\u4eec\u7684 \u76ee\u6807 \u805a\u7126\u4e8e\u6b63\u786e\u6027\u3001\u5b89\u5168\u6027\u3001\u6807\u51c6\u5316\u548c\u53ef\u79fb\u690d\u6027\u3002","title":"\u5173\u4e8e OpenBSD"},{"location":"openbsd-faq/faq1/#\u4e3a\u4ec0\u4e48\u6211\u8981\u4f7f\u7528openbsd","text":"\u8fd9\u662f\u6211\u4eec\u8ba4\u4e3a OpenBSD \u662f\u4e00\u4e2a\u5f88\u6709\u7528\u64cd\u4f5c\u7cfb\u7edf\u7684\u539f\u56e0\uff1a OpenBSD \u53ef\u4ee5\u8fd0\u884c\u5728\u8bb8\u591a\u4e0d\u540c\u7684\u786c\u4ef6\u5e73\u53f0\u4e0a OpenBSD \u5728\u65e0\u6570\u7684\u6e90\u4ee3\u7801\u5ba1\u67e5\u540e\uff0c\u88ab\u5404\u5b89\u5168\u4e13\u5bb6\u89c6\u4e3a\u6700 \u5b89\u5168 \u7684 UNIX \u7cfb\u64cd\u4f5c\u7cfb\u7edf OpenBSD \u662f\u4e00\u4e2a\u5177\u6709\u514d\u8d39\u4e14\u5177\u6709\u5b8c\u6574\u7279\u6027\u7684 UNIX \u7cfb\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5e76\u540c\u65f6\u4ee5\u6e90\u4ee3\u7801\u548c\u4e8c\u8fdb\u5236\u683c\u5f0f\u63d0\u4f9b OpenBSD \u96c6\u6210\u4e86\u6700\u5148\u8fdb\u9002\u7528\u7684\u5b89\u5168\u6280\u672f\uff0c\u53ef\u4ee5\u88ab\u7528\u4f5c \u6784\u5efa\u9632\u706b\u5899 \u4ee5\u53ca\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u6784\u5efa\u79c1\u6709\u7f51\u7edc\u670d\u52a1 OpenBSD \u53d7\u76ca\u4e8e\u5728\u5404\u4e2a\u533a\u57df\u5f3a\u5927\u7684\u6301\u7eed\u5f00\u53d1\u8fdb\u7a0b\uff0c\u63d0\u4f9b\u4e86\u4e0e\u65b0\u5174\u6280\u672f\u3001\u56fd\u9645\u5316\u5f00\u53d1\u8005\u793e\u533a\u548c\u6700\u7ec8\u7528\u6237\u5408\u4f5c\u7684\u673a\u4f1a OpenBSD \u52aa\u529b\u6700\u5c0f\u5316\u81ea\u5b9a\u4e49\u548c\u5fae\u8c03\u7684\u9700\u6c42\u3002\u5bf9\u4e8e\u5e9e\u5927\u7684\u4e3b\u8981\u7528\u6237\u7fa4\u4f53\u800c\u8a00\uff0cOpenBSD \u5c31\u5728 \u4ed6\u4eec\u7684\u786c\u4ef6\u4e0a\u4e3a\u5e94\u7528\u800c\u826f\u597d\u5de5\u4f5c","title":"\u4e3a\u4ec0\u4e48\u6211\u8981\u4f7f\u7528OpenBSD\uff1f"},{"location":"openbsd-faq/faq1/#openbsd-\u771f\u7684\u662f\u81ea\u7531\u7684\u5417","text":"OpenBSD \u5b8c\u5168\u662f\u81ea\u7531\u7684\u3002\u4e8c\u8fdb\u5236\u6587\u4ef6\u662f\u81ea\u7531\u7684\uff0c\u6e90\u4ee3\u7801\u4e5f\u4e00\u6837\u3002OpenBSD \u7684\u6240\u6709\u7ec4\u6210\u90e8\u5206\u90fd\u6709\u4e3a\u81ea\u7531\u7684\u518d\u53d1\u884c\u63d0\u4f9b\u7684\u5408\u7406\u7684\u7248\u6743\u8bb8\u53ef\u6761\u7ea6\u3002\u66f4\u591a\u5173\u4e8e OpenBSD \u7684\u7248\u6743\u653f\u7b56\u53ef\u4ee5 \u5728\u6b64 \u88ab\u627e\u5230\u3002 OpenBSD \u7684\u4e3b\u8981\u7ef4\u62a4\u8005\u81ea\u638f\u8170\u5305\u7ef4\u62a4\u6b64\u9879\u76ee\u3002\u8fd9\u5305\u62ec\u4e3a\u4ed6\u4eec\u4e3a\u7f16\u7a0b\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u7528\u6765\u652f\u6301\u8bb8\u591a\u79fb\u690d\u7684\u8bbe\u5907\uff0c\u7528\u6765\u4e3a\u60a8\u53d1\u884c OpenBSD \u6240\u7528\u7684\u7f51\u7edc\u8d44\u6e90\u4ee5\u53ca\u89e3\u7b54\u95ee\u9898\u548c\u7814\u7a76 Bug \u62a5\u544a\u7684\u65f6\u95f4\u3002OpenBSD \u7684\u5f00\u53d1\u8005\u4eec\u5e76\u4e0d\u5bcc\u6709\uff0c\u4e0d\u8fc7\u5c0f\u5c0f\u7684\u65f6\u95f4\uff0c\u8bbe\u5907\u4ee5\u53ca\u8d44\u6e90\u7684\u6295\u5165\u4e5f\u53ef\u4ee5\u4ea7\u751f\u6781\u5927\u7684\u4f5c\u7528\u3002","title":"OpenBSD \u771f\u7684\u662f\u81ea\u7531\u7684\u5417\uff1f"},{"location":"openbsd-faq/faq1/#\u57fa\u672c\u7cfb\u7edf\u4e2d\u5305\u542b\u4ec0\u4e48","text":"OpenBSD\u53d1\u884c\u65f6\u5e26\u6709\u5927\u91cf\u7684\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u5305\uff0c\u5305\u62ec\uff1a X.org LLVM/Clang GCC Perl NSD \u4ee5\u53ca Unbound ncurses binutils gdb libfido2 OpenBSD \u56e2\u961f\u7ecf\u5e38\u4e3a\u7b2c\u4e09\u65b9\u4ea7\u54c1\u63d0\u4f9b\u8865\u4e01\uff0c\u8fd9\u901a\u5e38\u662f\u4e3a\u4e86\u63d0\u5347\u4ee3\u7801\u7684\u5b89\u5168\u6027\u6216\u662f\u8d28\u91cf\u3002\u5f88\u591a \u81ea\u5236\u7684\u8f6f\u4ef6 \u4e5f\u88ab\u5305\u542b\u5176\u4e2d\u3002\u9644\u52a0\u7684\u5e94\u7528\u53ef\u4ee5\u4f5c\u4e3a package \u800c\u53ef\u7528\u3002","title":"\u57fa\u672c\u7cfb\u7edf\u4e2d\u5305\u542b\u4ec0\u4e48\uff1f"},{"location":"openbsd-faq/faq1/#\u4e3a\u4ec0\u4e48-xxx-\u88ab\u5305\u542b\u4e86\u6ca1\u88ab\u5305\u542b","text":"\u4eba\u4eec\u7ecf\u5e38\u8be2\u95ee\u4e3a\u4ec0\u4e48\u67d0\u4e2a\u8f6f\u4ef6\u88ab\u5305\u542b\u6216\u8005\u6ca1\u6709\u88ab\u5305\u542b\u5728 OpenBSD \u4e2d\u3002\u7b54\u6848\u4e3b\u8981\u57fa\u4e8e\u4e24\u4e2a\u70b9\uff1a\u5f00\u53d1\u8005\u4eec\u7684\u613f\u671b\u548c\u4e0e\u6b64\u9879\u76ee \u76ee\u6807 \u7684\u517c\u5bb9\u6027\u3002\u6388\u6743\u534f\u8bae\u7ecf\u5e38\u662f\u6700\u5927\u7684\u95ee\u9898\uff1a\u6211\u4eec\u5e0c\u671b OpenBSD \u4fdd\u6301\u5bf9\u5168\u4e16\u754c\u4efb\u4f55\u4eba\u5bf9\u4e8e\u4efb\u4f55\u76ee\u7684\u7684\u53ef\u7528\u6027\u3002","title":"\u4e3a\u4ec0\u4e48 xxx \u88ab\u5305\u542b\u4e86/\u6ca1\u88ab\u5305\u542b\uff1f"},{"location":"openbsd-faq/faq1/#\u4e0b\u4e00\u4e2a\u53d1\u884c\u7248\u672c\u4f55\u65f6\u53d1\u5e03","text":"OpenBSD \u56e2\u961f\u5927\u7ea6\u6bcf\u516d\u4e2a\u6708\u53d1\u5e03\u4e00\u4e2a\u65b0\u7248\u672c\uff0c\u9884\u8ba1\u65f6\u95f4\u4e3a\u4e94\u6708\u548c\u5341\u4e00\u6708\u3002\u66f4\u591a\u5173\u4e8e\u5f00\u53d1\u5468\u671f\u7684\u4fe1\u606f\u53ef\u4ee5 \u5728\u6b64 \u88ab\u627e\u5230","title":"\u4e0b\u4e00\u4e2a\u53d1\u884c\u7248\u672c\u4f55\u65f6\u53d1\u5e03\uff1f"},{"location":"openbsd-faq/faq1/#\u786c\u4ef6\u652f\u6301","text":"OpenBSD \u53ef\u4ee5\u8fd0\u884c\u5728\u4ee5\u4e0b \u5e73\u53f0 \u4e0a\uff1a alpha amd64 arm64 armv7 hppa i386 landisk luna88k macppc octeon powerpc64 riscv64 sparc64 \u8be6\u7ec6\u7684\u786c\u4ef6\u652f\u6301\u7ec6\u8282\u4f4d\u4e8e\u5404\u81ea\u7684\u5e73\u53f0\u9875\u9762\u4e0a\u3002","title":"\u786c\u4ef6\u652f\u6301"},{"location":"openbsd-faq/faq1/#\u624b\u518c\u9875","text":"OpenBSD\u5e26\u6709\u5927\u91cfman\u9875\u9762\u5f62\u5f0f\u7684\u624b\u518c\u9875\u3002\u5b83\u4eec\u662fOpenBSD\u6743\u5a01\u7684\u4fe1\u606f\u6e90\uff0c\u56e0\u6b64\u76f8\u5f53\u591a\u7684\u5de5\u4f5c\u88ab\u8fdb\u884c\u6765\u786e\u4fdd\u4ed6\u4eec\u6700\u65b0\u4e14\u7cbe\u786e\u65e0\u8bef\u3002\u5bf9\u7cfb\u7edf\u8fdb\u884c\u66f4\u6539\u7684\u5f00\u53d1\u8005\u5e94\u5f53\u968f\u4ed6\u4eec\u5bf9\u4ee3\u7801\u7684\u66f4\u6539\u66f4\u65b0\u624b\u518c\u9875\u3002\u800c\u5bf9\u4e8e\u7528\u6237\uff0c\u5728\u5bfb\u6c42\u5e2e\u52a9\u524d\u4e5f\u5e94\u5f53\u5148\u67e5\u770b\u624b\u518c\u9875\u3002 \u8fd9\u662f\u4e00\u4e2a\u4e00\u4e9b\u5bf9\u4e8e\u65b0\u7528\u6237\u6709\u5e2e\u52a9\u7684\u624b\u518c\u9875\u7684\u5217\u8868\uff1a afterboot(8) - \u5728\u7b2c\u4e00\u6b21\u5b8c\u5168\u542f\u52a8\u540e\u5e94\u5f53\u68c0\u67e5\u7684\u4e1c\u897f help(1) - \u5bf9\u4e8e\u65b0\u7528\u6237\u548c\u7ba1\u7406\u5458\u7684\u5e2e\u52a9 hier(7) - \u6587\u4ef6\u7cfb\u7edf\u7684\u7ed3\u6784 man(1) - \u663e\u793a\u624b\u518c\u9875 adduser(8) \u4ee5\u53ca rmuser(8) - \u6dfb\u52a0\u548c\u79fb\u9664\u65b0\u7528\u6237 reboot(8) , halt(8) \u4ee5\u53ca shutdown(8) \u505c\u6b62\u548c\u91cd\u542f\u7cfb\u7edf syspatch(8) - \u5e94\u7528\u5b89\u5168\u548c\u53ef\u9760\u6027\u66f4\u65b0 sysupgrade(8) - \u66f4\u65b0\u5230\u4e0b\u4e00\u4e2a OpenBSD \u53d1\u884c\u7248\u6216\u8005\u4e00\u4e2a\u66f4\u65b0\u7684\u5feb\u7167\u7248 dmesg(8) - \u91cd\u65b0\u663e\u793a\u5185\u6838\u542f\u52a8\u4fe1\u606f doas(1) - \u4ee5\u53e6\u4e00\u4e2a\u7528\u6237\u7684\u8eab\u4efd\u8fd0\u884c\u547d\u4ee4 tmux(1) - \u7ec8\u7aef\u590d\u7528\u5668 ifconfig(8) - \u914d\u7f6e\u7f51\u7edc\u63a5\u53e3\u53c2\u6570 ftp(1) - \u4ece\u7f51\u7edc\u4e0a\u4e0b\u8f7d\u6587\u4ef6(\u652f\u6301 FTP/HTTP/HTTPS \u534f\u8bae) login.conf(5) - \u767b\u9646\u914d\u7f6e\u6587\u4ef6\u7684\u683c\u5f0f sendbug(1) - \u62a5\u544a\u4e00\u4e2a\u4f60\u627e\u5230\u7684 Bug \u5168\u90e8\u7684OpenBSD\u624b\u518c\u9875\u53ef\u4ee5\u5728 man.openbsd.org \u7f51\u7ad9\u6216 man70.tgz \u6587\u4ef6\u4e2d\u88ab\u627e\u5230\u3002 \u603b\u4e4b\uff0c\u5982\u679c\u60a8\u77e5\u9053\u4e00\u4e2a\u547d\u4ee4\u6216\u8005\u624b\u518c\u9875\u7684\u540d\u5b57\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c man \u547d\u4ee4 \u6765\u9605\u8bfb\u5b83\u3002\u5982\u679c\u4f60\u4e0d\u77e5\u9053\u547d\u4ee4\u7684\u540d\u5b57\uff0c\u6216\u8005\u5982\u679c man \u547d\u4ee4 \u6ca1\u6709\u627e\u5230\u624b\u518c\u9875\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c apropos \u4e00\u4e9b\u4e1c\u897f \u6216\u8005 man -k \u4e00\u4e9b\u4e1c\u897f \u6765\u67e5\u627e\u6570\u636e\u5e93\uff0c\u201c\u4e00\u4e9b\u4e1c\u897f\u201d\u5c31\u662f\u4e00\u4e2a\u5f88\u53ef\u80fd\u5728\u60a8\u8981\u67e5\u627e\u7684\u624b\u518c\u9875\u6807\u9898\u4e2d\u51fa\u73b0\u7684\u5355\u8bcd\u3002 $ apropos \"time zone\" tzfile(5) - time zone information zdump(8) - time zone dumper zic(8) - time zone compiler \u8fd9\u4e9b\u62ec\u53f7\u91cc\u9762\u6570\u5b57\u8868\u793a\u8be5\u624b\u518c\u9875\u5b58\u5728\u7684\u7ae0\u8282\u3002\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u80fd\u4f1a\u9047\u5230\u5206\u6563\u5728\u4e0d\u540c\u7ae0\u8282\u4e2d\u5374\u6709\u76f8\u540c\u6807\u8bc6\u7b26\u7684\u624b\u518c\u9875\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u60a8\u60f3\u8981\u77e5\u9053cron\u5b88\u62a4\u8fdb\u7a0b\u7684\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u3002\u53ea\u8981\u60a8\u77e5\u9053\u60a8\u60f3\u8981\u7684\u624b\u518c\u9875\u6240\u5728\u7684\u7ae0\u8282\uff0c\u60a8\u53ef\u4ee5\u8fd0\u884c man n \u547d\u4ee4 \uff0c\u5176\u4e2dn\u662f\u624b\u518c\u7ae0\u8282\u5e8f\u53f7\u3002 $ man -k cron cron(8) - clock daemon crontab(1) - maintain crontab files for individual users crontab(5) - tables for driving cron $ man 5 crontab","title":"\u624b\u518c\u9875"},{"location":"openbsd-faq/faq1/#\u90ae\u4ef6\u5217\u8868","text":"OpenBSD \u9879\u76ee\u5305\u542b\u51e0\u4e2a\u4f60\u53ef\u4ee5\u8ba2\u9605\u548c\u8ddf\u8fdb\u7684\u90ae\u4ef6\u5217\u8868\u3002\u6bd4\u8f83\u53d7\u6b22\u8fce\u7684\u90ae\u4ef6\u5217\u8868\u6709\uff1a announce - \u516c\u544a\u548c\u5b89\u5168\u8b66\u62a5 bugs - \u901a\u8fc7 sendbug(1) \u6536\u5230\u7684bug\u53cd\u9988\u53ca\u76f8\u5173\u8ba8\u8bba misc - \u603b\u7684\u7528\u6237\u95ee\u9898\u548c\u89e3\u7b54 ports - \u8ba8\u8bbaports\u6e90\u7801\u6811 source-changes - \u81ea\u52a8\u6784\u5efa\u7684CVS\u6e90\u7801\u6811\u6539\u52a8 tech - OpenBSD\u5f00\u53d1\u8005\u548c\u9ad8\u7ea7\u7528\u6237\u5bf9\u6280\u672f\u8bdd\u9898\u7684\u8ba8\u8bba \u5728\u5411\u4efb\u4f55\u90ae\u4ef6\u5217\u8868\u53d1\u9001\u95ee\u9898\u4e4b\u524d\uff0c\u8bf7\u68c0\u67e5\u90ae\u4ef6\u5217\u8868\u7684\u5f52\u6863\u4e2d\u5df2\u7ecf\u88ab\u65e0\u6570\u6b21\u95ee\u8fc7\u7684\u95ee\u9898\u3002\u5373\u4f7f\u60a8\u53ef\u80fd\u662f\u7b2c\u4e00\u6b21\u9047\u5230\u6b64\u95ee\u9898\uff0c\u90ae\u4ef6\u5217\u8868\u4e2d\u7684\u5176\u4ed6\u8ba2\u9605\u8005\u53ef\u80fd\u5728\u4e0a\u5468\u521a\u89c1\u8fc7\u8fd9\u4e2a\u95ee\u9898\u51e0\u6b21\uff0c\u4e0d\u592a\u5e0c\u671b\u518d\u89c1\u5230\u5b83\u3002\u5982\u679c\u8be2\u95ee\u7684\u95ee\u9898\u53ef\u80fd\u4e0e\u786c\u4ef6\u76f8\u5173\uff0c\u8bf7\u4e00\u5b9a\u5728\u90ae\u4ef6\u4e2d\u5305\u542b\u5b8c\u6574\u7684 dmesg(8) \u8f93\u51fa\u3002 \u4f60\u53ef\u4ee5\u627e\u5230\u51e0\u4e2a\u90ae\u4ef6\u5217\u8868\u7684\u5f52\u6863\uff0c\u5176\u4ed6\u7684\u6307\u5bfc\u548c\u66f4\u591a\u7684\u4fe1\u606f\u4f4d\u4e8e \u90ae\u4ef6\u5217\u8868\u9875\u9762 \u4e0a\u3002\u5bf9\u4e8e\u90ae\u4ef6\u5217\u8868\u7684\u8ba2\u9605\u53ef\u4ee5\u5f88\u5bb9\u6613\u901a\u8fc7 Web\u754c\u9762 \u5b8c\u6210\u3002","title":"\u90ae\u4ef6\u5217\u8868"},{"location":"openbsd-faq/faq1/#\u4ece\u5176\u4ed6\u7cfb\u7edf\u8fc1\u79fb\u5230-openbsd","text":"\u5982\u679c\u60a8\u5df2\u7ecf\u8bfb\u8fc7\u5176\u4ed6\u5173\u4e8e Unix \u7c7b\u7cfb\u7edf\u7684 \u4f18\u79c0\u7684\u8457\u4f5c \uff0c\u7406\u89e3\u4e86 Unix \u54f2\u5b66\u5e76\u4e5f\u5c06\u4f60\u7684\u77e5\u8bc6\u9762\u6269\u5c55\u5230\u4e86\u67d0\u4e00\u4e2a\u7279\u5b9a\u5e73\u53f0\u4e0a\uff0c\u60a8\u5c06\u4f1a\u5bf9 OpenBSD \u611f\u5230\u975e\u5e38\u719f\u6089\u3002 \u8fd9\u91cc\u6709\u4e00\u4e9b OpenBSD \u548c\u5176\u4ed6 Unix \u53d8\u79cd\u4e4b\u95f4\u6700\u7ecf\u5e38\u88ab\u9047\u5230\u7684\u5dee\u522b\uff1a OpenBSD \u662f\u4e00\u4e2a BSD \u98ce\u683c\u7684 Unix \u7cfb\u7edf\uff0c\u7d27\u5bc6\u9075\u5faa\u8fd9 4.4BSD \u7684\u8bbe\u8ba1\u601d\u60f3\u3002Linux \u4e0e Solaris \u662f System V \u98ce\u683c\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002\u4e00\u4e9b Unix \u7cfb\u64cd\u4f5c\u7cfb\u7edf\u6df7\u5408\u7740 System V \u4e0e BSD \u7684\u98ce\u683c\u3002\u4e00\u4e2a\u56e0\u6b64\u7ecf\u5e38\u9020\u6210\u6df7\u4e71\u7684\u5730\u65b9\u662f \u542f\u52a8\u811a\u672c \u3002OpenBSD \u4f7f\u7528 rc(8) \u7cfb\u7edf\u3002 OpenBSD \u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u7cfb\u7edf\uff0c\u5404\u4e2a\u90e8\u5206\u5e94\u5f53\u4fdd\u6301\u540c\u6b65\u3002\u5b83\u5e76\u4e0d\u662f\u53ef\u4ee5\u88ab\u72ec\u7acb\u5347\u7ea7\u7684\u3001\u4e00\u4e2a\u5185\u6838\u548c\u4e00\u5957\u5de5\u5177\u7684\u805a\u5408\u4f53\u3002 OpenBSD \u7ef4\u62a4\u7740\u4e00\u5957 ports\u6e90\u7801\u6811 \u6765\u63d0\u4f9b\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u3002\u9884\u7f16\u8bd1\u7684 \u5305(packages) \u7531 OpenBSD ports \u56e2\u961f\u521b\u5efa\u548c\u7ef4\u62a4\u3002 OpenBSD \u4f7f\u7528 CVS \u6765\u8ffd\u8e2a\u4ee3\u7801\u66f4\u6539\u3002OpenBSD \u63d0\u5021 \u533f\u540d CVS \uff0c\u5176\u5141\u8bb8\u4efb\u4f55\u4eba\u5728\u4efb\u4f55\u65f6\u523b\u63d0\u53d6 OpenBSD \u4efb\u4f55\u7248\u672c\u7684\u5b8c\u6574\u6e90\u4ee3\u7801\u3002\u5176\u4e5f\u5305\u542b\u4e00\u4e2a Web \u754c\u9762 \u3002 OpenBSD \u5df2\u7ecf\u901a\u8fc7\u4e86\u91cd\u5ea6\u4e0d\u95f4\u65ad\u7684\u5b89\u5168\u6027\u5ba1\u67e5\u6765\u786e\u4fdd\u4ee3\u7801\u7684\u8d28\u91cf\u4e0e\u5b89\u5168\u6027\u3002 OpenBSD \u4e0d\u652f\u6301\u65e5\u5fd7\u6587\u4ef6\u7cfb\u7edf\u3002\u76f8\u53cd\uff0c\u6211\u4eec\u4f7f\u7528\u5feb\u901f\u6587\u4ef6\u7cfb\u7edf(Fast File System,FFS)\u7684 \u8f6f\u540c\u6b65 \u7279\u6027\u3002 OpenBSD \u5e26\u6709 \u5305\u8fc7\u6ee4\u5668(Packet Filter,PF) \u3002\u8fd9\u610f\u5473\u7740\u7f51\u7edc\u5730\u5740\u8f6c\u6362(NAT)\uff0c\u961f\u5217\u7b49\u5f85\u4e0e\u5305\u8fc7\u6ee4\u7531 pfctl(8) \uff0c pf(4) \u548c pf.conf(5) \u5904\u7406\u3002 OpenBSD \u7684\u9ed8\u8ba4 Shell \u662f ksh \uff0c\u5176\u57fa\u4e8e\u4f4d\u4e8e\u516c\u6709\u9886\u57df\u7684 Korn Shell\u3002\u4f8b\u5982 bash \u7684\u5176\u4ed6 Shell \u53ef\u4ee5\u4ece \u5305 \u4e2d\u88ab\u6dfb\u52a0\u3002 \u8bbe\u5907\u7531\u9a71\u52a8\u7a0b\u5e8f\u547d\u540d\uff0c\u800c\u4e0d\u662f\u901a\u8fc7\u8bbe\u5907\u7c7b\u578b\u547d\u540d\u3002\u6362\u800c\u8a00\u4e4b\uff0c\u6ca1\u6709 eth0 eth1 \u8bbe\u5907\u3002\u5bf9\u4e8e\u4e00\u4e2a Intel PRO/1000 \u4ee5\u592a\u7f51\u5361\uff0c\u547d\u540d\u53ef\u80fd\u662f em0 \uff1b\u5bf9\u4e8e Broadcom BCM57xx \u6216\u8005 BCM590x \u4ee5\u592a\u7f51\u8bbe\u5907\uff0c\u547d\u540d\u53ef\u80fd\u662f bge0\uff1b\u5bf9\u4e8e\u4e00\u4e2a RaLink \u65e0\u7ebf\u8bbe\u5907\uff0c\u547d\u540d\u53ef\u80fd\u662f ral0\uff0c\u8bf8\u5982\u6b64\u7c7b\u3002 OpenBSD/i386\uff0camd64 \u548c\u5176\u4ed6\u51e0\u4e2a\u5e73\u53f0\u4f7f\u7528\u53cc\u5c42\u78c1\u76d8\u5206\u533a\u7cfb\u7edf\uff0c\u5176\u4e2d\u7b2c\u4e00\u5c42\u662f fdisk BIOS \u53ef\u89c1\u7684\u5206\u533a\uff0c\u7b2c\u4e8c\u5c42\u662f\u76d8\u6807\uff08 disklabel \uff09 \u4e00\u4e9b\u5176\u4ed6\u7684\u64cd\u4f5c\u7cfb\u7edf\u9f13\u52b1\u4f60\u4e3a\u4f60\u7684\u673a\u5668\u5b9a\u5236\u5185\u6838\u3002OpenBSD \u7528\u6237\u5219\u88ab\u9f13\u52b1\u7740\u4f7f\u7528\u5f00\u53d1\u8005\u63d0\u4f9b\u7684\u6807\u51c6\u901a\u7528\u5185\u6838\u3002","title":"\uff08\u4ece\u5176\u4ed6\u7cfb\u7edf\uff09\u8fc1\u79fb\u5230 OpenBSD"},{"location":"openbsd-faq/faq1/#\u62a5\u544a-bug","text":"\u62a5\u544a Bug \u662f\u6700\u7ec8\u7528\u6237\u6700\u91cd\u8981\u7684\u8d23\u4efb\u4e4b\u4e00\u3002\u4e3a\u4e86\u786e\u5b9a\u8f83\u4e25\u91cd\u7684\u95ee\u9898\uff0c\u9700\u8981\u6781\u5176\u8be6\u7ec6\u7684\u6709\u5173\u7ec6\u8282\u3002\u4f8b\u5982\uff0c\u4ee5\u4e0b\u5373\u662f\u4e00\u4efd\u6070\u5f53\u7684 bug \u62a5\u544a\uff1a From: user@example.com To: bugs@openbsd.org Subject: 3.3-beta panics on a SPARCStation2 OpenBSD 3.2 installed from an official CD-ROM installed and ran fine on this machine. After doing a clean install of 3.3-beta from a mirror, I find the system randomly panics after a period of use, and predictably and quickly when starting X. This is the dmesg output: [...] This is the panic I got when attempting to start X: panic: pool_get(mclpl): free list modified: magic=78746572; page 0xfaa93000; item addr 0xfaa93000 Stopped at Debugger+0x4: jmpl [%o7 + 0x8], %g0 https://www.openbsd.org/ddb.html describes the minimum info required in bug reports. Insufficient info makes it difficult to find and fix bugs. ddb> trace [...] Thank you! \u53e6\u89c1 \u6b64\u9875\u9762 \u6765\u5f97\u5230\u5173\u4e8e\u521b\u5efa\u548c\u63d0\u4ea4 Bug \u62a5\u544a\u7684\u7ec6\u8282\u3002\u826f\u597d\u7684 Bug \u62a5\u544a\u5e94\u8be5\u5305\u62ec\u5173\u4e8e\u53d1\u751f\u4e86\u4ec0\u4e48\uff0c\u60a8\u8ba1\u7b97\u673a\u7684\u7cbe\u786e\u914d\u7f6e\u548c\u91cd\u73b0\u95ee\u9898\u7684\u65b9\u5f0f\u3002\u53ea\u8981\u53ef\u80fd\uff0c\u8bf7\u4f7f\u7528 sendbug(1) \u6765\u62a5\u544a\u60a8\u7684\u95ee\u9898\u3002\u5426\u5219\uff0c\u8bf7\u81f3\u5c11\u5305\u62ec\u60a8\u7cfb\u7edf\u7684 dmesg(8) \u8f93\u51fa\u3002 sendbug(1) \u547d\u4ee4\u9700\u8981\u4f60\u7684\u7cfb\u7edf\u80fd\u591f\u53d1\u9001\u90ae\u4ef6\u3002 OpenBSD \u90ae\u4ef6\u670d\u52a1\u5668\u4f7f\u7528 spamd(8) \u5b9e\u73b0\u7070\u540d\u5355\u5783\u573e\u90ae\u4ef6\u5904\u7406\uff0c\u6240\u4ee5\u5728\u90ae\u4ef6\u670d\u52a1\u5668\u63a5\u53d7\u60a8\u7684 Bug \u62a5\u544a\u524d\u53ef\u80fd\u6709\u534a\u4e2a\u5c0f\u65f6\u5de6\u53f3\u7684\u65f6\u95f4\u3002\u8bf7\u8010\u5fc3\u7b49\u5f85\u3002 \u5728\u63d0\u4ea4\u4e00\u4e2a Bug \u53cd\u9988\u4e4b\u540e\uff0c\u60a8\u53ef\u80fd\u4f1a\u88ab\u5f00\u53d1\u8005\u8054\u7cfb\u6765\u5bfb\u6c42\u9644\u52a0\u7684\u4fe1\u606f\u6216\u8005\u662f\u5e0c\u671b\u60a8\u6d4b\u8bd5\u7684\u8865\u4e01\u3002\u60a8\u4e5f\u53ef\u4ee5\u5173\u6ce8 bugs@openbsd.org \u90ae\u4ef6\u5217\u8868\u7684\u5f52\u6863 - \u8be6\u60c5\u89c1 \u90ae\u4ef6\u5217\u8868 \u3002","title":"\u62a5\u544a Bug"},{"location":"openbsd-faq/faq1/#\u652f\u6301\u672c\u9879\u76ee","text":"\u6211\u4eec\u5bf9\u66fe\u7ecf\u4e3a OpenBSD \u9879\u76ee\u4f5c\u51fa\u8d21\u732e\u7684\u4eba\u548c\u7ec4\u7ec7\u8868\u793a\u6781\u5927\u7684\u611f\u6fc0\u3002 OpenBSD \u9879\u76ee\u603b\u662f\u9700\u8981\u6765\u81ea\u793e\u533a\u7684\u51e0\u79cd\u4e0d\u540c\u79cd\u7c7b\u7684\u652f\u6301\u3002\u5982\u679c\u60a8\u89c9\u5f97 OpenBSD \u5f88\u6709\u7528\uff0c\u60a8\u53ef\u4ee5\u627e\u4e00\u79cd\u65b9\u5f0f\u4ee5\u4e3a\u5b83\u505a\u51fa\u8d21\u732e\uff1a \u6350\u8d60\u8d44\u91d1 \u3002\u8fd9\u4e2a\u9879\u76ee\u603b\u662f\u9700\u8981\u8d44\u91d1\u6765\u652f\u4ed8\u8bbe\u5907\u548c\u7f51\u7edc\u94fe\u63a5\u7b49\u7b49\u3002\u5373\u4f7f\u662f\u5f88\u5c0f\u7684\u4e00\u7b14\u6350\u8d60\u4e5f\u80fd\u4ea7\u751f\u6df1\u8fdc\u7684\u5f71\u54cd\u3002 \u6350\u8d60\u8bbe\u5907\u548c\u90e8\u5206 \u3002\u8fd9\u4e2a\u9879\u76ee\u603b\u662f\u9700\u8981\u666e\u901a\u7684\u548c\u7279\u5b9a\u7684\u786c\u4ef6\u3002 \u6350\u8d60\u60a8\u7684\u65f6\u95f4\u548c\u6280\u672f \u70ed\u7231\u7f16\u5199\u64cd\u4f5c\u7cfb\u7edf\u7684\u7a0b\u5e8f\u5458\u5f88\u81ea\u7136\u603b\u662f\u5f88\u53d7\u6b22\u8fce\u7684\uff0c\u4f46\u4e5f\u6709\u5176\u4ed6\u7684\u65b9\u5f0f\u53ef\u4ee5\u8ba9\u4eba\u4eec\u505a\u51fa\u8d21\u732e\u3002 \u8ddf\u8fdb \u90ae\u4ef6\u5217\u8868 \u5e76\u4e3a\u5176\u4ed6\u4eba\u7b54\u7591\u89e3\u60d1\u3002 \u901a\u8fc7\u5411 misc@openbsd.org \u53d1\u9001\u65b0\u7684 FAQ \u7d20\u6750\u6765\u5e2e\u52a9\u7ef4\u62a4\u6587\u6863\u3002 \u7ec4\u7ec7\u4e00\u4e2a\u672c\u5730\u7684 \u7528\u6237\u7ec4 \u5e76\u8ba9\u60a8\u7684\u670b\u53cb\u4eec\u75f4\u8ff7\u4e8e OpenBSD\u3002 \u901a\u8fc7\u60a8\u7684\u96c7\u4e3b\u4e3a\u5728\u5de5\u4f5c\u4e0a\u4f7f\u7528 OpenBSD \u521b\u9020\u4e00\u4e2a\u673a\u4f1a\u3002\u5982\u679c\u60a8\u662f\u4e00\u540d\u5b66\u751f\uff0c\u4e0e\u60a8\u7684\u6559\u6388\u8ba8\u8bba\u5c06 OpenBSD \u4f5c\u4e3a\u4e00\u4e2a\u5b66\u4e60\u8ba1\u7b97\u673a\u79d1\u5b66\u6216\u8005\u5de5\u7a0b\u5b66\u7684\u5de5\u5177\u7684\u53ef\u80fd\u6027\u3002","title":"\u652f\u6301\u672c\u9879\u76ee"},{"location":"openbsd-faq/faq10/","text":"OpenBSD FAQ - \u7cfb\u7edf\u7ba1\u7406 \u00b6 \u5b89\u5168\u66f4\u65b0 \u00b6 \u5f53\u4e00\u4e2a\u5173\u952e\u6027\u7684Bug\u88ab\u53d1\u73b0\u540e\uff0c\u4fee\u590d\u5c06\u4f1a\u88ab\u5c3d\u53ef\u80fd\u5feb\u5730\u63d0\u4ea4\u5230\u5f53\u524d\u6e90\u7801\u6811\u4e2d\uff08\u5e76\u5728 \u5feb\u7167\u6784\u5efa \u4e2d\u53ef\u7528\uff09\u3002\u8be5\u4fee\u590d\u5c06\u4f1a\u4ee5 \u8865\u4e01(errata) \u7684\u5f62\u5f0f\u88ab\u5411\u540e\u79fb\u690d\u81f3\u6700\u65b0\u7684\u4e24\u4e2aOpenBSD\u53d1\u884c\u7248\u4e2d\u5e76\u4e14\u76f8\u5173\u7ec6\u8282\u5c06\u4f1a\u88ab\u53d1\u9001\u5230 \u516c\u544a(announce) \u90ae\u4ef6\u5217\u8868\u4e2d\u3002 \u6709\u4ee5\u4e0b\u83b7\u5f97\u8fd9\u4e9b\u4fee\u590d\u7684\u65b9\u5f0f\uff1a \u5e94\u7528\u4e8c\u8fdb\u5236\u8865\u4e01\uff08\u5728amd64\uff0carm64\uff0ci386\u67b6\u6784\u4e0a\u53ef\u7528\uff09 syspatch(8) \u5de5\u5177\u53ef\u4ee5\u5728\u4efb\u4f55\u4e00\u4e2a\u652f\u6301\u7684OpenBSD\u53d1\u884c\u7248\u4e2d\u4e3a\u4efb\u610f\u6587\u4ef6\u5347\u7ea7\u5b89\u5168\u6216\u53ef\u9760\u6027\u8865\u4e01\u3002\u8fd9\u662f\u6700\u5feb\u901f\u4e5f\u662f\u6700\u7b80\u5355\u7684\u5c06\u57fa\u7840\u7cfb\u7edf\u66f4\u65b0\u5230\u6700\u65b0\u7684\u65b9\u5f0f \u5347\u7ea7\u7cfb\u7edf\u5230\u7a33\u5b9a\uff08stable\uff09\u7248\u672c \u901a\u8fc7 CVS \u62c9\u53d6\uff08\u6216\u5347\u7ea7\uff09\u60a8\u7684\u6e90\u4ee3\u7801\u6811\uff0c\u7136\u540e \u91cd\u65b0\u7f16\u8bd1 \u5185\u6838\u548c\u7528\u6237\u7a0b\u5e8f\u3002 \u5206\u522b\u4e3a\u53d7\u5f71\u54cd\u7684\u6587\u4ef6\u5e94\u7528\u8865\u4e01 \u867d\u7136\u901a\u8fc7\u5e94\u7528\u5728\u8865\u4e01\u9875\u4e0a\u7684\u4fee\u590d\u5f80\u5f80\u8981\u6bd4\u901a\u8fc7CVS\u7684\u68c0\u51fa\u548c\u91cd\u6784\u5efa\u66f4\u5feb\u4e00\u4e9b\uff0c\u4f46\u662f\u8fd9\u79cd\u65b9\u5f0f\u6ca1\u6709\u4e98\u53e4\u4e0d\u53d8\u7684\u65b9\u6cd5\u6765\u505a\u5230\u8fd9\u4e00\u70b9\u3002\u6709\u65f6\u5019\u4f60\u5fc5\u987b\u4e3a\u4e00\u4e2a\u5e94\u7528\u5e94\u7528\u8865\u4e01\u5e76\u4e14\u91cd\u65b0\u7f16\u8bd1\u4e4b\uff0c\u6709\u65f6\u8fd8\u8981\u66f4\u9ebb\u70e6\u4e00\u4e9b\u3002 \u5347\u7ea7\u5230\u5f53\u524d\uff08current\uff09\u7248\u672c\u7684\u7cfb\u7edf \u7531\u4e8e\u6240\u6709\u7684\u4fee\u590d\u90fd\u88ab\u5e94\u7528\u5230\u5f53\u524d\u7248\u672c\u7684\u4ee3\u7801\u5e93\u4e2d\uff0c\u5c06\u7cfb\u7edf\u5347\u7ea7\u5230\u6700\u65b0\u7684\u5feb\u7167\u7248\u672c\uff08snapshot\uff09\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u4e00\u6b21\u6027\u5b8c\u6210\u6240\u6709\u4fee\u590d\u7684\u65b9\u5f0f\u3002\u4f46\u662f\u5feb\u7167\u7248\u672c\u7684\u7cfb\u7edf\u5e76\u4e0d\u9002\u7528\u4e8e\u6240\u6709\u4eba\u3002 \u4e3a\u901a\u8fc7 \u5305 \u5b89\u88c5\u7684\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u63d0\u4f9b\u7684\u5b89\u5168\u66f4\u65b0\u901a\u5e38\u4ec5\u4ec5\u88ab\u5411\u540e\u79fb\u690d\u5230\u6700\u8fd1\u7684\u53d1\u884c\u7248\u3002\u4e3a\u4e86\u5e94\u7528\u5b83\u4eec\uff0c\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\u4e4b\u4e00\uff1a \u4f7f\u7528\u4e8c\u8fdb\u5236\u5305\uff08\u5728amd64\uff0carm64\uff0ci386\uff0csparc64\u4e0a\u53ef\u7528\uff09 \u4e3a\u53d1\u884c\u7248\uff08release\uff09\u548c\u7a33\u5b9a\u7248\uff08stable\uff09\u7cfb\u7edf\u63d0\u4f9b\u7684\u66f4\u65b0\u7684\u4e8c\u7981\u6b62\u5e94\u7528\u5305\u88ab\u63d0\u4f9b\u6765\u5b9a\u4f4d\u5b89\u5168\u95ee\u9898\u6216\u8005\u8fdb\u884c\u5176\u4ed6\u4e3b\u8981\u7684\u4fee\u590d\u3002\u60a8\u53ef\u4ee5\u5e26\u6709-u\u9009\u9879\u8c03\u7528 pkg_add(1) \u6765\u83b7\u5f97\u66f4\u65b0\u7684\u8f6f\u4ef6\u5305\u3002 \u4f7f\u7528\u7a33\u5b9a\u7248\u7684ports\u6e90\u7801\u6811 \u62c9\u53d6\uff08\u6216\u8005\u66f4\u65b0\uff09\u60a8\u7684ports\u6e90\u7801\u6811\uff0c\u8fd0\u884c /usr/ports/infastructure/bin/pkg_outdated \u811a\u672c\u6765\u5217\u51fa\u9700\u8981\u91cd\u65b0\u6784\u5efa\u7684\u8f6f\u4ef6\u5305\uff0c\u7136\u540e\u5728\u53d7\u5230\u5f71\u54cd\u7684port\u8f6f\u4ef6\u5305\u76ee\u5f55\u4e2d\u8c03\u7528 make update \u3002\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5df2\u7ecf\u5b58\u5728\u7684ports\u8f6f\u4ef6\u5305\u9700\u8981\u5728\u91cd\u65b0\u6784\u5efa\u524d\u88ab\u5378\u8f7d\u3002 \u5c06\u60a8\u7684\u7cfb\u7edf\u5347\u7ea7\u5230\u5f53\u524d\u7248\u672c \u63d0\u4f9b\u7ed9\u5f53\u524d\u7248\u672c\u7cfb\u7edf\u7684\u8f6f\u4ef6\u5305\u90fd\u4f1a\u88ab\u5b9a\u671f\u91cd\u65b0\u6784\u5efa\uff0c\u8fd9\u4e9b\u65b0\u7684\u8f6f\u4ef6\u5305\u5c06\u4f1a\u5305\u542b\u5168\u90e8\u5b89\u5168\u8865\u4e01\u3002 \u8003\u8651\u8ddf\u8fdb ports-changes \u90ae\u4ef6\u5217\u8868\u6765\u6536\u5230\u5173\u4e8eport\u8f6f\u4ef6\u5305\u66f4\u65b0\u7684\u63d0\u9192\u3002 \u7cfb\u7edf\u5b88\u62a4\u8fdb\u7a0b \u00b6 \u7cfb\u7edf\u5b88\u62a4\u8fdb\u7a0b\uff08\u6362\u800c\u8a00\u4e4b\uff0c\u201c\u670d\u52a1\u201d\uff09\u7531 rc(8) \u811a\u672c\u901a\u8fc7 rc.d(8) \u542f\u52a8\uff0c\u505c\u6b62\u548c\u63a7\u5236\u3002 \u5927\u591a\u6570\u968fOpenBSD\u53d1\u5e03\u7684\u5b88\u62a4\u8fdb\u7a0b\u548c\u670d\u52a1\u7531\u5728 /etc/rc.conf(8) \u5b9a\u4e49\u7684\u53d8\u91cf\u5728\u542f\u52a8\u65f6\u63a7\u5236\u3002\u4f60\u5c06\u4f1a\u770b\u5230\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u5185\u5bb9\uff1a httpd_flags=NO \u8fd9\u8868\u793a httpd(8) \u4e0d\u4f1a\u5728\u542f\u52a8\u65f6\u7531 rc(8) \u542f\u52a8\u3002\u6bcf\u4e00\u884c\u90fd\u542b\u6709\u5bf9\u4e8e\u6b64\u5b88\u62a4\u8fdb\u7a0b\u6216\u670d\u52a1\u7684\u60ef\u7528\u4f8b\u63cf\u8ff0\u3002 \u4e0d\u8981\u76f4\u63a5\u66f4\u6539 rc.conf(8) \u6587\u4ef6\u3002\u53d6\u800c\u4ee3\u4e4b\u5730\uff0c\u4f7f\u7528 rcctl(8) \u5de5\u5177\u6765\u7ef4\u62a4 /etc/rc.conf.local \u6587\u4ef6\u3002\u8fd9\u6837\u53ef\u4ee5\u7b80\u5316\u5c06\u6765\u7684\u7cfb\u7edf\u5347\u7ea7\uff0c\u56e0\u4e3a\u66f4\u6539\u90fd\u53d1\u751f\u5728\u4e00\u4e2a\u4e0d\u4f1a\u5728\u5347\u7ea7\u65f6\u88ab\u4fee\u6539\u7684\u6587\u4ef6\u4e2d\u3002 \u4f8b\u5982\uff0c\u4e3a\u4e86\u542f\u52a8 apmd(8) \u5b88\u62a4\u8fdb\u7a0b\u6765\u8fdb\u884cCPU\u76d1\u63a7\uff0c\u53ef\u4ee5\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # rcctl enable apmd # rcctl set apmd flags -A # rcctl start apmd \u4ee5\u5176\u4ed6\u7528\u6237\u8eab\u4efd\u6267\u884c\u547d\u4ee4 \u00b6 doas(1) \u5de5\u5177\u7ed9\u4e88\u7cfb\u7edf\u7ba1\u7406\u5458\u6388\u6743\u7279\u5b9a\u7528\u6237\u4ee5\u5176\u4ed6\u7528\u6237\u7684\u8eab\u4efd\u8fd0\u884c\u67d0\u4e9b\u547d\u4ee4\u7684\u65b9\u5f0f\u3002\u666e\u901a\u7528\u6237\u53ef\u4ee5\u8fd0\u884c\u7ba1\u7406\u5458\u547d\u4ee4\uff0c\u800c\u53ea\u9700\u8981\u9a8c\u8bc1\u81ea\u5df1\u7684\u8eab\u4efd\uff0c\u4e0d\u5fc5\u5f97\u77e5root\u5bc6\u7801\u3002 \u4f8b\u5982\uff0c\u5982\u679cdoas\u5de5\u5177\u88ab\u6b63\u786e\u914d\u7f6e\u4e86\uff0c\u4ee5\u4e0b\u7684\u547d\u4ee4\u5c06\u4f1a\u663e\u793aroot\u7528\u6237\u7684 crontab(5) \u6587\u4ef6\uff1a $ doas -u root crontab -l doas(1) \u8c03\u7528\u547d\u4ee4\u7684\u8bb0\u5f55\u9ed8\u8ba4\u50a8\u5b58\u5728 /var/log/secure \u6587\u4ef6\u3002\u9605\u8bfb doas.conf(5) \u624b\u518c\u9875\u6765\u83b7\u5f97\u914d\u7f6e\u6837\u4f8b\u3002 \u7f16\u8f91\u5bc6\u7801\u6587\u4ef6 \u00b6 OpenBSD\u7684\u4e3b\u8981\u5bc6\u7801\u6587\u4ef6\u4f4d\u4e8e /etc/master.passwd \uff0c\u6b64\u6587\u4ef6\u4ec5root\u53ef\u8bfb\u3002 pwd_mkdb(8) \u5de5\u5177\u4ece\u4e3b\u6587\u4ef6\u4e2d\u751f\u6210\u901a\u7528\u53ef\u8bfb\u7684 /etc/passwd \u6587\u4ef6\u548c\u5bc6\u7801\u6570\u636e\u5e93\uff08 /etc/pwd.db \u4ee5\u53ca /etc/spwd.db )\u3002\u6587\u4ef6\u7684\u683c\u5f0f\u4f4d\u4e8e passwd(5) \u624b\u518c\u9875\u4e2d\u3002 \u91cd\u7f6eRoot\u5bc6\u7801 \u00b6 \u5982\u679croot\u5bc6\u7801\u88ab\u9057\u5fd8\u4e86\uff0c\u57fa\u672c\u7684\u91cd\u65b0\u83b7\u5f97\u8bbf\u95ee\u6743\u9650\u7684\u65b9\u5f0f\u662f\u901a\u8fc7\u542f\u52a8\u5355\u7528\u6237\u6a21\u5f0f\uff0c\u6302\u8f7d / \u548c /usr \u5206\u533a\u518d\u8fd0\u884c passwd(1) \u6765\u66f4\u6539root\u7528\u6237\u7684\u5bc6\u7801\u3002 \u542f\u52a8\u5230\u5355\u7528\u6237\u6a21\u5f0f\u3002\u8fd9\u4e00\u90e8\u5206\u8fc7\u7a0b\u56e0\u5e73\u53f0\u800c\u5f02\u3002\u5bf9\u4e8eamd64\u53cai386\u5e73\u53f0\u800c\u8a00\uff0c \u7b2c\u4e8c\u9636\u6bb5\u5f15\u5bfc\u7a0b\u5e8f(second stage boot loader) \u4e3a\u63d0\u4f9b\u66f4\u6539\u5185\u6838\u542f\u52a8\u53c2\u6570\u7684\u673a\u4f1a\u800c\u4f1a\u7b49\u5f85\u51e0\u79d2\u79cd\u65f6\u95f4\u3002\u5728\u8fd9\u91cc\u53ef\u4ee5\u5411 boot(8) \u4f20\u5165-s\u53c2\u6570\uff1a probing: pc0 com0 com1 mem[638K 1918M a20=on] disk: hd0+ hd1+ >> OpenBSD/amd64 BOOT 3.33 boot> boot -s \u6302\u8f7d\u5206\u533a\u3002 / \u548c /usr \u90fd\u9700\u8981\u4ee5\u53ef\u8bfb\u5199\u65b9\u5f0f\u88ab\u6302\u8f7d\u3002 # fsck -p / && mount -uw / # fsck -p /usr && mount /usr \u66f4\u6539root\u5bc6\u7801\u3002\u7531\u4e8e\u7cfb\u7edf\u6b63\u8fd0\u884c\u5728\u5355\u7528\u6237\u6a21\u5f0f\u4e0b\uff0c\u4f60\u5df2\u7ecf\u62e5\u6709\u4e86root\u7279\u6743\uff0c\u6240\u4ee5\u4f60\u4e0d\u4f1a\u518d\u88ab\u8981\u6c42\u63d0\u4f9b\u5f53\u524d\u5bc6\u7801\u3002 # passwd \u542f\u52a8\u5230\u591a\u7528\u6237\u6a21\u5f0f\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u6309\u4e0bCTRL-D\u7ec4\u5408\u952e\u7ee7\u7eed\u666e\u901a\u542f\u52a8\u8fdb\u7a0b\u6216\u8005\u952e\u5165 reboot \u6765\u5b8c\u6210\u3002 \u65f6\u949f\u540c\u6b65 \u00b6 OpenNTPD \u662f\u4e00\u4e2a\u5b89\u5168\u3001\u7b80\u5355\u4e14NTP\u517c\u5bb9\u7684\u5728\u4f60\u7684\u8ba1\u7b97\u673a\u4e0a\u63d0\u4f9b\u51c6\u786e\u65f6\u95f4\u7684\u65b9\u6cd5\u3002 ntpd(8) \u5b88\u62a4\u8fdb\u7a0b\u9ed8\u8ba4\u88ab\u6fc0\u6d3b\u4e14\u5c06\u4f1a\u57fa\u4e8e\u4eceNTP\u540c\u4f34\u6536\u5230\u7684\u6570\u636e\u8bbe\u7f6e\u7cfb\u7edf\u65f6\u95f4\u3002\u4e00\u65e6\u65f6\u95f4\u88ab\u6b63\u786e\u7684\u8bbe\u7f6e\uff0c\u5176\u5c06\u4f1a\u901a\u8fc7\u5728 ntpd.conf(5) \u4e2d\u914d\u7f6e\u7684\u65f6\u95f4\u670d\u52a1\u5668\u9ad8\u7cbe\u5ea6\u5730\u7ef4\u6301\u3002\u5728\u542f\u52a8\u65f6\uff0c ntpd \u53ea\u4f1a\u5411\u524d\u8c03\u6574\u65f6\u95f4\u3002\u5982\u679c\u60a8\u7684\u65f6\u95f4\u5df2\u7ecf\u88ab\u5411\u540e\u8c03\u6574\u4e86\uff0c\u8bf7\u4f7f\u7528 date(1) \u624b\u52a8\u8c03\u6574\u65f6\u95f4\u3002 \u82e5\u8981\u5c06OpenNTPD\u4f5c\u4e3a\u670d\u52a1\u5668\uff0c\u8bf7\u5728 ntpd.conf(5) \u6587\u4ef6\u4e2d\u52a0\u5165\u4e00\u884c listen on * \u5e76\u91cd\u65b0\u542f\u52a8\u5b88\u62a4\u8fdb\u7a0b\u3002\u60a8\u4e5f\u53ef\u4ee5\u6307\u5b9a\u5176\u4ec5\u76d1\u542c\u67d0\u4e00\u4e2a\u7279\u5b9a\u7684\u5730\u5740\u6216\u8005\u63a5\u53e3\u3002 \u5f53\u60a8\u5c06 ntpd(8) \u7528\u4e8e\u76d1\u542c\u65f6\uff0c\u5176\u4ed6\u8bbe\u5907\u53ef\u80fd\u4e0d\u80fd\u7acb\u523b\u540c\u6b65\u5b83\u4eec\u7684\u65f6\u95f4\u3002\u8fd9\u662f\u56e0\u4e3a\u76f4\u5230\u672c\u5730\u65f6\u949f\u4ee5\u4e00\u4e2a\u5408\u7406\u7684\u7a33\u5b9a\u6c34\u5e73\u88ab\u540c\u6b65\u540e\uff0cntpd\u624d\u4f1a\u63d0\u4f9b\u65f6\u95f4\u4fe1\u606f\u3002\u4e00\u65e6\u672c\u5730\u65f6\u949f\u8fbe\u5230\u6b64\u6c34\u5e73\uff0c\u4e00\u4e2a\"clock now synced\"\uff08\u65f6\u95f4\u5df2\u88ab\u540c\u6b65\uff09\u4fe1\u606f\u5c06\u4f1a\u88ab\u5199\u5165 /var/log/daemon \u3002 \u65f6\u533a \u00b6 \u9ed8\u8ba4OpenBSD\u5047\u8bbe\u60a8\u7684\u786c\u4ef6\u65f6\u95f4\u88ab\u8bbe\u7f6e\u4e3a\u534f\u8c03\u4e16\u754c\u65f6\uff08UTC\uff09\u800c\u4e0d\u662f\u672c\u5730\u65f6\u95f4\u3002\u8fd9\u5728 \u591a\u542f\u52a8(multibooting) \u65f6\u4f1a\u4ea7\u751f\u95ee\u9898\u3002\u8bb8\u591a\u5176\u4ed6\u7684\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u8fdb\u884c\u76f8\u540c\u7684\u914d\u7f6e\u8fdb\u800c\u4e00\u540c\u89e3\u51b3\u95ee\u9898\u3002 \u5982\u679c\u5c06\u786c\u4ef6\u65f6\u95f4\u8bbe\u7f6e\u4e3aUTC\u65f6\u95f4\u786e\u5b9e\u662f\u4e00\u4e2a\u95ee\u9898\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 sysctl.conf(5 \u66f4\u6539OpenBSD\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002\u4f8b\u5982\uff0c\u5c06\u4e0b\u9762\u8fd9\u4e00\u884c\u5199\u5165 /etc/sysctl.conf \u53ef\u4ee5\u914d\u7f6eOpenBSD\u5c06\u786c\u4ef6\u65f6\u95f4\u89c6\u4e3a\u7f8e\u56fd\u4e1c\u90e8\u6807\u51c6\u65f6\u95f4\uff08\u6162\u4e8eUTC\u65f6\u95f45\u4e2a\u5c0f\u65f6\uff0c\u5373\u51cf\u53bb300\u5206\u949f\uff09\uff1a kern.utc_offset=-300 \u67e5\u770b sysctl(2) \u624b\u518c\u9875\u6765\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002 \u8bf7\u6ce8\u610f\u786c\u4ef6\u65f6\u95f4\u5fc5\u987b\u5728OpenBSD\u542f\u52a8\u524d\u5df2\u7ecf\u6309\u7167\u4ee5\u4e0a\u7684\u504f\u79fb\u91cf\u88ab\u8bbe\u7f6e\uff0c\u5426\u5219\u7cfb\u7edf\u65f6\u95f4\u5c06\u4f1a\u5728\u542f\u52a8\u65f6\u88ab\u4e0d\u6b63\u786e\u5730\u8c03\u6574\u3002 \u4e00\u822c\u5730\uff0c\u65f6\u533a\uff08time zone\uff09\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u88ab\u8bbe\u7f6e\u3002\u5982\u679c\u4f60\u9700\u8981\u66f4\u6539\u65f6\u533a\uff0c\u4f60\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5bf9\u5728 /usr/share/zoneinfo \u4e2d\u9002\u5f53\u65f6\u533a\u6587\u4ef6\u7684\u7b26\u53f7\u94fe\u63a5\u3002\u4f8b\u5982\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u4ee5\u5c06\u8bbe\u5907\u8bbe\u7f6e\u4e3a\u4f7f\u7528EST5EDT\u65f6\u533a\u4f5c\u4e3a\u65b0\u7684\u672c\u5730\u65f6\u533a\u3002 # ln -fs /usr/share/zoneinfo/EST5EDT /etc/localtime \u4ea6\u89c1 date(1) \u7684\u624b\u518c\u9875\u3002 \u5b57\u7b26\u96c6\uff08Character Sets\uff09\u53ca\u533a\u57df \u00b6 OpenBSD\u57fa\u7840\u7cfb\u7edf\u5b8c\u5168\u652f\u6301ASCII\u5b57\u7b26\u96c6\u548c\u7f16\u7801\uff0c\u5e76\u4e14\u90e8\u5206\u652f\u6301Unicode\u5b57\u7b26\u96c6\u7684\u90e8\u5206UTF-8\u7f16\u7801\u3002\u57fa\u7840\u7cfb\u7edf\u4e0d\u652f\u6301\u5176\u4ed6\u7f16\u7801\uff0c\u4f46\u662fports\u53ef\u4ee5\u88ab\u7528\u6765\u5904\u7406\u5b83\u4eec\u3002UTF-8\u652f\u6301\u7684\u7a0b\u5ea6\u548c\u9ed8\u8ba4\u7f16\u7801\u914d\u7f6e\u53d7\u7a0b\u5e8f\u4e0e\u5e93\u7684\u5f71\u54cd\u5f88\u5927\u3002 \u4e3a\u4e86\u5728\u652f\u6301\u7684\u5730\u65b9\u4f7f\u7528Unicode\u5b57\u7b26\u96c6\uff0c\u5c06 LC_CTYPE \u73af\u5883\u53d8\u91cf\u7684\u503c\u8bbe\u7f6e\u4e3a en_US.UTF-8 \uff1a \u5982\u679c\u60a8\u901a\u8fc7 xenodm \u767b\u9646\uff0c\u8bf7\u5728\u542f\u52a8\u7a97\u53e3\u7ba1\u7406\u5668(window manager)\u524d\u5411 ~/.xsession \u6587\u4ef6\u6dfb\u52a0 export LC_CTYPE=\"en_US.UTF-8\" \u3002\u5bf9\u4e8e\u8be6\u7ec6\u7684\u89e3\u91ca\uff0c\u8bf7\u89c1 \u81ea\u5b9a\u4e49X\u7cfb\u7edf \u3002 \u5982\u679c\u60a8\u901a\u8fc7\u6587\u672c\u63a7\u5236\u53f0(text console)\u767b\u9646\uff0c\u5411\u60a8\u7684 ~/.profile \u6587\u4ef6\u4e2d\u6dfb\u52a0 export LC_CTYPE=\"en_US.UTF-8\" \u3002\u6587\u672c\u63a7\u5236\u53f0\u7684UTF-8\u7f16\u7801\u652f\u6301\u5c1a\u5728\u5f00\u53d1\u4e4b\u4e2d\uff0c\u56e0\u6b64\u4e00\u4e9b\u975eASCII\u5b57\u7b26\u53ef\u80fd\u663e\u793a\u4e0d\u6b63\u786e\u3002 \u5f53\u60a8\u901a\u8fc7 ssh(1) \u767b\u9646\u5230\u8fdc\u7a0b\u7cfb\u7edf\u65f6\uff0c LC_TYPE \u73af\u5883\u53d8\u91cf\u4e0d\u4f1a\u4ece\u8fdc\u7a0b\u7cfb\u7edf\u4f20\u64ad\u81f3\u672c\u5730\u3002\u60a8\u5fc5\u987b\u786e\u4fdd\u672c\u5730\u7ec8\u7aef\u7684\u5b57\u7b26\u7f16\u7801\u5728\u8fde\u63a5\u524d\u5df2\u88ab\u8bbe\u7f6e\u4e3a\u8fdc\u7a0b\u7cfb\u7edf\u6240\u7528\u7684\u5b57\u7b26\u7f16\u7801\u3002\u5982\u679c\u8fdc\u7a0b\u7cfb\u7edf\u7684\u5b57\u7b26\u7f16\u7801\u672a\u77e5\u6216\u8005\u4e0d\u88abOpenBSD\u6240\u652f\u6301\uff0c\u8bf7\u786e\u4fdd\u60a8\u6b63\u4f7f\u7528\u9ed8\u8ba4\u7684 xterm(1) \u914d\u7f6e\u5e76\u5728\u8fde\u63a5\u540e\u5728\u8fdc\u7a0bShell\u4e2d\u5c06\u5b57\u7b26\u7f16\u7801\u8bbe\u7f6e\u4e3a LC_CTYPE=en_US.UTF-8 \u3002 OpenBSD\u57fa\u7840\u7cfb\u7edf\u5b8c\u5168\u5ffd\u7565\u9664\u4e86 LC_CTYPE \u4e4b\u5916\u7684\u4e00\u5207\u5730\u533a\u76f8\u5173\u73af\u5883\u53d8\u91cf\uff1b\u5373\u4f7f LC_ALL \u4e0e LANG \u4e5f\u4ec5\u4ec5\u5f71\u54cd\u5b57\u7b26\u7f16\u7801\u3002\u4e00\u4e9bports\u6e90\u7801\u5305\u53ef\u80fd\u4f1a\u4f7f\u7528\u5176\u4ed6\u7684 LC_* \u73af\u5883\u53d8\u91cf\uff0c\u4f46\u662f\u8fd9\u79cd\u884c\u4e3a\u4ee5\u53ca\u5c06 LC_CTYPE \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u4e3a\u9664\u4e86 C \uff0c POSIX \u6216 en_US.UTF-8 \u4e4b\u5916\u7684\u4efb\u4f55\u503c\u90fd\u662f\u4e0d\u88ab\u63d0\u5021\u7684\u3002 \u4f7f\u7528S/Key \u00b6 S/Key\u662f\u4e00\u5957\u201c\u4e00\u6b21\u6027\u5bc6\u7801\uff08one-time password\uff09\u201d\u9a8c\u8bc1\u7cfb\u7edf\u3002\u5b83\u901a\u8fc7\u4e00\u4e2a\u54c8\u5e0c\u51fd\u6570\uff08hash function\uff09\u4ece\u7528\u6237\u7684\u5bc6\u94a5\u751f\u6210\u4e00\u4e2a\u4e00\u6b21\u6027\u5bc6\u7801\u5e76\u63a5\u53d7\u6765\u81ea\u670d\u52a1\u5668\u7684\u9a8c\u8bc1\u3002\u8fd9\u4e9b\u54c8\u5e0c\u51fd\u6570\u5305\u62ec\uff1a md5 \uff0c sha1 \u4e0e rmd160 \u3002 \u8b66\u544a \uff1a\u4e00\u6b21\u6027\u5bc6\u7801\u7cfb\u7edf \u4ec5\u4ec5 \u4fdd\u62a4\u9a8c\u8bc1\u4fe1\u606f\u3002\u7a83\u542c\u8005\u4ecd\u7136\u53ef\u4ee5\u8bbf\u95ee\u79c1\u6709\u4fe1\u606f\u3002\u6b64\u5916\uff0c\u5982\u679c\u60a8\u6b63\u5728\u8bbf\u95ee\u4e00\u4e2a\u5b89\u5168\u7684\u7cfb\u7edfA\uff0c\u5efa\u8bae\u60a8\u901a\u8fc7\u53e6\u4e00\u4e2a\u53ef\u4fe1\u7684\u7cfb\u7edfB\u6765\u8fdb\u884c\u8fd9\u4e00\u70b9\u3002\u8fd9\u6837\u53ef\u4ee5\u786e\u4fdd\u6ca1\u6709\u4eba\u80fd\u591f\u901a\u8fc7\u8bb0\u5f55\u60a8\u7684\u51fb\u952e\u6216\u8005\u8bb0\u5f55\u3001\u4f2a\u9020\u60a8\u7684\u7ec8\u7aef\u8bbe\u5907\u6765\u5f97\u5230\u5bf9\u7cfb\u7edfA\u7684\u8bbf\u95ee\u6743\u9650\u3002 \u8bbe\u7f6eS/Key \u00b6 \u5728\u5f00\u59cb\u4e4b\u524d\uff0c /etc/skey \u76ee\u5f55\u5fc5\u987b\u88ab\u521b\u5efa\u3002\u5982\u679c\u8fd9\u4e2a\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u8d85\u7ea7\u7528\u6237\u8eab\u4efd\u521b\u5efa\u5b83\uff1a # skeyinit -E \u7136\u540e\u4f7f\u7528 skeyinit(1) \u6765\u521d\u59cb\u5316\u60a8\u7684S/Key\u3002\u60a8\u9996\u5148\u9700\u8981\u8f93\u5165\u60a8\u7684\u767b\u9646\u5bc6\u7801\uff0c\u6b64\u540e\u60a8\u4f1a\u88ab\u8981\u6c42\u8bbe\u7f6e\u60a8\u7684S/Key\u53e3\u4ee4\uff0c\u6b64\u53e3\u4ee4\u5fc5\u987b\u81f3\u5c1110\u5b57\u7b26\u957f\u3002 $ skeyinit Password: [Adding ericj with md5] Enter new secret passphrase: Again secret passphrase: ID ericj skey is otp-md5 100 oshi45820 Next login password: HAUL BUS JAKE DING HOT HOG \u8bf7\u6ce8\u610f\u5728\u6700\u540e\u4e24\u884c\u4e2d\u7684\u4fe1\u606f\u3002\u7a0b\u5e8f\u7528\u6765\u521b\u5efa\u60a8\u7684S/Key\u5bc6\u94a5\u7684\u7b97\u6cd5\u662f otp-md5(1) \uff0c\u5e8f\u5217\u53f7\u662f100\u5e76\u4e14\u5bc6\u94a5\u662f oshi45820 \u3002\u8fd9\u516d\u4e2a\u77ed\u77ed\u7684\u5355\u8bcd HAUL BUS JAKE DING HOT HOG \u6784\u6210\u4e86\u5177\u6709\u5e8f\u5217\u53f7100\u7684S/Key\u5bc6\u94a5\u3002 \u751f\u6210S/Key\u5bc6\u7801 \u00b6 \u4e3a\u4e86\u4e3a\u4e0b\u4e00\u6b21\u767b\u9646\u751f\u6210S/Key\u5bc6\u7801\uff0c\u4f7f\u7528 skeyinfo(1) \u547d\u4ee4\u6765\u627e\u5230\u6211\u4eec\u8981\u8f93\u5165\u7684\u5bc6\u94a5\u3002 $ skeyinfo -v otp-md5 95 oshi45820 $ otp-md5 95 oshi45820 Enter secret passphrase: NOOK CHUB HOYT SAC DOLE FUME \u4e3a\u4e86\u751f\u6210\u4e00\u7ec4S/Key\u5bc6\u94a5\uff0c\u8fd0\u884c\uff1a $ otp-md5 -n 5 95 oshi45820 Enter secret passphrase: 91: SHIM SET LEST HANS SMUG BOOT 92: SUE ARTY YAW SEED KURD BAND 93: JOEY SOOT PHI KYLE CURT REEK 94: WIRE BOGY MESS JUDE RUNT ADD 95: NOOK CHUB HOYT SAC DOLE FUME \u4f7f\u7528S/Key\u5bc6\u94a5\u767b\u9646 \u00b6 \u8fd9\u662f\u4e00\u4e2a\u4f7f\u7528S/Key\u767b\u9646\u5230\u5728 localhost \u7684ftp\u670d\u52a1\u5668\u7684\u793a\u4f8b\u3002\u4e3a\u4e86\u542f\u7528S/Key\u767b\u9646\uff0c\u60a8\u9700\u8981\u5728\u60a8\u7684\u767b\u9646\u540d\u540e\u6dfb\u52a0 :skey \u540e\u7f00\u3002 $ ftp localhost Connected to localhost. 220 oshibana.shin.ms FTP server (Version 6.5/OpenBSD) ready. Name (localhost:ericj): ericj:skey 331- otp-md5 93 oshi45820 331 S/Key Password: JOEY SOOT PHI KYLE CURT REEK [...] 230 User ericj logged in. Remote system type is UNIX. Using binary mode to transfer files. ftp> quit 221 Goodbye. \u76f8\u4f3c\u7684\uff0c\u5bf9\u4e8e ssh(1) \uff1a $ ssh -l ericj:skey localhost otp-md5 91 oshi45821 S/Key Password: SHIM SET LEST HANS SMUG BOOT Last login: Thu Apr 7 12:21:48 on ttyp1 from 156.63.248.77 $ \u76ee\u5f55\u670d\u52a1 \u00b6 OpenBSD\u53ef\u4ee5\u88ab\u7528\u505a\u5b58\u50a8\u7528\u6237\u51ed\u636e\uff0c\u7528\u6237\u7ec4\u4fe1\u606f\u548c\u5176\u4ed6\u7f51\u7edc\u76f8\u5173\u4fe1\u606f\u7684\u6570\u636e\u5e93\u3002 \u5f53\u7136\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5728OpenBSD\u4e0a\u4f7f\u7528\u5404\u79cd\u5404\u6837\u7684\u76ee\u5f55\u670d\u52a1\u3002\u4f46\u662fYP\u662f\u552f\u4e00\u4e00\u4e2a\u53ef\u4ee5\u76f4\u63a5\u4ece\u7c7b\u4f3c getpwent(3) \uff0c getgrent(3) \uff0c gethostbyname(3) \u7b49\u7684\u6807\u51c6C\u5e93\u51fd\u6570\u4e2d\u88ab\u8c03\u7528\u7684\u3002\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u5c06\u60a8\u7684\u6570\u636e\u4fdd\u5b58\u5728\u4e00\u4e2aYP\u6570\u636e\u5e93\u4e2d\uff0c\u60a8\u4e0d\u518d\u9700\u8981\u5c06\u5b83\u62f7\u8d1d\u5230\u7c7b\u4f3c master.passwd(5) \u7684\u6587\u4ef6\u4e2d\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5b83\uff0c\u4f8b\u5982\u9a8c\u8bc1\u7cfb\u7edf\u7528\u6237\u3002 YP\u662f\u4e00\u4e2aSun Microsystems NIS\uff08\u7f51\u7edc\u4fe1\u606f\u7cfb\u7edf\uff0cNetwork Information System\uff09\u517c\u5bb9\u7684\u76ee\u5f55\u670d\u52a1\u3002\u8bf7\u89c1 yp(8) \u6765\u5f97\u5230\u53ef\u7528\u7684\u624b\u518c\u9875\u7684\u603b\u89c8\u3002\u8bf7\u4ed4\u7ec6\u9605\u8bfb\uff0c\u56e0\u4e3a\u4e00\u4e9b\u5176\u4ed6\u5305\u542b\u76ee\u5f55\u670d\u52a1\u7684\u64cd\u4f5c\u7cfb\u7edf\u53ef\u80fd\u4f7f\u7528\u4e86\u76f8\u4f3c\u7684\u540d\u5b57\u4f46\u662f\u5374\u662f\u4e0d\u517c\u5bb9\u7684\uff0c\u4f8b\u5982NIS+\u3002 \u4e3a\u4e86\u4f7f\u7528\u9664YP\u4e4b\u5916\u7684\u76ee\u5f55\u670d\u52a1\uff0c\u60a8\u53ef\u4ee5\u4ece\u76ee\u5f55\u4e2d\u5c06\u6570\u636e\u62bd\u53d6\u5230\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u6216\u8005\u4f7f\u7528\u4e00\u4e2a\u5230\u76ee\u5f55\u7684YP\u524d\u7aef\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 sysutils/login_ldap port\u5b9e\u73b0\u524d\u8005\uff0c\u800c ypldap(8) \u5b88\u62a4\u8fdb\u7a0b\u63d0\u4f9b\u4e86\u540e\u8005\u3002 \u5bf9\u4e8e\u4e00\u4e9b\u5e94\u7528\u800c\u8a00\uff0c\u7b80\u5355\u7684\u5728\u51e0\u53f0\u8bbe\u5907\u4e4b\u95f4\u4f7f\u7528\u7c7b\u4f3c rdist(1) \uff0c cron(8) \uff0c scp(1) \u6216 rsync \uff08\u5728ports\u6e90\u4e2d\u53ef\u7528\uff09\u7684\u5de5\u5177\u540c\u6b65\u5c11\u91cf\u914d\u7f6e\u6587\u4ef6\u4e5f\u53ef\u4ee5\u88ab\u770b\u4f5c\u4e00\u4e2a\u7b80\u5355\u4e14\u5065\u58ee\u7684\u66ff\u4ee3\u65b9\u6848\u3002 YP\u5b89\u5168\u7b56\u7565 \u00b6 \u4e3a\u4e86\u517c\u5bb9\u6027\u56e0\u7d20\uff0c\u6240\u6709\u6784\u5efa\u91d1OpenBSD\u7684YP\u5b9e\u73b0\u4e2d\u7684\u5b89\u5168\u7279\u6027\u9ed8\u8ba4\u90fd\u88ab\u5207\u6362\u4e3a off \uff08\u5373\u5173\u95ed\uff09\u3002\u5373\u4f7f\u6240\u6709\u5b89\u5168\u7279\u6027\u5168\u90e8\u88ab\u6253\u5f00\uff0cNIS\u534f\u8bae\u7531\u4e8e\u4e24\u4e2a\u539f\u56e0\u4f9d\u7136\u662f\u4e0d\u5b89\u5168\u7684\uff1a\u6240\u6709\u7684\u6570\u636e\uff0c\u5305\u62ec\u50cf\u5bc6\u7801\u54c8\u5e0c\u503c\u4e00\u6837\u7684\u654f\u611f\u6570\u636e\u90fd\u5728\u7f51\u7edc\u4e2d\u4ee5\u660e\u6587\u4f20\u9012\uff0c\u5e76\u4e14\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u90fd\u4e0d\u80fd\u53ef\u9760\u5730\u9a8c\u8bc1\u5bf9\u65b9\u7684\u8eab\u4efd\u3002 \u56e0\u6b64\uff0c\u5728\u8bbe\u7f6e\u4efb\u4f55YP\u670d\u52a1\u5668\u524d\uff0c\u60a8\u5e94\u5f53\u8003\u8651\u8fd9\u4e9b\u6545\u6709\u7684\u5b89\u5168\u7f3a\u70b9\u662f\u5426\u5728\u60a8\u7684\u5e94\u7528\u73af\u5883\u4e2d\u662f\u53ef\u63a5\u53d7\u7684\u3002\u7279\u522b\u5730\uff0c\u5982\u679c\u53ef\u80fd\u7684\u653b\u51fb\u8005\u80fd\u591f\u5728\u7269\u7406\u4e0a\u8bbf\u95ee\u60a8\u7684\u7f51\u7edc\uff0cYP\u7684\u7f3a\u70b9\u5c31\u66f4\u52a0\u663e\u8457\u4e86\u3002\u4efb\u4f55\u62e5\u6709\u5728\u60a8\u4f20\u8f93IP\u6d41\u91cf\u7684\u7f51\u6bb5\u4e2d\u7684\u8bbe\u5907\u7684root\u6743\u9650\u7684\u4eba\u90fd\u53ef\u4ee5\u7ed1\u5b9a\uff08bind\uff09\u5230\u60a8\u7684YP\u57df\u5e76\u8bbf\u95ee\u5176\u6570\u636e\u3002\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5c06YP\u6570\u636e\u901a\u8fc7SSL\u6216\u8005IPSec\u901a\u9053\u4f20\u8f93\u53ef\u80fd\u662f\u4e00\u4e2a\u53ef\u7528\u7684\u9009\u9879\u3002 \u8bbe\u7f6e\u4e00\u4e2aYP\u670d\u52a1\u5668 \u00b6 \u4e00\u4e2aYP\u670d\u52a1\u5668\u670d\u52a1\u4e8e\u4e00\u7ec4\u88ab\u53eb\u505a\u201c\u57df\u201d\uff08domain\uff09\u7684\u5ba2\u6237\u7aef\u3002\u60a8\u5e94\u8be5\u9996\u5148\u9009\u62e9\u4e00\u4e2a\u57df\u540d\uff08domain name\uff09\uff1b\u5b83\u5e94\u8be5\u662f\u4e00\u4e2a\u4e0d\u4ee5\u4efb\u4f55\u65b9\u5f0f\u4e0eDNS\u57df\u540d\u76f8\u5173\u7684\u4efb\u610f\u5b57\u7b26\u4e32\u3002\u9009\u62e9\u4e00\u4e2a\u50cf\u662f\u201cEepoo5vi\u201d\u7684\u968f\u673a\u540d\u5b57\u80fd\u591f\u7565\u5fae\u589e\u5f3a\u5b89\u5168\u6027\uff0c\u5c3d\u7ba1\u8fd9\u79cd\u5b89\u5168\u6548\u679c\u4e3b\u8981\u6765\u6e90\u4e8e\u540d\u5b57\u7684\u6a21\u7cca\u6027\u3002\u5728\u60a8\u9700\u8981\u7ef4\u62a4\u51e0\u4e2a\u4e0d\u540c\u7684YP\u57df\u65f6\uff0c\u4f7f\u7528\u7c7b\u4f3c\u201csales\u201d\uff0c\u201cmarketing\u201d\u548c\u201cresearch\u201d\u7684\u63cf\u8ff0\u6027\u540d\u5b57\u53ef\u80fd\u662f\u66f4\u597d\u7684\u9009\u62e9\uff0c\u8fd9\u6837\u53ef\u4ee5\u9884\u9632\u7cfb\u7edf\u7ba1\u7406\u5458\u56e0\u4e3a\u6a21\u7cca\u6027\u800c\u4ea7\u751f\u7684\u95ee\u9898\u3002\u800c\u4e14\u8bf7\u6ce8\u610f\uff1a\u4e00\u4e9b\u7248\u672c\u7684SunOS\u8981\u6c42\u4f7f\u7528\u4e3b\u673a\u7684DNS\u57df\u540d\uff0c\u6240\u4ee5\u60a8\u7684\u9009\u62e9\u53ef\u80fd\u5728\u5305\u542b\u8fd9\u4e9b\u4e3b\u673a\u7684\u7f51\u7edc\u4e2d\u53d7\u5230\u9650\u5236\u3002 \u4f7f\u7528 domainname(1) \u5de5\u5177\u6765\u8bbe\u7f6e\u57df\u540d\uff0c\u5e76\u5c06\u5b83\u6dfb\u52a0\u5230 defaultdomain(5) \u6587\u4ef6\u4e2d\u6765\u4f7f\u5176\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u88ab\u81ea\u52a8\u8bbe\u7f6e\u3002 # echo \"puffynet\" > /etc/defaultdomain # domainname `cat /etc/defaultdomain` \u4f7f\u7528\u4ee5\u4e0b\u4ea4\u4e92\u5f0f\u547d\u4ee4\u6765\u521d\u59cb\u5316YP\u670d\u52a1\u5668\uff1a # ypinit -m \u6b64\u65f6\uff0c\u53ef\u80fd\u8fd8\u6ca1\u6709\u5fc5\u8981\u8bbe\u7f6e\u6b21\u670d\u52a1\u5668\uff08slave server\uff09\u3002\u4e3a\u4e86\u6dfb\u52a0\u6b21\u670d\u52a1\u5668\uff0c\u60a8\u53ef\u4ee5\u6b64\u540e\u518d\u6b21\u5e26\u6709 -u \u9009\u9879\u8fd0\u884c ypinit(8) \u547d\u4ee4\u3002\u4e3a\u6bcf\u4e00\u4e2a\u57df\u81f3\u5c11\u8bbe\u7f6e\u4e00\u53f0\u6b21\u670d\u52a1\u5668\u5bf9\u4e8e\u907f\u514d\u670d\u52a1\u4e2d\u65ad\u662f\u4e00\u4e2a\u6709\u7528\u7684\u65b9\u6cd5\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e3b\u670d\u52a1\u5668\uff08master server\uff09\u5b95\u673a\u6216\u4e22\u5931\u7f51\u7edc\u8fde\u63a5\uff0c\u8bd5\u56fe\u8bbf\u95eeYP\u6620\u5c04\uff08YP map\uff09\u7684\u5ba2\u6237\u7aef\u8fdb\u7a0b\u5c06\u4f1a\u65e0\u9650\u671f\u963b\u585e\u76f4\u5230\u5b83\u4eec\u6536\u5230\u8bf7\u6c42\u7684\u4fe1\u606f\u3002\u56e0\u6b64\uff0cYP\u670d\u52a1\u4e2d\u65ad\u901a\u5e38\u4f1a\u5bfc\u81f4\u76f4\u5230YP\u670d\u52a1\u6062\u590d\uff0c\u5ba2\u6237\u7aef\u4e3b\u673a\u5b8c\u5168\u4e0d\u53ef\u7528\u3002 \u51b3\u5b9a\u50a8\u5b58\u6e90\u6587\u4ef6\u7684\u4f4d\u7f6e\u6765\u751f\u6210\u60a8\u7684YP\u6620\u5c04\u3002\u4fdd\u6301\u670d\u52a1\u5668\u914d\u7f6e\u6587\u4ef6\u4e0e\u88ab\u7528\u4e8e\u63d0\u4f9b\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u5206\u79bb\u6709\u52a9\u4e8e\u63a7\u5236\u88ab\u5171\u4eab\u548c\u4e0d\u4f1a\u88ab\u5171\u4eab\u7684\u4fe1\u606f\uff0c\u6240\u4ee5\u9ed8\u8ba4\u7684 /etc/ \u76ee\u5f55\u901a\u5e38\u4e0d\u662f\u6700\u597d\u7684\u9009\u62e9\u3002 \u66f4\u6539\u6e90\u76ee\u5f55\u6700\u5927\u7684\u4e0d\u4fbf\u5229\u4e4b\u5904\u662f\u60a8\u4e0d\u80fd\u518d\u4f7f\u7528\u50cf\u662f user(8) \u548c group(8) \u7684\u5de5\u5177\u6dfb\u52a0\uff0c\u5220\u9664\u548c\u4fee\u6539\u8be5\u7528\u6237\u3002\u53d6\u800c\u4ee3\u4e4b\u5730\uff0c\u60a8\u5fc5\u987b\u4f7f\u7528\u4e00\u4e2a\u6587\u672c\u7f16\u8f91\u5668\u6765\u7f16\u8f91\u5b83\u4eec\u3002 \u8981\u5b9a\u4e49\u6e90\u76ee\u5f55\uff0c\u4fee\u6539\u6587\u4ef6 /var/yp/`domainname`/Makefile \u5e76\u66f4\u6539 DIR \u53d8\u91cf\uff0c\u4f8b\u5982\uff1a DIR=/etc/yp/src/puffynet \u8003\u8651\u81ea\u5b9a\u4e49\u5728 /var/yp/`domainname`/Makefile \u4e2d\u7684\u5176\u5b83\u53d8\u91cf\u3002\u7ec6\u8282\u8bf7\u89c1 Makefile.yp(8) \u3002 \u4f8b\u5982\uff0c\u5373\u4f7f\u5728\u60a8\u4f7f\u7528\u9ed8\u8ba4\u7684\u6e90\u76ee\u5f55 /etc \u65f6\uff0c\u60a8\u901a\u5e38\u5728\u5ba2\u6237\u7aef\u4e3b\u673a\u4e0a\u4e5f\u4e0d\u9700\u8981\u6240\u6709\u5b58\u5728\u5728\u670d\u52a1\u5668\u4e0a\u7684\u7528\u6237\u548c\u7ec4\u3002\u7279\u522b\u5730\uff0c\u4e0d\u5171\u4eabroot\u8d26\u6237\u5e76\u4fdd\u5bc6root\u5bc6\u7801\u7684\u54c8\u5e0c\u503c\u7ecf\u5e38\u662f\u6709\u76ca\u4e8e\u5b89\u5168\u7684\u3002\u68c0\u67e5 MINUID \uff0c MAXUID \uff0c MINGID \u548c MAXGID \u7684\u503c\u5e76\u6839\u636e\u60a8\u7684\u9700\u8981\u8c03\u6574\u5b83\u4eec\u3002 \u5982\u679c\u60a8\u7684YP\u5ba2\u6237\u7aef\u5168\u90e8\u8fd0\u884c\u5728OpenBSD\u6216FreeBSD\u7cfb\u7edf\u4e0a\uff0c\u901a\u8fc7\u5728 /var/yp/ domainname`/Makefile \u4e2d\u8bbe\u7f6e```UNSECURE=\"\" \u6765\u4ece passwd \u6620\u5c04\u4e2d\u79fb\u9664\u52a0\u5bc6\u7684\u5bc6\u7801\u3002 \u4e0d\u518d\u5efa\u8bae\u66fe\u7ecf\u76f4\u63a5\u4fee\u6539 /var/yp/Makefile.yp \u7684\u505a\u6cd5\u3002\u5bf9\u8be5\u6587\u4ef6\u7684\u4fee\u6539\u4ec5\u5f71\u54cd\u4fee\u6539\u4e4b\u540e\u521d\u59cb\u5316\u7684\u57df\uff0c\u5374\u4e0d\u5f71\u54cd\u5728\u6b64\u4e4b\u524d\u5df2\u7ecf\u521d\u59cb\u5316\u7684\u57df\u3002\u6240\u4ee5\u8fd9\u662f\u4e00\u79cd\u5bb9\u6613\u51fa\u9519\u7684\u65b9\u5f0f\uff1a\u60a8\u6b63\u5192\u7740\u671f\u671b\u7684\u66f4\u6539\u4e0d\u8d77\u4f5c\u7528\u548c\u5fd8\u8bb0\u5b83\u4eec\u5df2\u5bf9\u4ece\u672a\u671f\u671b\u7740\u751f\u6548\u7684\u57df\u4ea7\u751f\u5f71\u54cd\u7684\u98ce\u9669\u3002 \u60a8\u53ef\u4ee5\u521b\u5efa\u6e90\u76ee\u5f55\u5e76\u4e14\u5411\u5176\u4e2d\u5199\u5165\u60a8\u9700\u8981\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u8be6\u89c1 Makefile.yp(8) \u6765\u4e86\u89e3YP\u6620\u5c04\u9700\u8981\u54ea\u4e9b\u6e90\u6587\u4ef6\u3002\u53c2\u7167 passwd(5) \uff0c group(5) \uff0c hosts(5) \u7b49\u7b49\u4ee5\u53ca\u67e5\u9605 /etc/ \u4e2d\u7684\u4f8b\u5b50\u6765\u67e5\u770b\u5355\u72ec\u7684\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u3002 \u4f7f\u7528\u4ee5\u4e0b\u7684\u547d\u4ee4\u521b\u5efa\u60a8\u521d\u59cb\u7248\u672c\u7684YP\u6620\u5c04\uff1a # cd /var/yp # make \u4e0d\u8981\u5728\u610f\u73b0\u5728\u6765\u81ea yppush(8) \u7684\u9519\u8bef\u4fe1\u606f\u3002YP\u670d\u52a1\u5668\u8fd8\u6ca1\u6709\u8fd0\u884c\u3002 YP\u4f7f\u7528 rpc(3) \uff08\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\uff0cremote procedure calls\uff09\u4e0e\u5ba2\u6237\u7aef\u901a\u4fe1\uff0c\u6240\u4ee5\u6709\u5fc5\u8981\u6fc0\u6d3b portmap(8) \u3002\u4e3a\u4e86\u5b8c\u6210\u6b64\u76ee\u7684\uff0c\u4f7f\u7528 rcctl(8) \u3002 # rcctl enable portmap # rcctl start portmap \u8003\u8651\u4f7f\u7528 securenet(5) \u6216YP\u670d\u52a1\u5668\u7684\u5b88\u62a4\u8fdb\u7a0b\u7684\u5b89\u5168\u7279\u6027 ypserv.acl(5) \u3002\u4f46\u8bf7\u610f\u8bc6\u5230\u8fd9\u4e24\u8005\u90fd\u4ec5\u63d0\u4f9b\u57fa\u4e8eIP\u7684\u8bbf\u95ee\u63a7\u5236\u3002\u56e0\u6b64\uff0c\u5b83\u4eec\u53ea\u80fd\u5728\u53ef\u80fd\u7684\u653b\u51fb\u8005\u65e2\u6ca1\u6709\u5bf9\u4f20\u8f93\u60a8\u7684YP\u6d41\u91cf\u7684\u7f51\u6bb5\u4e2d\u7684\u786c\u4ef6\u7684\u7269\u7406\u8bbf\u95ee\u6743\u9650\u4e5f\u6ca1\u6709\u5bf9\u4efb\u4f55\u8fde\u63a5\u5230\u8fd9\u4e9b\u7f51\u7edc\u7684\u8bbe\u5907\u7684root\u8bbf\u95ee\u6743\u9650\u7684\u60c5\u51b5\u4e0b\u624d\u80fd\u8d77\u5230\u4f5c\u7528\u3002 \u6700\u7ec8\uff0c\u542f\u52a8YP\u670d\u52a1\u5668\u5b88\u62a4\u8fdb\u7a0b\uff1a # rcctl enable ypserv # rcctl start ypserv \u4e3a\u4e86\u6d4b\u8bd5\u65b0\u7684\u670d\u52a1\u5668\uff0c\u8003\u8651\u8ba9\u5176\u4f5c\u4e3a\u81ea\u5df1\u7684\u5ba2\u6237\u7aef\uff0c\u6309\u7167\u4e0b\u4e00\u8282\u7684\u7b2c\u4e00\u90e8\u5206\u3002\u5728\u60a8\u4e0d\u5e0c\u671b\u670d\u52a1\u5668\u4f7f\u7528\u5b83\u81ea\u5df1\u7684\u6620\u5c04\u65f6\uff0c\u60a8\u53ef\u4ee5\u5728\u6d4b\u8bd5\u540e\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u7981\u7528\u5ba2\u6237\u7aef\u90e8\u5206\uff1a # rcctl stop ypbind # rcctl disable ypbind \u8bb0\u5f97\u6bcf\u4e00\u6b21\u60a8\u4fee\u6539\u4e86\u6e90\u4e3aYP\u6620\u5c04\u7684\u6587\u4ef6\u540e\uff0c\u60a8\u5fc5\u987b\u91cd\u65b0\u751f\u6210\u60a8\u7684YP\u6620\u5c04\u3002 # cd /var/yp # make \u8fd9\u5c06\u66f4\u65b0\u5728 /var/yp/`domainname```\u4e2d\u7684\u4e00\u5207\u6570\u636e\u5e93\u6587\u4ef6\uff0c\u53ea\u6709\u4e00\u4e2a\u4f8b\u5916\uff1a ypservers.db \uff0c\u8be5\u6587\u4ef6\u5217\u51fa\u4e86\u4e0e\u8be5\u57df\u5173\u8054\u7684\u4e00\u5207YP\u4e3b\u670d\u52a1\u5668\u548c\u6b21\u670d\u52a1\u5668\u5e76\u7531 ypinit -m \u547d\u4ee4\u76f4\u63a5\u521b\u5efa\u4e14\u4ec5\u7531 ypinit -u \u547d\u4ee4\u4fee\u6539\u3002\u5f53\u60a8\u610f\u5916\u5730\u5220\u9664\u4e86\u5b83\u65f6\uff0c\u8fd0\u884c ypinit -u``\u6765\u4ece\u4fee\u6539\u8bb0\u5f55\u4e2d\u91cd\u65b0\u521b\u5efa\u5b83\u3002 \u8bbe\u7f6e\u4e00\u4e2aYP\u5ba2\u6237\u7aef \u00b6 \u8bbe\u7f6e\u4e00\u4e2aYP\u5ba2\u6237\u7aef\u4e3b\u8981\u5305\u542b\u72ec\u7acb\u7684\u4e24\u90e8\u5206\u3002\u9996\u5148\uff0c\u60a8\u5fc5\u987b\u542f\u52a8\u5ba2\u6237\u7aef\u7684YP\u5b88\u62a4\u8fdb\u7a0b\u3002\u5b8c\u6210\u4e0b\u9762\u7684\u6b65\u9aa4\u5c06\u4f1a\u4f7f\u60a8\u80fd\u591f\u4eceYP\u670d\u52a1\u5668\u8bbf\u95ee\u6570\u636e\uff0c\u4f46\u662f\u8fd9\u4e9b\u6570\u636e\u4e0d\u4f1a\u88ab\u7cfb\u7edf\u6240\u4f7f\u7528\u3002 \u50cf\u662f\u5728\u670d\u52a1\u7aef\u4e00\u6837\uff0c\u60a8\u5fc5\u987b\u8bbe\u7f6e\u57df\u540d\u5e76\u6fc0\u6d3b\u7aef\u53e3\u6620\u5c04\u5668\uff08portmapper\uff09\uff1a # echo \"puffynet\" > /etc/defaultdomain # domainname `cat /etc/defaultdomain` # rcctl enable portmap # rcctl start portmap \u6211\u4eec\u5efa\u8bae\u60a8\u5728 /etc/yp`domainname```\u914d\u7f6e\u6587\u4ef6\u4e2d\u63d0\u4f9b\u4e00\u4e2aYP\u670d\u52a1\u5668\u7684\u5217\u8868\u3002\u5426\u5219\uff0cYP\u5ba2\u6237\u7aef\u5b88\u62a4\u8fdb\u7a0b\u5c06\u4f7f\u7528\u7f51\u7edc\u5e7f\u64ad\u6765\u67e5\u627e\u5b83\u81ea\u5df1\u6240\u5c5e\u7684\u57df\u7684\u670d\u52a1\u5668\u3002\u663e\u5f0f\u5236\u5b9a\u670d\u52a1\u5668\u4f7f\u5f97\u670d\u52a1\u66f4\u52a0\u5065\u58ee\u4e5f\u7565\u5fae\u51cf\u5c11\u4e86\u88ab\u653b\u51fb\u7684\u53ef\u80fd\u6027\u3002\u5982\u679c\u60a8\u8fd8\u6ca1\u6709\u8bbe\u7f6e\u4efb\u4f55\u4ece\u670d\u52a1\u5668\uff0c\u8bf7\u4ec5\u5c06\u4e3b\u670d\u52a1\u5668\u7684\u4e3b\u673a\u540d\uff08host name\uff09\u5199\u5165 /etc/yp/`domainname```\u6587\u4ef6\u4e2d\u3002 \u901a\u8fc7 ypbind(8) \u6fc0\u6d3b\u548c\u542f\u52a8YP\u5ba2\u6237\u7aef\u5b88\u62a4\u8fdb\u7a0b\u3002 # rcctl enable ypbind # rcctl start ypbind \u5982\u679c\u4e00\u5207\u8fd0\u884c\u826f\u597d\uff0c\u60a8\u5e94\u8be5\u80fd\u591f\u4f7f\u7528 ypcat(1) \u5411YP\u670d\u52a1\u5668\u67e5\u8be2\u5e76\u5f97\u5230\u60a8\u7684passwd\u6620\u5c04\u3002 # ypcat passwd bob:*:5001:5000:Bob Nuggets:/home/bob:/usr/local/bin/zsh ... \u53e6\u4e00\u4e2a\u7528\u6765\u8c03\u8bd5\u60a8\u7684YP\u8bbe\u7f6e\u7684\u6709\u7528\u5de5\u5177\u662f ypmatch(1) \u3002 \u914d\u7f6eYP\u5ba2\u6237\u7aef\u7684\u7b2c\u4e8c\u90e8\u5206\u9700\u8981\u7f16\u8f91\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u6765\u4f7f\u4e0d\u540c\u7684\u7cfb\u7edf\u8bbe\u65bd\u4f7f\u7528\u7279\u5b9a\u7684YP\u6620\u5c04\u3002\u4e0d\u662f\u6240\u6709\u7684\u670d\u52a1\u5668\u5171\u4eab\u7684\u6240\u6709\u6807\u51c6\u6620\u5c04\u90fd\u80fd\u88ab\u64cd\u4f5c\u7cfb\u7edf\u6240\u4f7f\u7528\uff0c\u540c\u65f6\u4e00\u4e9b\u670d\u52a1\u5668\u4e5f\u63d0\u4f9b\u9644\u52a0\u7684\u975e\u6807\u51c6\u6620\u5c04\uff0c\u4f46\u662f\u60a8\u5e76\u975e\u5fc5\u987b\u4f7f\u7528\u5b83\u4eec\u7684\u5168\u90e8\u3002\u54ea\u4e9b\u53ef\u7528\u7684\u6620\u5c04\u5e94\u8be5\u6216\u4e0d\u5e94\u8be5\u4f7f\u7528\uff0c\u4ee5\u53ca\u5e94\u8be5\u51fa\u4e8e\u4ec0\u4e48\u76ee\u7684\u88ab\u4f7f\u7528\u5b8c\u5168\u53d6\u51b3\u4e8e\u5ba2\u6237\u7aef\u4e3b\u673a\u7cfb\u7edf\u7684\u7ba1\u7406\u5458\u3002 \u9605\u8bfb Makefile.yp(8) \u6765\u5f97\u5230\u4e00\u4e2a\u5305\u542b\u6807\u51c6YP\u6620\u5c04\u548c\u5b83\u4eec\u6807\u51c6\u7528\u6cd5\u7684\u5217\u8868\u3002 \u5982\u679c\u60a8\u60f3\u8981\u5f15\u5165\u6765\u81eaYP\u57df\u7684\u5168\u90e8\u7528\u6237\u8d26\u53f7\uff0c\u5728\u4e3b\u5bc6\u7801\u6587\u4ef6\u4e2d\u6dfb\u52a0\u9ed8\u8ba4YP\u6807\u8bb0\uff08default YP marker\uff09\u5e76\u91cd\u65b0\u6784\u5efa\u5bc6\u7801\u6570\u636e\u5e93\uff1a # echo '+:*::::::::' >> /etc/master.passwd # pwd_mkdb -p /etc/master.passwd \u5173\u4e8e\u8be6\u7ec6\u7684\u6311\u9009\u8981\u5f15\u5165\u7684\u7528\u6237\u8d26\u6237\u7684\u65b9\u5f0f\uff0c\u8bf7\u89c1 passwd(5) \u7684\u624b\u518c\u9875\u3002\u4f7f\u7528 id(1) \u5de5\u5177\u6765\u6d4b\u8bd5\u9009\u4e2d\u7684\u8d26\u6237\u662f\u5426\u771f\u6b63\u751f\u6548\u3002 \u5982\u679c\u60a8\u60f3\u8981\u5728\u5ba2\u6237\u7aef\u7cfb\u7edf\u4e0a\u5f15\u5165\u6765\u81eaYP\u57df\u7684\u5168\u90e8\u7528\u6237\u7ec4\uff0c\u5728\u7528\u6237\u7ec4\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u9ed8\u8ba4YP\u6807\u8bb0\uff1a # echo '+:*::' >> /etc/group","title":"\u7cfb\u7edf\u7ba1\u7406"},{"location":"openbsd-faq/faq10/#openbsd-faq---\u7cfb\u7edf\u7ba1\u7406","text":"","title":"OpenBSD FAQ - \u7cfb\u7edf\u7ba1\u7406"},{"location":"openbsd-faq/faq10/#\u5b89\u5168\u66f4\u65b0","text":"\u5f53\u4e00\u4e2a\u5173\u952e\u6027\u7684Bug\u88ab\u53d1\u73b0\u540e\uff0c\u4fee\u590d\u5c06\u4f1a\u88ab\u5c3d\u53ef\u80fd\u5feb\u5730\u63d0\u4ea4\u5230\u5f53\u524d\u6e90\u7801\u6811\u4e2d\uff08\u5e76\u5728 \u5feb\u7167\u6784\u5efa \u4e2d\u53ef\u7528\uff09\u3002\u8be5\u4fee\u590d\u5c06\u4f1a\u4ee5 \u8865\u4e01(errata) \u7684\u5f62\u5f0f\u88ab\u5411\u540e\u79fb\u690d\u81f3\u6700\u65b0\u7684\u4e24\u4e2aOpenBSD\u53d1\u884c\u7248\u4e2d\u5e76\u4e14\u76f8\u5173\u7ec6\u8282\u5c06\u4f1a\u88ab\u53d1\u9001\u5230 \u516c\u544a(announce) \u90ae\u4ef6\u5217\u8868\u4e2d\u3002 \u6709\u4ee5\u4e0b\u83b7\u5f97\u8fd9\u4e9b\u4fee\u590d\u7684\u65b9\u5f0f\uff1a \u5e94\u7528\u4e8c\u8fdb\u5236\u8865\u4e01\uff08\u5728amd64\uff0carm64\uff0ci386\u67b6\u6784\u4e0a\u53ef\u7528\uff09 syspatch(8) \u5de5\u5177\u53ef\u4ee5\u5728\u4efb\u4f55\u4e00\u4e2a\u652f\u6301\u7684OpenBSD\u53d1\u884c\u7248\u4e2d\u4e3a\u4efb\u610f\u6587\u4ef6\u5347\u7ea7\u5b89\u5168\u6216\u53ef\u9760\u6027\u8865\u4e01\u3002\u8fd9\u662f\u6700\u5feb\u901f\u4e5f\u662f\u6700\u7b80\u5355\u7684\u5c06\u57fa\u7840\u7cfb\u7edf\u66f4\u65b0\u5230\u6700\u65b0\u7684\u65b9\u5f0f \u5347\u7ea7\u7cfb\u7edf\u5230\u7a33\u5b9a\uff08stable\uff09\u7248\u672c \u901a\u8fc7 CVS \u62c9\u53d6\uff08\u6216\u5347\u7ea7\uff09\u60a8\u7684\u6e90\u4ee3\u7801\u6811\uff0c\u7136\u540e \u91cd\u65b0\u7f16\u8bd1 \u5185\u6838\u548c\u7528\u6237\u7a0b\u5e8f\u3002 \u5206\u522b\u4e3a\u53d7\u5f71\u54cd\u7684\u6587\u4ef6\u5e94\u7528\u8865\u4e01 \u867d\u7136\u901a\u8fc7\u5e94\u7528\u5728\u8865\u4e01\u9875\u4e0a\u7684\u4fee\u590d\u5f80\u5f80\u8981\u6bd4\u901a\u8fc7CVS\u7684\u68c0\u51fa\u548c\u91cd\u6784\u5efa\u66f4\u5feb\u4e00\u4e9b\uff0c\u4f46\u662f\u8fd9\u79cd\u65b9\u5f0f\u6ca1\u6709\u4e98\u53e4\u4e0d\u53d8\u7684\u65b9\u6cd5\u6765\u505a\u5230\u8fd9\u4e00\u70b9\u3002\u6709\u65f6\u5019\u4f60\u5fc5\u987b\u4e3a\u4e00\u4e2a\u5e94\u7528\u5e94\u7528\u8865\u4e01\u5e76\u4e14\u91cd\u65b0\u7f16\u8bd1\u4e4b\uff0c\u6709\u65f6\u8fd8\u8981\u66f4\u9ebb\u70e6\u4e00\u4e9b\u3002 \u5347\u7ea7\u5230\u5f53\u524d\uff08current\uff09\u7248\u672c\u7684\u7cfb\u7edf \u7531\u4e8e\u6240\u6709\u7684\u4fee\u590d\u90fd\u88ab\u5e94\u7528\u5230\u5f53\u524d\u7248\u672c\u7684\u4ee3\u7801\u5e93\u4e2d\uff0c\u5c06\u7cfb\u7edf\u5347\u7ea7\u5230\u6700\u65b0\u7684\u5feb\u7167\u7248\u672c\uff08snapshot\uff09\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u4e00\u6b21\u6027\u5b8c\u6210\u6240\u6709\u4fee\u590d\u7684\u65b9\u5f0f\u3002\u4f46\u662f\u5feb\u7167\u7248\u672c\u7684\u7cfb\u7edf\u5e76\u4e0d\u9002\u7528\u4e8e\u6240\u6709\u4eba\u3002 \u4e3a\u901a\u8fc7 \u5305 \u5b89\u88c5\u7684\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u63d0\u4f9b\u7684\u5b89\u5168\u66f4\u65b0\u901a\u5e38\u4ec5\u4ec5\u88ab\u5411\u540e\u79fb\u690d\u5230\u6700\u8fd1\u7684\u53d1\u884c\u7248\u3002\u4e3a\u4e86\u5e94\u7528\u5b83\u4eec\uff0c\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\u4e4b\u4e00\uff1a \u4f7f\u7528\u4e8c\u8fdb\u5236\u5305\uff08\u5728amd64\uff0carm64\uff0ci386\uff0csparc64\u4e0a\u53ef\u7528\uff09 \u4e3a\u53d1\u884c\u7248\uff08release\uff09\u548c\u7a33\u5b9a\u7248\uff08stable\uff09\u7cfb\u7edf\u63d0\u4f9b\u7684\u66f4\u65b0\u7684\u4e8c\u7981\u6b62\u5e94\u7528\u5305\u88ab\u63d0\u4f9b\u6765\u5b9a\u4f4d\u5b89\u5168\u95ee\u9898\u6216\u8005\u8fdb\u884c\u5176\u4ed6\u4e3b\u8981\u7684\u4fee\u590d\u3002\u60a8\u53ef\u4ee5\u5e26\u6709-u\u9009\u9879\u8c03\u7528 pkg_add(1) \u6765\u83b7\u5f97\u66f4\u65b0\u7684\u8f6f\u4ef6\u5305\u3002 \u4f7f\u7528\u7a33\u5b9a\u7248\u7684ports\u6e90\u7801\u6811 \u62c9\u53d6\uff08\u6216\u8005\u66f4\u65b0\uff09\u60a8\u7684ports\u6e90\u7801\u6811\uff0c\u8fd0\u884c /usr/ports/infastructure/bin/pkg_outdated \u811a\u672c\u6765\u5217\u51fa\u9700\u8981\u91cd\u65b0\u6784\u5efa\u7684\u8f6f\u4ef6\u5305\uff0c\u7136\u540e\u5728\u53d7\u5230\u5f71\u54cd\u7684port\u8f6f\u4ef6\u5305\u76ee\u5f55\u4e2d\u8c03\u7528 make update \u3002\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5df2\u7ecf\u5b58\u5728\u7684ports\u8f6f\u4ef6\u5305\u9700\u8981\u5728\u91cd\u65b0\u6784\u5efa\u524d\u88ab\u5378\u8f7d\u3002 \u5c06\u60a8\u7684\u7cfb\u7edf\u5347\u7ea7\u5230\u5f53\u524d\u7248\u672c \u63d0\u4f9b\u7ed9\u5f53\u524d\u7248\u672c\u7cfb\u7edf\u7684\u8f6f\u4ef6\u5305\u90fd\u4f1a\u88ab\u5b9a\u671f\u91cd\u65b0\u6784\u5efa\uff0c\u8fd9\u4e9b\u65b0\u7684\u8f6f\u4ef6\u5305\u5c06\u4f1a\u5305\u542b\u5168\u90e8\u5b89\u5168\u8865\u4e01\u3002 \u8003\u8651\u8ddf\u8fdb ports-changes \u90ae\u4ef6\u5217\u8868\u6765\u6536\u5230\u5173\u4e8eport\u8f6f\u4ef6\u5305\u66f4\u65b0\u7684\u63d0\u9192\u3002","title":"\u5b89\u5168\u66f4\u65b0"},{"location":"openbsd-faq/faq10/#\u7cfb\u7edf\u5b88\u62a4\u8fdb\u7a0b","text":"\u7cfb\u7edf\u5b88\u62a4\u8fdb\u7a0b\uff08\u6362\u800c\u8a00\u4e4b\uff0c\u201c\u670d\u52a1\u201d\uff09\u7531 rc(8) \u811a\u672c\u901a\u8fc7 rc.d(8) \u542f\u52a8\uff0c\u505c\u6b62\u548c\u63a7\u5236\u3002 \u5927\u591a\u6570\u968fOpenBSD\u53d1\u5e03\u7684\u5b88\u62a4\u8fdb\u7a0b\u548c\u670d\u52a1\u7531\u5728 /etc/rc.conf(8) \u5b9a\u4e49\u7684\u53d8\u91cf\u5728\u542f\u52a8\u65f6\u63a7\u5236\u3002\u4f60\u5c06\u4f1a\u770b\u5230\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u5185\u5bb9\uff1a httpd_flags=NO \u8fd9\u8868\u793a httpd(8) \u4e0d\u4f1a\u5728\u542f\u52a8\u65f6\u7531 rc(8) \u542f\u52a8\u3002\u6bcf\u4e00\u884c\u90fd\u542b\u6709\u5bf9\u4e8e\u6b64\u5b88\u62a4\u8fdb\u7a0b\u6216\u670d\u52a1\u7684\u60ef\u7528\u4f8b\u63cf\u8ff0\u3002 \u4e0d\u8981\u76f4\u63a5\u66f4\u6539 rc.conf(8) \u6587\u4ef6\u3002\u53d6\u800c\u4ee3\u4e4b\u5730\uff0c\u4f7f\u7528 rcctl(8) \u5de5\u5177\u6765\u7ef4\u62a4 /etc/rc.conf.local \u6587\u4ef6\u3002\u8fd9\u6837\u53ef\u4ee5\u7b80\u5316\u5c06\u6765\u7684\u7cfb\u7edf\u5347\u7ea7\uff0c\u56e0\u4e3a\u66f4\u6539\u90fd\u53d1\u751f\u5728\u4e00\u4e2a\u4e0d\u4f1a\u5728\u5347\u7ea7\u65f6\u88ab\u4fee\u6539\u7684\u6587\u4ef6\u4e2d\u3002 \u4f8b\u5982\uff0c\u4e3a\u4e86\u542f\u52a8 apmd(8) \u5b88\u62a4\u8fdb\u7a0b\u6765\u8fdb\u884cCPU\u76d1\u63a7\uff0c\u53ef\u4ee5\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # rcctl enable apmd # rcctl set apmd flags -A # rcctl start apmd","title":"\u7cfb\u7edf\u5b88\u62a4\u8fdb\u7a0b"},{"location":"openbsd-faq/faq10/#\u4ee5\u5176\u4ed6\u7528\u6237\u8eab\u4efd\u6267\u884c\u547d\u4ee4","text":"doas(1) \u5de5\u5177\u7ed9\u4e88\u7cfb\u7edf\u7ba1\u7406\u5458\u6388\u6743\u7279\u5b9a\u7528\u6237\u4ee5\u5176\u4ed6\u7528\u6237\u7684\u8eab\u4efd\u8fd0\u884c\u67d0\u4e9b\u547d\u4ee4\u7684\u65b9\u5f0f\u3002\u666e\u901a\u7528\u6237\u53ef\u4ee5\u8fd0\u884c\u7ba1\u7406\u5458\u547d\u4ee4\uff0c\u800c\u53ea\u9700\u8981\u9a8c\u8bc1\u81ea\u5df1\u7684\u8eab\u4efd\uff0c\u4e0d\u5fc5\u5f97\u77e5root\u5bc6\u7801\u3002 \u4f8b\u5982\uff0c\u5982\u679cdoas\u5de5\u5177\u88ab\u6b63\u786e\u914d\u7f6e\u4e86\uff0c\u4ee5\u4e0b\u7684\u547d\u4ee4\u5c06\u4f1a\u663e\u793aroot\u7528\u6237\u7684 crontab(5) \u6587\u4ef6\uff1a $ doas -u root crontab -l doas(1) \u8c03\u7528\u547d\u4ee4\u7684\u8bb0\u5f55\u9ed8\u8ba4\u50a8\u5b58\u5728 /var/log/secure \u6587\u4ef6\u3002\u9605\u8bfb doas.conf(5) \u624b\u518c\u9875\u6765\u83b7\u5f97\u914d\u7f6e\u6837\u4f8b\u3002","title":"\u4ee5\u5176\u4ed6\u7528\u6237\u8eab\u4efd\u6267\u884c\u547d\u4ee4"},{"location":"openbsd-faq/faq10/#\u7f16\u8f91\u5bc6\u7801\u6587\u4ef6","text":"OpenBSD\u7684\u4e3b\u8981\u5bc6\u7801\u6587\u4ef6\u4f4d\u4e8e /etc/master.passwd \uff0c\u6b64\u6587\u4ef6\u4ec5root\u53ef\u8bfb\u3002 pwd_mkdb(8) \u5de5\u5177\u4ece\u4e3b\u6587\u4ef6\u4e2d\u751f\u6210\u901a\u7528\u53ef\u8bfb\u7684 /etc/passwd \u6587\u4ef6\u548c\u5bc6\u7801\u6570\u636e\u5e93\uff08 /etc/pwd.db \u4ee5\u53ca /etc/spwd.db )\u3002\u6587\u4ef6\u7684\u683c\u5f0f\u4f4d\u4e8e passwd(5) \u624b\u518c\u9875\u4e2d\u3002","title":"\u7f16\u8f91\u5bc6\u7801\u6587\u4ef6"},{"location":"openbsd-faq/faq10/#\u91cd\u7f6eroot\u5bc6\u7801","text":"\u5982\u679croot\u5bc6\u7801\u88ab\u9057\u5fd8\u4e86\uff0c\u57fa\u672c\u7684\u91cd\u65b0\u83b7\u5f97\u8bbf\u95ee\u6743\u9650\u7684\u65b9\u5f0f\u662f\u901a\u8fc7\u542f\u52a8\u5355\u7528\u6237\u6a21\u5f0f\uff0c\u6302\u8f7d / \u548c /usr \u5206\u533a\u518d\u8fd0\u884c passwd(1) \u6765\u66f4\u6539root\u7528\u6237\u7684\u5bc6\u7801\u3002 \u542f\u52a8\u5230\u5355\u7528\u6237\u6a21\u5f0f\u3002\u8fd9\u4e00\u90e8\u5206\u8fc7\u7a0b\u56e0\u5e73\u53f0\u800c\u5f02\u3002\u5bf9\u4e8eamd64\u53cai386\u5e73\u53f0\u800c\u8a00\uff0c \u7b2c\u4e8c\u9636\u6bb5\u5f15\u5bfc\u7a0b\u5e8f(second stage boot loader) \u4e3a\u63d0\u4f9b\u66f4\u6539\u5185\u6838\u542f\u52a8\u53c2\u6570\u7684\u673a\u4f1a\u800c\u4f1a\u7b49\u5f85\u51e0\u79d2\u79cd\u65f6\u95f4\u3002\u5728\u8fd9\u91cc\u53ef\u4ee5\u5411 boot(8) \u4f20\u5165-s\u53c2\u6570\uff1a probing: pc0 com0 com1 mem[638K 1918M a20=on] disk: hd0+ hd1+ >> OpenBSD/amd64 BOOT 3.33 boot> boot -s \u6302\u8f7d\u5206\u533a\u3002 / \u548c /usr \u90fd\u9700\u8981\u4ee5\u53ef\u8bfb\u5199\u65b9\u5f0f\u88ab\u6302\u8f7d\u3002 # fsck -p / && mount -uw / # fsck -p /usr && mount /usr \u66f4\u6539root\u5bc6\u7801\u3002\u7531\u4e8e\u7cfb\u7edf\u6b63\u8fd0\u884c\u5728\u5355\u7528\u6237\u6a21\u5f0f\u4e0b\uff0c\u4f60\u5df2\u7ecf\u62e5\u6709\u4e86root\u7279\u6743\uff0c\u6240\u4ee5\u4f60\u4e0d\u4f1a\u518d\u88ab\u8981\u6c42\u63d0\u4f9b\u5f53\u524d\u5bc6\u7801\u3002 # passwd \u542f\u52a8\u5230\u591a\u7528\u6237\u6a21\u5f0f\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u6309\u4e0bCTRL-D\u7ec4\u5408\u952e\u7ee7\u7eed\u666e\u901a\u542f\u52a8\u8fdb\u7a0b\u6216\u8005\u952e\u5165 reboot \u6765\u5b8c\u6210\u3002","title":"\u91cd\u7f6eRoot\u5bc6\u7801"},{"location":"openbsd-faq/faq10/#\u65f6\u949f\u540c\u6b65","text":"OpenNTPD \u662f\u4e00\u4e2a\u5b89\u5168\u3001\u7b80\u5355\u4e14NTP\u517c\u5bb9\u7684\u5728\u4f60\u7684\u8ba1\u7b97\u673a\u4e0a\u63d0\u4f9b\u51c6\u786e\u65f6\u95f4\u7684\u65b9\u6cd5\u3002 ntpd(8) \u5b88\u62a4\u8fdb\u7a0b\u9ed8\u8ba4\u88ab\u6fc0\u6d3b\u4e14\u5c06\u4f1a\u57fa\u4e8e\u4eceNTP\u540c\u4f34\u6536\u5230\u7684\u6570\u636e\u8bbe\u7f6e\u7cfb\u7edf\u65f6\u95f4\u3002\u4e00\u65e6\u65f6\u95f4\u88ab\u6b63\u786e\u7684\u8bbe\u7f6e\uff0c\u5176\u5c06\u4f1a\u901a\u8fc7\u5728 ntpd.conf(5) \u4e2d\u914d\u7f6e\u7684\u65f6\u95f4\u670d\u52a1\u5668\u9ad8\u7cbe\u5ea6\u5730\u7ef4\u6301\u3002\u5728\u542f\u52a8\u65f6\uff0c ntpd \u53ea\u4f1a\u5411\u524d\u8c03\u6574\u65f6\u95f4\u3002\u5982\u679c\u60a8\u7684\u65f6\u95f4\u5df2\u7ecf\u88ab\u5411\u540e\u8c03\u6574\u4e86\uff0c\u8bf7\u4f7f\u7528 date(1) \u624b\u52a8\u8c03\u6574\u65f6\u95f4\u3002 \u82e5\u8981\u5c06OpenNTPD\u4f5c\u4e3a\u670d\u52a1\u5668\uff0c\u8bf7\u5728 ntpd.conf(5) \u6587\u4ef6\u4e2d\u52a0\u5165\u4e00\u884c listen on * \u5e76\u91cd\u65b0\u542f\u52a8\u5b88\u62a4\u8fdb\u7a0b\u3002\u60a8\u4e5f\u53ef\u4ee5\u6307\u5b9a\u5176\u4ec5\u76d1\u542c\u67d0\u4e00\u4e2a\u7279\u5b9a\u7684\u5730\u5740\u6216\u8005\u63a5\u53e3\u3002 \u5f53\u60a8\u5c06 ntpd(8) \u7528\u4e8e\u76d1\u542c\u65f6\uff0c\u5176\u4ed6\u8bbe\u5907\u53ef\u80fd\u4e0d\u80fd\u7acb\u523b\u540c\u6b65\u5b83\u4eec\u7684\u65f6\u95f4\u3002\u8fd9\u662f\u56e0\u4e3a\u76f4\u5230\u672c\u5730\u65f6\u949f\u4ee5\u4e00\u4e2a\u5408\u7406\u7684\u7a33\u5b9a\u6c34\u5e73\u88ab\u540c\u6b65\u540e\uff0cntpd\u624d\u4f1a\u63d0\u4f9b\u65f6\u95f4\u4fe1\u606f\u3002\u4e00\u65e6\u672c\u5730\u65f6\u949f\u8fbe\u5230\u6b64\u6c34\u5e73\uff0c\u4e00\u4e2a\"clock now synced\"\uff08\u65f6\u95f4\u5df2\u88ab\u540c\u6b65\uff09\u4fe1\u606f\u5c06\u4f1a\u88ab\u5199\u5165 /var/log/daemon \u3002","title":"\u65f6\u949f\u540c\u6b65"},{"location":"openbsd-faq/faq10/#\u65f6\u533a","text":"\u9ed8\u8ba4OpenBSD\u5047\u8bbe\u60a8\u7684\u786c\u4ef6\u65f6\u95f4\u88ab\u8bbe\u7f6e\u4e3a\u534f\u8c03\u4e16\u754c\u65f6\uff08UTC\uff09\u800c\u4e0d\u662f\u672c\u5730\u65f6\u95f4\u3002\u8fd9\u5728 \u591a\u542f\u52a8(multibooting) \u65f6\u4f1a\u4ea7\u751f\u95ee\u9898\u3002\u8bb8\u591a\u5176\u4ed6\u7684\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u8fdb\u884c\u76f8\u540c\u7684\u914d\u7f6e\u8fdb\u800c\u4e00\u540c\u89e3\u51b3\u95ee\u9898\u3002 \u5982\u679c\u5c06\u786c\u4ef6\u65f6\u95f4\u8bbe\u7f6e\u4e3aUTC\u65f6\u95f4\u786e\u5b9e\u662f\u4e00\u4e2a\u95ee\u9898\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 sysctl.conf(5 \u66f4\u6539OpenBSD\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002\u4f8b\u5982\uff0c\u5c06\u4e0b\u9762\u8fd9\u4e00\u884c\u5199\u5165 /etc/sysctl.conf \u53ef\u4ee5\u914d\u7f6eOpenBSD\u5c06\u786c\u4ef6\u65f6\u95f4\u89c6\u4e3a\u7f8e\u56fd\u4e1c\u90e8\u6807\u51c6\u65f6\u95f4\uff08\u6162\u4e8eUTC\u65f6\u95f45\u4e2a\u5c0f\u65f6\uff0c\u5373\u51cf\u53bb300\u5206\u949f\uff09\uff1a kern.utc_offset=-300 \u67e5\u770b sysctl(2) \u624b\u518c\u9875\u6765\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002 \u8bf7\u6ce8\u610f\u786c\u4ef6\u65f6\u95f4\u5fc5\u987b\u5728OpenBSD\u542f\u52a8\u524d\u5df2\u7ecf\u6309\u7167\u4ee5\u4e0a\u7684\u504f\u79fb\u91cf\u88ab\u8bbe\u7f6e\uff0c\u5426\u5219\u7cfb\u7edf\u65f6\u95f4\u5c06\u4f1a\u5728\u542f\u52a8\u65f6\u88ab\u4e0d\u6b63\u786e\u5730\u8c03\u6574\u3002 \u4e00\u822c\u5730\uff0c\u65f6\u533a\uff08time zone\uff09\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u88ab\u8bbe\u7f6e\u3002\u5982\u679c\u4f60\u9700\u8981\u66f4\u6539\u65f6\u533a\uff0c\u4f60\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5bf9\u5728 /usr/share/zoneinfo \u4e2d\u9002\u5f53\u65f6\u533a\u6587\u4ef6\u7684\u7b26\u53f7\u94fe\u63a5\u3002\u4f8b\u5982\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u4ee5\u5c06\u8bbe\u5907\u8bbe\u7f6e\u4e3a\u4f7f\u7528EST5EDT\u65f6\u533a\u4f5c\u4e3a\u65b0\u7684\u672c\u5730\u65f6\u533a\u3002 # ln -fs /usr/share/zoneinfo/EST5EDT /etc/localtime \u4ea6\u89c1 date(1) \u7684\u624b\u518c\u9875\u3002","title":"\u65f6\u533a"},{"location":"openbsd-faq/faq10/#\u5b57\u7b26\u96c6character-sets\u53ca\u533a\u57df","text":"OpenBSD\u57fa\u7840\u7cfb\u7edf\u5b8c\u5168\u652f\u6301ASCII\u5b57\u7b26\u96c6\u548c\u7f16\u7801\uff0c\u5e76\u4e14\u90e8\u5206\u652f\u6301Unicode\u5b57\u7b26\u96c6\u7684\u90e8\u5206UTF-8\u7f16\u7801\u3002\u57fa\u7840\u7cfb\u7edf\u4e0d\u652f\u6301\u5176\u4ed6\u7f16\u7801\uff0c\u4f46\u662fports\u53ef\u4ee5\u88ab\u7528\u6765\u5904\u7406\u5b83\u4eec\u3002UTF-8\u652f\u6301\u7684\u7a0b\u5ea6\u548c\u9ed8\u8ba4\u7f16\u7801\u914d\u7f6e\u53d7\u7a0b\u5e8f\u4e0e\u5e93\u7684\u5f71\u54cd\u5f88\u5927\u3002 \u4e3a\u4e86\u5728\u652f\u6301\u7684\u5730\u65b9\u4f7f\u7528Unicode\u5b57\u7b26\u96c6\uff0c\u5c06 LC_CTYPE \u73af\u5883\u53d8\u91cf\u7684\u503c\u8bbe\u7f6e\u4e3a en_US.UTF-8 \uff1a \u5982\u679c\u60a8\u901a\u8fc7 xenodm \u767b\u9646\uff0c\u8bf7\u5728\u542f\u52a8\u7a97\u53e3\u7ba1\u7406\u5668(window manager)\u524d\u5411 ~/.xsession \u6587\u4ef6\u6dfb\u52a0 export LC_CTYPE=\"en_US.UTF-8\" \u3002\u5bf9\u4e8e\u8be6\u7ec6\u7684\u89e3\u91ca\uff0c\u8bf7\u89c1 \u81ea\u5b9a\u4e49X\u7cfb\u7edf \u3002 \u5982\u679c\u60a8\u901a\u8fc7\u6587\u672c\u63a7\u5236\u53f0(text console)\u767b\u9646\uff0c\u5411\u60a8\u7684 ~/.profile \u6587\u4ef6\u4e2d\u6dfb\u52a0 export LC_CTYPE=\"en_US.UTF-8\" \u3002\u6587\u672c\u63a7\u5236\u53f0\u7684UTF-8\u7f16\u7801\u652f\u6301\u5c1a\u5728\u5f00\u53d1\u4e4b\u4e2d\uff0c\u56e0\u6b64\u4e00\u4e9b\u975eASCII\u5b57\u7b26\u53ef\u80fd\u663e\u793a\u4e0d\u6b63\u786e\u3002 \u5f53\u60a8\u901a\u8fc7 ssh(1) \u767b\u9646\u5230\u8fdc\u7a0b\u7cfb\u7edf\u65f6\uff0c LC_TYPE \u73af\u5883\u53d8\u91cf\u4e0d\u4f1a\u4ece\u8fdc\u7a0b\u7cfb\u7edf\u4f20\u64ad\u81f3\u672c\u5730\u3002\u60a8\u5fc5\u987b\u786e\u4fdd\u672c\u5730\u7ec8\u7aef\u7684\u5b57\u7b26\u7f16\u7801\u5728\u8fde\u63a5\u524d\u5df2\u88ab\u8bbe\u7f6e\u4e3a\u8fdc\u7a0b\u7cfb\u7edf\u6240\u7528\u7684\u5b57\u7b26\u7f16\u7801\u3002\u5982\u679c\u8fdc\u7a0b\u7cfb\u7edf\u7684\u5b57\u7b26\u7f16\u7801\u672a\u77e5\u6216\u8005\u4e0d\u88abOpenBSD\u6240\u652f\u6301\uff0c\u8bf7\u786e\u4fdd\u60a8\u6b63\u4f7f\u7528\u9ed8\u8ba4\u7684 xterm(1) \u914d\u7f6e\u5e76\u5728\u8fde\u63a5\u540e\u5728\u8fdc\u7a0bShell\u4e2d\u5c06\u5b57\u7b26\u7f16\u7801\u8bbe\u7f6e\u4e3a LC_CTYPE=en_US.UTF-8 \u3002 OpenBSD\u57fa\u7840\u7cfb\u7edf\u5b8c\u5168\u5ffd\u7565\u9664\u4e86 LC_CTYPE \u4e4b\u5916\u7684\u4e00\u5207\u5730\u533a\u76f8\u5173\u73af\u5883\u53d8\u91cf\uff1b\u5373\u4f7f LC_ALL \u4e0e LANG \u4e5f\u4ec5\u4ec5\u5f71\u54cd\u5b57\u7b26\u7f16\u7801\u3002\u4e00\u4e9bports\u6e90\u7801\u5305\u53ef\u80fd\u4f1a\u4f7f\u7528\u5176\u4ed6\u7684 LC_* \u73af\u5883\u53d8\u91cf\uff0c\u4f46\u662f\u8fd9\u79cd\u884c\u4e3a\u4ee5\u53ca\u5c06 LC_CTYPE \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u4e3a\u9664\u4e86 C \uff0c POSIX \u6216 en_US.UTF-8 \u4e4b\u5916\u7684\u4efb\u4f55\u503c\u90fd\u662f\u4e0d\u88ab\u63d0\u5021\u7684\u3002","title":"\u5b57\u7b26\u96c6\uff08Character Sets\uff09\u53ca\u533a\u57df"},{"location":"openbsd-faq/faq10/#\u4f7f\u7528skey","text":"S/Key\u662f\u4e00\u5957\u201c\u4e00\u6b21\u6027\u5bc6\u7801\uff08one-time password\uff09\u201d\u9a8c\u8bc1\u7cfb\u7edf\u3002\u5b83\u901a\u8fc7\u4e00\u4e2a\u54c8\u5e0c\u51fd\u6570\uff08hash function\uff09\u4ece\u7528\u6237\u7684\u5bc6\u94a5\u751f\u6210\u4e00\u4e2a\u4e00\u6b21\u6027\u5bc6\u7801\u5e76\u63a5\u53d7\u6765\u81ea\u670d\u52a1\u5668\u7684\u9a8c\u8bc1\u3002\u8fd9\u4e9b\u54c8\u5e0c\u51fd\u6570\u5305\u62ec\uff1a md5 \uff0c sha1 \u4e0e rmd160 \u3002 \u8b66\u544a \uff1a\u4e00\u6b21\u6027\u5bc6\u7801\u7cfb\u7edf \u4ec5\u4ec5 \u4fdd\u62a4\u9a8c\u8bc1\u4fe1\u606f\u3002\u7a83\u542c\u8005\u4ecd\u7136\u53ef\u4ee5\u8bbf\u95ee\u79c1\u6709\u4fe1\u606f\u3002\u6b64\u5916\uff0c\u5982\u679c\u60a8\u6b63\u5728\u8bbf\u95ee\u4e00\u4e2a\u5b89\u5168\u7684\u7cfb\u7edfA\uff0c\u5efa\u8bae\u60a8\u901a\u8fc7\u53e6\u4e00\u4e2a\u53ef\u4fe1\u7684\u7cfb\u7edfB\u6765\u8fdb\u884c\u8fd9\u4e00\u70b9\u3002\u8fd9\u6837\u53ef\u4ee5\u786e\u4fdd\u6ca1\u6709\u4eba\u80fd\u591f\u901a\u8fc7\u8bb0\u5f55\u60a8\u7684\u51fb\u952e\u6216\u8005\u8bb0\u5f55\u3001\u4f2a\u9020\u60a8\u7684\u7ec8\u7aef\u8bbe\u5907\u6765\u5f97\u5230\u5bf9\u7cfb\u7edfA\u7684\u8bbf\u95ee\u6743\u9650\u3002","title":"\u4f7f\u7528S/Key"},{"location":"openbsd-faq/faq10/#\u8bbe\u7f6eskey","text":"\u5728\u5f00\u59cb\u4e4b\u524d\uff0c /etc/skey \u76ee\u5f55\u5fc5\u987b\u88ab\u521b\u5efa\u3002\u5982\u679c\u8fd9\u4e2a\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u8d85\u7ea7\u7528\u6237\u8eab\u4efd\u521b\u5efa\u5b83\uff1a # skeyinit -E \u7136\u540e\u4f7f\u7528 skeyinit(1) \u6765\u521d\u59cb\u5316\u60a8\u7684S/Key\u3002\u60a8\u9996\u5148\u9700\u8981\u8f93\u5165\u60a8\u7684\u767b\u9646\u5bc6\u7801\uff0c\u6b64\u540e\u60a8\u4f1a\u88ab\u8981\u6c42\u8bbe\u7f6e\u60a8\u7684S/Key\u53e3\u4ee4\uff0c\u6b64\u53e3\u4ee4\u5fc5\u987b\u81f3\u5c1110\u5b57\u7b26\u957f\u3002 $ skeyinit Password: [Adding ericj with md5] Enter new secret passphrase: Again secret passphrase: ID ericj skey is otp-md5 100 oshi45820 Next login password: HAUL BUS JAKE DING HOT HOG \u8bf7\u6ce8\u610f\u5728\u6700\u540e\u4e24\u884c\u4e2d\u7684\u4fe1\u606f\u3002\u7a0b\u5e8f\u7528\u6765\u521b\u5efa\u60a8\u7684S/Key\u5bc6\u94a5\u7684\u7b97\u6cd5\u662f otp-md5(1) \uff0c\u5e8f\u5217\u53f7\u662f100\u5e76\u4e14\u5bc6\u94a5\u662f oshi45820 \u3002\u8fd9\u516d\u4e2a\u77ed\u77ed\u7684\u5355\u8bcd HAUL BUS JAKE DING HOT HOG \u6784\u6210\u4e86\u5177\u6709\u5e8f\u5217\u53f7100\u7684S/Key\u5bc6\u94a5\u3002","title":"\u8bbe\u7f6eS/Key"},{"location":"openbsd-faq/faq10/#\u751f\u6210skey\u5bc6\u7801","text":"\u4e3a\u4e86\u4e3a\u4e0b\u4e00\u6b21\u767b\u9646\u751f\u6210S/Key\u5bc6\u7801\uff0c\u4f7f\u7528 skeyinfo(1) \u547d\u4ee4\u6765\u627e\u5230\u6211\u4eec\u8981\u8f93\u5165\u7684\u5bc6\u94a5\u3002 $ skeyinfo -v otp-md5 95 oshi45820 $ otp-md5 95 oshi45820 Enter secret passphrase: NOOK CHUB HOYT SAC DOLE FUME \u4e3a\u4e86\u751f\u6210\u4e00\u7ec4S/Key\u5bc6\u94a5\uff0c\u8fd0\u884c\uff1a $ otp-md5 -n 5 95 oshi45820 Enter secret passphrase: 91: SHIM SET LEST HANS SMUG BOOT 92: SUE ARTY YAW SEED KURD BAND 93: JOEY SOOT PHI KYLE CURT REEK 94: WIRE BOGY MESS JUDE RUNT ADD 95: NOOK CHUB HOYT SAC DOLE FUME","title":"\u751f\u6210S/Key\u5bc6\u7801"},{"location":"openbsd-faq/faq10/#\u4f7f\u7528skey\u5bc6\u94a5\u767b\u9646","text":"\u8fd9\u662f\u4e00\u4e2a\u4f7f\u7528S/Key\u767b\u9646\u5230\u5728 localhost \u7684ftp\u670d\u52a1\u5668\u7684\u793a\u4f8b\u3002\u4e3a\u4e86\u542f\u7528S/Key\u767b\u9646\uff0c\u60a8\u9700\u8981\u5728\u60a8\u7684\u767b\u9646\u540d\u540e\u6dfb\u52a0 :skey \u540e\u7f00\u3002 $ ftp localhost Connected to localhost. 220 oshibana.shin.ms FTP server (Version 6.5/OpenBSD) ready. Name (localhost:ericj): ericj:skey 331- otp-md5 93 oshi45820 331 S/Key Password: JOEY SOOT PHI KYLE CURT REEK [...] 230 User ericj logged in. Remote system type is UNIX. Using binary mode to transfer files. ftp> quit 221 Goodbye. \u76f8\u4f3c\u7684\uff0c\u5bf9\u4e8e ssh(1) \uff1a $ ssh -l ericj:skey localhost otp-md5 91 oshi45821 S/Key Password: SHIM SET LEST HANS SMUG BOOT Last login: Thu Apr 7 12:21:48 on ttyp1 from 156.63.248.77 $","title":"\u4f7f\u7528S/Key\u5bc6\u94a5\u767b\u9646"},{"location":"openbsd-faq/faq10/#\u76ee\u5f55\u670d\u52a1","text":"OpenBSD\u53ef\u4ee5\u88ab\u7528\u505a\u5b58\u50a8\u7528\u6237\u51ed\u636e\uff0c\u7528\u6237\u7ec4\u4fe1\u606f\u548c\u5176\u4ed6\u7f51\u7edc\u76f8\u5173\u4fe1\u606f\u7684\u6570\u636e\u5e93\u3002 \u5f53\u7136\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5728OpenBSD\u4e0a\u4f7f\u7528\u5404\u79cd\u5404\u6837\u7684\u76ee\u5f55\u670d\u52a1\u3002\u4f46\u662fYP\u662f\u552f\u4e00\u4e00\u4e2a\u53ef\u4ee5\u76f4\u63a5\u4ece\u7c7b\u4f3c getpwent(3) \uff0c getgrent(3) \uff0c gethostbyname(3) \u7b49\u7684\u6807\u51c6C\u5e93\u51fd\u6570\u4e2d\u88ab\u8c03\u7528\u7684\u3002\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u5c06\u60a8\u7684\u6570\u636e\u4fdd\u5b58\u5728\u4e00\u4e2aYP\u6570\u636e\u5e93\u4e2d\uff0c\u60a8\u4e0d\u518d\u9700\u8981\u5c06\u5b83\u62f7\u8d1d\u5230\u7c7b\u4f3c master.passwd(5) \u7684\u6587\u4ef6\u4e2d\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5b83\uff0c\u4f8b\u5982\u9a8c\u8bc1\u7cfb\u7edf\u7528\u6237\u3002 YP\u662f\u4e00\u4e2aSun Microsystems NIS\uff08\u7f51\u7edc\u4fe1\u606f\u7cfb\u7edf\uff0cNetwork Information System\uff09\u517c\u5bb9\u7684\u76ee\u5f55\u670d\u52a1\u3002\u8bf7\u89c1 yp(8) \u6765\u5f97\u5230\u53ef\u7528\u7684\u624b\u518c\u9875\u7684\u603b\u89c8\u3002\u8bf7\u4ed4\u7ec6\u9605\u8bfb\uff0c\u56e0\u4e3a\u4e00\u4e9b\u5176\u4ed6\u5305\u542b\u76ee\u5f55\u670d\u52a1\u7684\u64cd\u4f5c\u7cfb\u7edf\u53ef\u80fd\u4f7f\u7528\u4e86\u76f8\u4f3c\u7684\u540d\u5b57\u4f46\u662f\u5374\u662f\u4e0d\u517c\u5bb9\u7684\uff0c\u4f8b\u5982NIS+\u3002 \u4e3a\u4e86\u4f7f\u7528\u9664YP\u4e4b\u5916\u7684\u76ee\u5f55\u670d\u52a1\uff0c\u60a8\u53ef\u4ee5\u4ece\u76ee\u5f55\u4e2d\u5c06\u6570\u636e\u62bd\u53d6\u5230\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u6216\u8005\u4f7f\u7528\u4e00\u4e2a\u5230\u76ee\u5f55\u7684YP\u524d\u7aef\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 sysutils/login_ldap port\u5b9e\u73b0\u524d\u8005\uff0c\u800c ypldap(8) \u5b88\u62a4\u8fdb\u7a0b\u63d0\u4f9b\u4e86\u540e\u8005\u3002 \u5bf9\u4e8e\u4e00\u4e9b\u5e94\u7528\u800c\u8a00\uff0c\u7b80\u5355\u7684\u5728\u51e0\u53f0\u8bbe\u5907\u4e4b\u95f4\u4f7f\u7528\u7c7b\u4f3c rdist(1) \uff0c cron(8) \uff0c scp(1) \u6216 rsync \uff08\u5728ports\u6e90\u4e2d\u53ef\u7528\uff09\u7684\u5de5\u5177\u540c\u6b65\u5c11\u91cf\u914d\u7f6e\u6587\u4ef6\u4e5f\u53ef\u4ee5\u88ab\u770b\u4f5c\u4e00\u4e2a\u7b80\u5355\u4e14\u5065\u58ee\u7684\u66ff\u4ee3\u65b9\u6848\u3002","title":"\u76ee\u5f55\u670d\u52a1"},{"location":"openbsd-faq/faq10/#yp\u5b89\u5168\u7b56\u7565","text":"\u4e3a\u4e86\u517c\u5bb9\u6027\u56e0\u7d20\uff0c\u6240\u6709\u6784\u5efa\u91d1OpenBSD\u7684YP\u5b9e\u73b0\u4e2d\u7684\u5b89\u5168\u7279\u6027\u9ed8\u8ba4\u90fd\u88ab\u5207\u6362\u4e3a off \uff08\u5373\u5173\u95ed\uff09\u3002\u5373\u4f7f\u6240\u6709\u5b89\u5168\u7279\u6027\u5168\u90e8\u88ab\u6253\u5f00\uff0cNIS\u534f\u8bae\u7531\u4e8e\u4e24\u4e2a\u539f\u56e0\u4f9d\u7136\u662f\u4e0d\u5b89\u5168\u7684\uff1a\u6240\u6709\u7684\u6570\u636e\uff0c\u5305\u62ec\u50cf\u5bc6\u7801\u54c8\u5e0c\u503c\u4e00\u6837\u7684\u654f\u611f\u6570\u636e\u90fd\u5728\u7f51\u7edc\u4e2d\u4ee5\u660e\u6587\u4f20\u9012\uff0c\u5e76\u4e14\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u90fd\u4e0d\u80fd\u53ef\u9760\u5730\u9a8c\u8bc1\u5bf9\u65b9\u7684\u8eab\u4efd\u3002 \u56e0\u6b64\uff0c\u5728\u8bbe\u7f6e\u4efb\u4f55YP\u670d\u52a1\u5668\u524d\uff0c\u60a8\u5e94\u5f53\u8003\u8651\u8fd9\u4e9b\u6545\u6709\u7684\u5b89\u5168\u7f3a\u70b9\u662f\u5426\u5728\u60a8\u7684\u5e94\u7528\u73af\u5883\u4e2d\u662f\u53ef\u63a5\u53d7\u7684\u3002\u7279\u522b\u5730\uff0c\u5982\u679c\u53ef\u80fd\u7684\u653b\u51fb\u8005\u80fd\u591f\u5728\u7269\u7406\u4e0a\u8bbf\u95ee\u60a8\u7684\u7f51\u7edc\uff0cYP\u7684\u7f3a\u70b9\u5c31\u66f4\u52a0\u663e\u8457\u4e86\u3002\u4efb\u4f55\u62e5\u6709\u5728\u60a8\u4f20\u8f93IP\u6d41\u91cf\u7684\u7f51\u6bb5\u4e2d\u7684\u8bbe\u5907\u7684root\u6743\u9650\u7684\u4eba\u90fd\u53ef\u4ee5\u7ed1\u5b9a\uff08bind\uff09\u5230\u60a8\u7684YP\u57df\u5e76\u8bbf\u95ee\u5176\u6570\u636e\u3002\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5c06YP\u6570\u636e\u901a\u8fc7SSL\u6216\u8005IPSec\u901a\u9053\u4f20\u8f93\u53ef\u80fd\u662f\u4e00\u4e2a\u53ef\u7528\u7684\u9009\u9879\u3002","title":"YP\u5b89\u5168\u7b56\u7565"},{"location":"openbsd-faq/faq10/#\u8bbe\u7f6e\u4e00\u4e2ayp\u670d\u52a1\u5668","text":"\u4e00\u4e2aYP\u670d\u52a1\u5668\u670d\u52a1\u4e8e\u4e00\u7ec4\u88ab\u53eb\u505a\u201c\u57df\u201d\uff08domain\uff09\u7684\u5ba2\u6237\u7aef\u3002\u60a8\u5e94\u8be5\u9996\u5148\u9009\u62e9\u4e00\u4e2a\u57df\u540d\uff08domain name\uff09\uff1b\u5b83\u5e94\u8be5\u662f\u4e00\u4e2a\u4e0d\u4ee5\u4efb\u4f55\u65b9\u5f0f\u4e0eDNS\u57df\u540d\u76f8\u5173\u7684\u4efb\u610f\u5b57\u7b26\u4e32\u3002\u9009\u62e9\u4e00\u4e2a\u50cf\u662f\u201cEepoo5vi\u201d\u7684\u968f\u673a\u540d\u5b57\u80fd\u591f\u7565\u5fae\u589e\u5f3a\u5b89\u5168\u6027\uff0c\u5c3d\u7ba1\u8fd9\u79cd\u5b89\u5168\u6548\u679c\u4e3b\u8981\u6765\u6e90\u4e8e\u540d\u5b57\u7684\u6a21\u7cca\u6027\u3002\u5728\u60a8\u9700\u8981\u7ef4\u62a4\u51e0\u4e2a\u4e0d\u540c\u7684YP\u57df\u65f6\uff0c\u4f7f\u7528\u7c7b\u4f3c\u201csales\u201d\uff0c\u201cmarketing\u201d\u548c\u201cresearch\u201d\u7684\u63cf\u8ff0\u6027\u540d\u5b57\u53ef\u80fd\u662f\u66f4\u597d\u7684\u9009\u62e9\uff0c\u8fd9\u6837\u53ef\u4ee5\u9884\u9632\u7cfb\u7edf\u7ba1\u7406\u5458\u56e0\u4e3a\u6a21\u7cca\u6027\u800c\u4ea7\u751f\u7684\u95ee\u9898\u3002\u800c\u4e14\u8bf7\u6ce8\u610f\uff1a\u4e00\u4e9b\u7248\u672c\u7684SunOS\u8981\u6c42\u4f7f\u7528\u4e3b\u673a\u7684DNS\u57df\u540d\uff0c\u6240\u4ee5\u60a8\u7684\u9009\u62e9\u53ef\u80fd\u5728\u5305\u542b\u8fd9\u4e9b\u4e3b\u673a\u7684\u7f51\u7edc\u4e2d\u53d7\u5230\u9650\u5236\u3002 \u4f7f\u7528 domainname(1) \u5de5\u5177\u6765\u8bbe\u7f6e\u57df\u540d\uff0c\u5e76\u5c06\u5b83\u6dfb\u52a0\u5230 defaultdomain(5) \u6587\u4ef6\u4e2d\u6765\u4f7f\u5176\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u88ab\u81ea\u52a8\u8bbe\u7f6e\u3002 # echo \"puffynet\" > /etc/defaultdomain # domainname `cat /etc/defaultdomain` \u4f7f\u7528\u4ee5\u4e0b\u4ea4\u4e92\u5f0f\u547d\u4ee4\u6765\u521d\u59cb\u5316YP\u670d\u52a1\u5668\uff1a # ypinit -m \u6b64\u65f6\uff0c\u53ef\u80fd\u8fd8\u6ca1\u6709\u5fc5\u8981\u8bbe\u7f6e\u6b21\u670d\u52a1\u5668\uff08slave server\uff09\u3002\u4e3a\u4e86\u6dfb\u52a0\u6b21\u670d\u52a1\u5668\uff0c\u60a8\u53ef\u4ee5\u6b64\u540e\u518d\u6b21\u5e26\u6709 -u \u9009\u9879\u8fd0\u884c ypinit(8) \u547d\u4ee4\u3002\u4e3a\u6bcf\u4e00\u4e2a\u57df\u81f3\u5c11\u8bbe\u7f6e\u4e00\u53f0\u6b21\u670d\u52a1\u5668\u5bf9\u4e8e\u907f\u514d\u670d\u52a1\u4e2d\u65ad\u662f\u4e00\u4e2a\u6709\u7528\u7684\u65b9\u6cd5\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e3b\u670d\u52a1\u5668\uff08master server\uff09\u5b95\u673a\u6216\u4e22\u5931\u7f51\u7edc\u8fde\u63a5\uff0c\u8bd5\u56fe\u8bbf\u95eeYP\u6620\u5c04\uff08YP map\uff09\u7684\u5ba2\u6237\u7aef\u8fdb\u7a0b\u5c06\u4f1a\u65e0\u9650\u671f\u963b\u585e\u76f4\u5230\u5b83\u4eec\u6536\u5230\u8bf7\u6c42\u7684\u4fe1\u606f\u3002\u56e0\u6b64\uff0cYP\u670d\u52a1\u4e2d\u65ad\u901a\u5e38\u4f1a\u5bfc\u81f4\u76f4\u5230YP\u670d\u52a1\u6062\u590d\uff0c\u5ba2\u6237\u7aef\u4e3b\u673a\u5b8c\u5168\u4e0d\u53ef\u7528\u3002 \u51b3\u5b9a\u50a8\u5b58\u6e90\u6587\u4ef6\u7684\u4f4d\u7f6e\u6765\u751f\u6210\u60a8\u7684YP\u6620\u5c04\u3002\u4fdd\u6301\u670d\u52a1\u5668\u914d\u7f6e\u6587\u4ef6\u4e0e\u88ab\u7528\u4e8e\u63d0\u4f9b\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u5206\u79bb\u6709\u52a9\u4e8e\u63a7\u5236\u88ab\u5171\u4eab\u548c\u4e0d\u4f1a\u88ab\u5171\u4eab\u7684\u4fe1\u606f\uff0c\u6240\u4ee5\u9ed8\u8ba4\u7684 /etc/ \u76ee\u5f55\u901a\u5e38\u4e0d\u662f\u6700\u597d\u7684\u9009\u62e9\u3002 \u66f4\u6539\u6e90\u76ee\u5f55\u6700\u5927\u7684\u4e0d\u4fbf\u5229\u4e4b\u5904\u662f\u60a8\u4e0d\u80fd\u518d\u4f7f\u7528\u50cf\u662f user(8) \u548c group(8) \u7684\u5de5\u5177\u6dfb\u52a0\uff0c\u5220\u9664\u548c\u4fee\u6539\u8be5\u7528\u6237\u3002\u53d6\u800c\u4ee3\u4e4b\u5730\uff0c\u60a8\u5fc5\u987b\u4f7f\u7528\u4e00\u4e2a\u6587\u672c\u7f16\u8f91\u5668\u6765\u7f16\u8f91\u5b83\u4eec\u3002 \u8981\u5b9a\u4e49\u6e90\u76ee\u5f55\uff0c\u4fee\u6539\u6587\u4ef6 /var/yp/`domainname`/Makefile \u5e76\u66f4\u6539 DIR \u53d8\u91cf\uff0c\u4f8b\u5982\uff1a DIR=/etc/yp/src/puffynet \u8003\u8651\u81ea\u5b9a\u4e49\u5728 /var/yp/`domainname`/Makefile \u4e2d\u7684\u5176\u5b83\u53d8\u91cf\u3002\u7ec6\u8282\u8bf7\u89c1 Makefile.yp(8) \u3002 \u4f8b\u5982\uff0c\u5373\u4f7f\u5728\u60a8\u4f7f\u7528\u9ed8\u8ba4\u7684\u6e90\u76ee\u5f55 /etc \u65f6\uff0c\u60a8\u901a\u5e38\u5728\u5ba2\u6237\u7aef\u4e3b\u673a\u4e0a\u4e5f\u4e0d\u9700\u8981\u6240\u6709\u5b58\u5728\u5728\u670d\u52a1\u5668\u4e0a\u7684\u7528\u6237\u548c\u7ec4\u3002\u7279\u522b\u5730\uff0c\u4e0d\u5171\u4eabroot\u8d26\u6237\u5e76\u4fdd\u5bc6root\u5bc6\u7801\u7684\u54c8\u5e0c\u503c\u7ecf\u5e38\u662f\u6709\u76ca\u4e8e\u5b89\u5168\u7684\u3002\u68c0\u67e5 MINUID \uff0c MAXUID \uff0c MINGID \u548c MAXGID \u7684\u503c\u5e76\u6839\u636e\u60a8\u7684\u9700\u8981\u8c03\u6574\u5b83\u4eec\u3002 \u5982\u679c\u60a8\u7684YP\u5ba2\u6237\u7aef\u5168\u90e8\u8fd0\u884c\u5728OpenBSD\u6216FreeBSD\u7cfb\u7edf\u4e0a\uff0c\u901a\u8fc7\u5728 /var/yp/ domainname`/Makefile \u4e2d\u8bbe\u7f6e```UNSECURE=\"\" \u6765\u4ece passwd \u6620\u5c04\u4e2d\u79fb\u9664\u52a0\u5bc6\u7684\u5bc6\u7801\u3002 \u4e0d\u518d\u5efa\u8bae\u66fe\u7ecf\u76f4\u63a5\u4fee\u6539 /var/yp/Makefile.yp \u7684\u505a\u6cd5\u3002\u5bf9\u8be5\u6587\u4ef6\u7684\u4fee\u6539\u4ec5\u5f71\u54cd\u4fee\u6539\u4e4b\u540e\u521d\u59cb\u5316\u7684\u57df\uff0c\u5374\u4e0d\u5f71\u54cd\u5728\u6b64\u4e4b\u524d\u5df2\u7ecf\u521d\u59cb\u5316\u7684\u57df\u3002\u6240\u4ee5\u8fd9\u662f\u4e00\u79cd\u5bb9\u6613\u51fa\u9519\u7684\u65b9\u5f0f\uff1a\u60a8\u6b63\u5192\u7740\u671f\u671b\u7684\u66f4\u6539\u4e0d\u8d77\u4f5c\u7528\u548c\u5fd8\u8bb0\u5b83\u4eec\u5df2\u5bf9\u4ece\u672a\u671f\u671b\u7740\u751f\u6548\u7684\u57df\u4ea7\u751f\u5f71\u54cd\u7684\u98ce\u9669\u3002 \u60a8\u53ef\u4ee5\u521b\u5efa\u6e90\u76ee\u5f55\u5e76\u4e14\u5411\u5176\u4e2d\u5199\u5165\u60a8\u9700\u8981\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u8be6\u89c1 Makefile.yp(8) \u6765\u4e86\u89e3YP\u6620\u5c04\u9700\u8981\u54ea\u4e9b\u6e90\u6587\u4ef6\u3002\u53c2\u7167 passwd(5) \uff0c group(5) \uff0c hosts(5) \u7b49\u7b49\u4ee5\u53ca\u67e5\u9605 /etc/ \u4e2d\u7684\u4f8b\u5b50\u6765\u67e5\u770b\u5355\u72ec\u7684\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u3002 \u4f7f\u7528\u4ee5\u4e0b\u7684\u547d\u4ee4\u521b\u5efa\u60a8\u521d\u59cb\u7248\u672c\u7684YP\u6620\u5c04\uff1a # cd /var/yp # make \u4e0d\u8981\u5728\u610f\u73b0\u5728\u6765\u81ea yppush(8) \u7684\u9519\u8bef\u4fe1\u606f\u3002YP\u670d\u52a1\u5668\u8fd8\u6ca1\u6709\u8fd0\u884c\u3002 YP\u4f7f\u7528 rpc(3) \uff08\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\uff0cremote procedure calls\uff09\u4e0e\u5ba2\u6237\u7aef\u901a\u4fe1\uff0c\u6240\u4ee5\u6709\u5fc5\u8981\u6fc0\u6d3b portmap(8) \u3002\u4e3a\u4e86\u5b8c\u6210\u6b64\u76ee\u7684\uff0c\u4f7f\u7528 rcctl(8) \u3002 # rcctl enable portmap # rcctl start portmap \u8003\u8651\u4f7f\u7528 securenet(5) \u6216YP\u670d\u52a1\u5668\u7684\u5b88\u62a4\u8fdb\u7a0b\u7684\u5b89\u5168\u7279\u6027 ypserv.acl(5) \u3002\u4f46\u8bf7\u610f\u8bc6\u5230\u8fd9\u4e24\u8005\u90fd\u4ec5\u63d0\u4f9b\u57fa\u4e8eIP\u7684\u8bbf\u95ee\u63a7\u5236\u3002\u56e0\u6b64\uff0c\u5b83\u4eec\u53ea\u80fd\u5728\u53ef\u80fd\u7684\u653b\u51fb\u8005\u65e2\u6ca1\u6709\u5bf9\u4f20\u8f93\u60a8\u7684YP\u6d41\u91cf\u7684\u7f51\u6bb5\u4e2d\u7684\u786c\u4ef6\u7684\u7269\u7406\u8bbf\u95ee\u6743\u9650\u4e5f\u6ca1\u6709\u5bf9\u4efb\u4f55\u8fde\u63a5\u5230\u8fd9\u4e9b\u7f51\u7edc\u7684\u8bbe\u5907\u7684root\u8bbf\u95ee\u6743\u9650\u7684\u60c5\u51b5\u4e0b\u624d\u80fd\u8d77\u5230\u4f5c\u7528\u3002 \u6700\u7ec8\uff0c\u542f\u52a8YP\u670d\u52a1\u5668\u5b88\u62a4\u8fdb\u7a0b\uff1a # rcctl enable ypserv # rcctl start ypserv \u4e3a\u4e86\u6d4b\u8bd5\u65b0\u7684\u670d\u52a1\u5668\uff0c\u8003\u8651\u8ba9\u5176\u4f5c\u4e3a\u81ea\u5df1\u7684\u5ba2\u6237\u7aef\uff0c\u6309\u7167\u4e0b\u4e00\u8282\u7684\u7b2c\u4e00\u90e8\u5206\u3002\u5728\u60a8\u4e0d\u5e0c\u671b\u670d\u52a1\u5668\u4f7f\u7528\u5b83\u81ea\u5df1\u7684\u6620\u5c04\u65f6\uff0c\u60a8\u53ef\u4ee5\u5728\u6d4b\u8bd5\u540e\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u7981\u7528\u5ba2\u6237\u7aef\u90e8\u5206\uff1a # rcctl stop ypbind # rcctl disable ypbind \u8bb0\u5f97\u6bcf\u4e00\u6b21\u60a8\u4fee\u6539\u4e86\u6e90\u4e3aYP\u6620\u5c04\u7684\u6587\u4ef6\u540e\uff0c\u60a8\u5fc5\u987b\u91cd\u65b0\u751f\u6210\u60a8\u7684YP\u6620\u5c04\u3002 # cd /var/yp # make \u8fd9\u5c06\u66f4\u65b0\u5728 /var/yp/`domainname```\u4e2d\u7684\u4e00\u5207\u6570\u636e\u5e93\u6587\u4ef6\uff0c\u53ea\u6709\u4e00\u4e2a\u4f8b\u5916\uff1a ypservers.db \uff0c\u8be5\u6587\u4ef6\u5217\u51fa\u4e86\u4e0e\u8be5\u57df\u5173\u8054\u7684\u4e00\u5207YP\u4e3b\u670d\u52a1\u5668\u548c\u6b21\u670d\u52a1\u5668\u5e76\u7531 ypinit -m \u547d\u4ee4\u76f4\u63a5\u521b\u5efa\u4e14\u4ec5\u7531 ypinit -u \u547d\u4ee4\u4fee\u6539\u3002\u5f53\u60a8\u610f\u5916\u5730\u5220\u9664\u4e86\u5b83\u65f6\uff0c\u8fd0\u884c ypinit -u``\u6765\u4ece\u4fee\u6539\u8bb0\u5f55\u4e2d\u91cd\u65b0\u521b\u5efa\u5b83\u3002","title":"\u8bbe\u7f6e\u4e00\u4e2aYP\u670d\u52a1\u5668"},{"location":"openbsd-faq/faq10/#\u8bbe\u7f6e\u4e00\u4e2ayp\u5ba2\u6237\u7aef","text":"\u8bbe\u7f6e\u4e00\u4e2aYP\u5ba2\u6237\u7aef\u4e3b\u8981\u5305\u542b\u72ec\u7acb\u7684\u4e24\u90e8\u5206\u3002\u9996\u5148\uff0c\u60a8\u5fc5\u987b\u542f\u52a8\u5ba2\u6237\u7aef\u7684YP\u5b88\u62a4\u8fdb\u7a0b\u3002\u5b8c\u6210\u4e0b\u9762\u7684\u6b65\u9aa4\u5c06\u4f1a\u4f7f\u60a8\u80fd\u591f\u4eceYP\u670d\u52a1\u5668\u8bbf\u95ee\u6570\u636e\uff0c\u4f46\u662f\u8fd9\u4e9b\u6570\u636e\u4e0d\u4f1a\u88ab\u7cfb\u7edf\u6240\u4f7f\u7528\u3002 \u50cf\u662f\u5728\u670d\u52a1\u7aef\u4e00\u6837\uff0c\u60a8\u5fc5\u987b\u8bbe\u7f6e\u57df\u540d\u5e76\u6fc0\u6d3b\u7aef\u53e3\u6620\u5c04\u5668\uff08portmapper\uff09\uff1a # echo \"puffynet\" > /etc/defaultdomain # domainname `cat /etc/defaultdomain` # rcctl enable portmap # rcctl start portmap \u6211\u4eec\u5efa\u8bae\u60a8\u5728 /etc/yp`domainname```\u914d\u7f6e\u6587\u4ef6\u4e2d\u63d0\u4f9b\u4e00\u4e2aYP\u670d\u52a1\u5668\u7684\u5217\u8868\u3002\u5426\u5219\uff0cYP\u5ba2\u6237\u7aef\u5b88\u62a4\u8fdb\u7a0b\u5c06\u4f7f\u7528\u7f51\u7edc\u5e7f\u64ad\u6765\u67e5\u627e\u5b83\u81ea\u5df1\u6240\u5c5e\u7684\u57df\u7684\u670d\u52a1\u5668\u3002\u663e\u5f0f\u5236\u5b9a\u670d\u52a1\u5668\u4f7f\u5f97\u670d\u52a1\u66f4\u52a0\u5065\u58ee\u4e5f\u7565\u5fae\u51cf\u5c11\u4e86\u88ab\u653b\u51fb\u7684\u53ef\u80fd\u6027\u3002\u5982\u679c\u60a8\u8fd8\u6ca1\u6709\u8bbe\u7f6e\u4efb\u4f55\u4ece\u670d\u52a1\u5668\uff0c\u8bf7\u4ec5\u5c06\u4e3b\u670d\u52a1\u5668\u7684\u4e3b\u673a\u540d\uff08host name\uff09\u5199\u5165 /etc/yp/`domainname```\u6587\u4ef6\u4e2d\u3002 \u901a\u8fc7 ypbind(8) \u6fc0\u6d3b\u548c\u542f\u52a8YP\u5ba2\u6237\u7aef\u5b88\u62a4\u8fdb\u7a0b\u3002 # rcctl enable ypbind # rcctl start ypbind \u5982\u679c\u4e00\u5207\u8fd0\u884c\u826f\u597d\uff0c\u60a8\u5e94\u8be5\u80fd\u591f\u4f7f\u7528 ypcat(1) \u5411YP\u670d\u52a1\u5668\u67e5\u8be2\u5e76\u5f97\u5230\u60a8\u7684passwd\u6620\u5c04\u3002 # ypcat passwd bob:*:5001:5000:Bob Nuggets:/home/bob:/usr/local/bin/zsh ... \u53e6\u4e00\u4e2a\u7528\u6765\u8c03\u8bd5\u60a8\u7684YP\u8bbe\u7f6e\u7684\u6709\u7528\u5de5\u5177\u662f ypmatch(1) \u3002 \u914d\u7f6eYP\u5ba2\u6237\u7aef\u7684\u7b2c\u4e8c\u90e8\u5206\u9700\u8981\u7f16\u8f91\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u6765\u4f7f\u4e0d\u540c\u7684\u7cfb\u7edf\u8bbe\u65bd\u4f7f\u7528\u7279\u5b9a\u7684YP\u6620\u5c04\u3002\u4e0d\u662f\u6240\u6709\u7684\u670d\u52a1\u5668\u5171\u4eab\u7684\u6240\u6709\u6807\u51c6\u6620\u5c04\u90fd\u80fd\u88ab\u64cd\u4f5c\u7cfb\u7edf\u6240\u4f7f\u7528\uff0c\u540c\u65f6\u4e00\u4e9b\u670d\u52a1\u5668\u4e5f\u63d0\u4f9b\u9644\u52a0\u7684\u975e\u6807\u51c6\u6620\u5c04\uff0c\u4f46\u662f\u60a8\u5e76\u975e\u5fc5\u987b\u4f7f\u7528\u5b83\u4eec\u7684\u5168\u90e8\u3002\u54ea\u4e9b\u53ef\u7528\u7684\u6620\u5c04\u5e94\u8be5\u6216\u4e0d\u5e94\u8be5\u4f7f\u7528\uff0c\u4ee5\u53ca\u5e94\u8be5\u51fa\u4e8e\u4ec0\u4e48\u76ee\u7684\u88ab\u4f7f\u7528\u5b8c\u5168\u53d6\u51b3\u4e8e\u5ba2\u6237\u7aef\u4e3b\u673a\u7cfb\u7edf\u7684\u7ba1\u7406\u5458\u3002 \u9605\u8bfb Makefile.yp(8) \u6765\u5f97\u5230\u4e00\u4e2a\u5305\u542b\u6807\u51c6YP\u6620\u5c04\u548c\u5b83\u4eec\u6807\u51c6\u7528\u6cd5\u7684\u5217\u8868\u3002 \u5982\u679c\u60a8\u60f3\u8981\u5f15\u5165\u6765\u81eaYP\u57df\u7684\u5168\u90e8\u7528\u6237\u8d26\u53f7\uff0c\u5728\u4e3b\u5bc6\u7801\u6587\u4ef6\u4e2d\u6dfb\u52a0\u9ed8\u8ba4YP\u6807\u8bb0\uff08default YP marker\uff09\u5e76\u91cd\u65b0\u6784\u5efa\u5bc6\u7801\u6570\u636e\u5e93\uff1a # echo '+:*::::::::' >> /etc/master.passwd # pwd_mkdb -p /etc/master.passwd \u5173\u4e8e\u8be6\u7ec6\u7684\u6311\u9009\u8981\u5f15\u5165\u7684\u7528\u6237\u8d26\u6237\u7684\u65b9\u5f0f\uff0c\u8bf7\u89c1 passwd(5) \u7684\u624b\u518c\u9875\u3002\u4f7f\u7528 id(1) \u5de5\u5177\u6765\u6d4b\u8bd5\u9009\u4e2d\u7684\u8d26\u6237\u662f\u5426\u771f\u6b63\u751f\u6548\u3002 \u5982\u679c\u60a8\u60f3\u8981\u5728\u5ba2\u6237\u7aef\u7cfb\u7edf\u4e0a\u5f15\u5165\u6765\u81eaYP\u57df\u7684\u5168\u90e8\u7528\u6237\u7ec4\uff0c\u5728\u7528\u6237\u7ec4\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u9ed8\u8ba4YP\u6807\u8bb0\uff1a # echo '+:*::' >> /etc/group","title":"\u8bbe\u7f6e\u4e00\u4e2aYP\u5ba2\u6237\u7aef"},{"location":"openbsd-faq/faq11/","text":"OpenBSD FAQ - X \u7a97\u53e3\u7cfb\u7edf \u00b6 \u7b80\u4ecb \u00b6 X Window System\uff08X \u7a97\u53e3\u7cfb\u7edf\uff0c\u6709\u65f6\u7b80\u79f0\u4e3a \u201cX\u201d \u6216 \u201cX11\u201d\uff09\u662f\u4e3a OpenBSD \u548c\u5176\u4ed6\u7c7b Unix \u7cfb\u7edf\u63d0\u4f9b\u56fe\u5f62\u670d\u52a1\u7684\u73af\u5883\u3002X \u672c\u8eab\u63d0\u4f9b\u7684\u670d\u52a1\u975e\u5e38\u5c11\uff0c\u56e0\u4e3a\u8fd8\u5fc5\u987b\u6709\u4e00\u4e2a\u7a97\u53e3\u7ba1\u7406\u5668\u6765\u5448\u73b0\u7528\u6237\u754c\u9762\u3002OpenBSD \u63d0\u4f9b\u4e86 cwm(1) \u3001 fvwm(1) \u548c twm(1) \u7a97\u53e3\u7ba1\u7406\u5668\uff0c\u5c3d\u7ba1\u8bb8\u591a\u5176\u4ed6\u7684\u7a97\u53e3\u7ba1\u7406\u5668\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u8f6f\u4ef6\u5305\u4f7f\u7528\u3002 \u5728\u6ca1\u6709\u4efb\u4f55\u56fe\u5f62\u652f\u6301\u7684\u7cfb\u7edf\u4e0a\u8fd0\u884c X \u5ba2\u6237\u7aef\u662f\u53ef\u80fd\u7684\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u5728 ARM \u7cfb\u7edf\u4e0a\u8fd0\u884c\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff08X \u5ba2\u6237\u7aef\uff09\uff0c\u5c06\u5176\u8f93\u51fa\u663e\u793a\u5728 amd64 \u7684\u56fe\u5f62\u663e\u793a\u5668\uff08X \u670d\u52a1\u5668\uff09\u4e0a\u3002\u7531\u4e8e X \u662f\u4e00\u4e2a\u5b9a\u4e49\u660e\u786e\u7684\u8de8\u5e73\u53f0\u534f\u8bae\uff0c\u751a\u81f3\u53ef\u4ee5\u8ba9\u8fd0\u884c\u5728 Linux \u673a\u5668\u4e0a\u7684 X \u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528 OpenBSD \u673a\u5668\u8fdb\u884c\u663e\u793a\u3002\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e5f\u53ef\u4ee5\u8fd0\u884c\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u5728\u672c\u8282\u7684\u5927\u90e8\u5206\u5185\u5bb9\u4e2d\uff0c\u8fd9\u5c06\u662f\u4e00\u4e2a\u5047\u8bbe\u3002 \u914d\u7f6e \u00b6 \u5bf9\u4e8e\u6700\u5e38\u89c1\u5e73\u53f0\u4e0a\u7684\u5927\u591a\u6570\u786c\u4ef6\uff0cX \u6839\u672c\u4e0d\u9700\u8981\u914d\u7f6e\u3002 \u624b\u52a8\u914d\u7f6e X \u7684\u7ec6\u8282\u5728\u4e0d\u540c\u7684\u5e73\u53f0\u4e0a\u6709\u5f88\u5927\u7684\u4e0d\u540c\u3002 \u542f\u52a8 \u00b6 \u63a8\u8350\u7684\u8fd0\u884c X \u7684\u65b9\u6cd5\u662f\u4f7f\u7528 xenodm(1) \u663e\u793a\u7ba1\u7406\u5668\u3002\u5b83\u6bd4\u4f20\u7edf\u7684 startx(1) \u547d\u4ee4\u63d0\u4f9b\u4e86\u4e00\u4e9b\u91cd\u8981\u7684\u5b89\u5168\u4f18\u52bf\u3002 \u5982\u679c xenodm(1) \u5728\u5b89\u88c5\u65f6\u6ca1\u6709\u542f\u7528\uff0c\u53ef\u4ee5\u50cf\u5176\u4ed6\u7cfb\u7edf\u5b88\u62a4\u7a0b\u5e8f\u4e00\u6837\u5728\u4ee5\u540e\u542f\u7528\u3002 # rcctl enable xenodm # rcctl start xenodm \u5728\u67d0\u4e9b\u5e73\u53f0\u4e0a\uff0c\u4f60\u9700\u8981\u7981\u7528\u63a7\u5236\u53f0 getty(8) \u6765\u4f7f\u7528\u5b83\u3002\u8fd9\u5728 amd64\u3001i386 \u6216 macppc \u4e0a\u662f\u4e0d\u9700\u8981\u7684\u3002 \u81ea\u5b9a\u4e49 \u00b6 OpenBSD \u7684\u9ed8\u8ba4 X \u73af\u5883\u529f\u80fd\u9f50\u5168\uff0c\u4f46\u4f60\u53ef\u80fd\u5e0c\u671b\u5bf9\u5176\u8fdb\u884c\u81ea\u5b9a\u4e49\u3002\u5f53\u4e00\u4e2a X \u4f1a\u8bdd\u88ab\u542f\u52a8\u65f6\uff0c\u7528\u6237\u4e3b\u76ee\u5f55\u4e0b\u7684 shell \u811a\u672c\u53ef\u4ee5\u7528\u6765\u542f\u52a8\u4efb\u610f\u591a\u7684\u7a0b\u5e8f\u3002\u8fd9\u4e9b\u811a\u672c\u4e2d\u7684\u5927\u591a\u6570\u7a0b\u5e8f\u5e94\u8be5\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u4f46\u6700\u540e\u4e00\u4e2a\u7a0b\u5e8f\uff08\u901a\u5e38\u662f\u7a97\u53e3\u7ba1\u7406\u5668\uff09\u5e94\u8be5\u5728\u524d\u53f0\u8fd0\u884c\u3002\u5f53\u7a97\u53e3\u7ba1\u7406\u5668\u9000\u51fa\u65f6\uff0c\u811a\u672c\u4e5f\u5c06\u9000\u51fa\uff0cX \u5c06\u8fd4\u56de\u5230 xenodm(1) \u7684\u767b\u5f55\u63d0\u793a\u3002 \u5728\u7528\u6237\u4ece xenodm(1) \u767b\u5f55\u540e\uff0c /etc/X11/xenodm/Xsession \u811a\u672c\u4f1a\u68c0\u67e5\u662f\u5426\u6709\u4e00\u4e2a $HOME/.xsession \u811a\u672c\u3002\u5728\u6700\u7b80\u5355\u7684\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u7684 ~/.xsession \u811a\u672c\u5c06\u53ea\u5305\u542b\u4e00\u884c\uff0c\u6307\u5b9a\u8981\u542f\u52a8\u7684\u9996\u9009\u7a97\u53e3\u7ba1\u7406\u5668\u3002\u7136\u800c\uff0c\u5b83\u53ef\u4ee5\u5305\u542b\u4efb\u4f55\u6570\u91cf\u7684\u5176\u4ed6\u547d\u4ee4: export ENV=$HOME/.kshrc xsetroot -solid grey & xterm -bg black -fg white +sb & cwm \u6ce8\u610f\uff0c\u7a97\u53e3\u7ba1\u7406\u5668 cwm(1) \u6ca1\u6709\u5728\u540e\u53f0\u8fd0\u884c\u3002\u8fd9\u610f\u5473\u7740 X \u4f1a\u4e00\u76f4\u8fd0\u884c\uff0c\u76f4\u5230\u5b83\u9000\u51fa\u3002","title":"X \u7a97\u53e3\u7cfb\u7edf"},{"location":"openbsd-faq/faq11/#openbsd-faq---x-\u7a97\u53e3\u7cfb\u7edf","text":"","title":"OpenBSD FAQ - X \u7a97\u53e3\u7cfb\u7edf"},{"location":"openbsd-faq/faq11/#\u7b80\u4ecb","text":"X Window System\uff08X \u7a97\u53e3\u7cfb\u7edf\uff0c\u6709\u65f6\u7b80\u79f0\u4e3a \u201cX\u201d \u6216 \u201cX11\u201d\uff09\u662f\u4e3a OpenBSD \u548c\u5176\u4ed6\u7c7b Unix \u7cfb\u7edf\u63d0\u4f9b\u56fe\u5f62\u670d\u52a1\u7684\u73af\u5883\u3002X \u672c\u8eab\u63d0\u4f9b\u7684\u670d\u52a1\u975e\u5e38\u5c11\uff0c\u56e0\u4e3a\u8fd8\u5fc5\u987b\u6709\u4e00\u4e2a\u7a97\u53e3\u7ba1\u7406\u5668\u6765\u5448\u73b0\u7528\u6237\u754c\u9762\u3002OpenBSD \u63d0\u4f9b\u4e86 cwm(1) \u3001 fvwm(1) \u548c twm(1) \u7a97\u53e3\u7ba1\u7406\u5668\uff0c\u5c3d\u7ba1\u8bb8\u591a\u5176\u4ed6\u7684\u7a97\u53e3\u7ba1\u7406\u5668\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u8f6f\u4ef6\u5305\u4f7f\u7528\u3002 \u5728\u6ca1\u6709\u4efb\u4f55\u56fe\u5f62\u652f\u6301\u7684\u7cfb\u7edf\u4e0a\u8fd0\u884c X \u5ba2\u6237\u7aef\u662f\u53ef\u80fd\u7684\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u5728 ARM \u7cfb\u7edf\u4e0a\u8fd0\u884c\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff08X \u5ba2\u6237\u7aef\uff09\uff0c\u5c06\u5176\u8f93\u51fa\u663e\u793a\u5728 amd64 \u7684\u56fe\u5f62\u663e\u793a\u5668\uff08X \u670d\u52a1\u5668\uff09\u4e0a\u3002\u7531\u4e8e X \u662f\u4e00\u4e2a\u5b9a\u4e49\u660e\u786e\u7684\u8de8\u5e73\u53f0\u534f\u8bae\uff0c\u751a\u81f3\u53ef\u4ee5\u8ba9\u8fd0\u884c\u5728 Linux \u673a\u5668\u4e0a\u7684 X \u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528 OpenBSD \u673a\u5668\u8fdb\u884c\u663e\u793a\u3002\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e5f\u53ef\u4ee5\u8fd0\u884c\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u5728\u672c\u8282\u7684\u5927\u90e8\u5206\u5185\u5bb9\u4e2d\uff0c\u8fd9\u5c06\u662f\u4e00\u4e2a\u5047\u8bbe\u3002","title":"\u7b80\u4ecb"},{"location":"openbsd-faq/faq11/#\u914d\u7f6e","text":"\u5bf9\u4e8e\u6700\u5e38\u89c1\u5e73\u53f0\u4e0a\u7684\u5927\u591a\u6570\u786c\u4ef6\uff0cX \u6839\u672c\u4e0d\u9700\u8981\u914d\u7f6e\u3002 \u624b\u52a8\u914d\u7f6e X \u7684\u7ec6\u8282\u5728\u4e0d\u540c\u7684\u5e73\u53f0\u4e0a\u6709\u5f88\u5927\u7684\u4e0d\u540c\u3002","title":"\u914d\u7f6e"},{"location":"openbsd-faq/faq11/#\u542f\u52a8","text":"\u63a8\u8350\u7684\u8fd0\u884c X \u7684\u65b9\u6cd5\u662f\u4f7f\u7528 xenodm(1) \u663e\u793a\u7ba1\u7406\u5668\u3002\u5b83\u6bd4\u4f20\u7edf\u7684 startx(1) \u547d\u4ee4\u63d0\u4f9b\u4e86\u4e00\u4e9b\u91cd\u8981\u7684\u5b89\u5168\u4f18\u52bf\u3002 \u5982\u679c xenodm(1) \u5728\u5b89\u88c5\u65f6\u6ca1\u6709\u542f\u7528\uff0c\u53ef\u4ee5\u50cf\u5176\u4ed6\u7cfb\u7edf\u5b88\u62a4\u7a0b\u5e8f\u4e00\u6837\u5728\u4ee5\u540e\u542f\u7528\u3002 # rcctl enable xenodm # rcctl start xenodm \u5728\u67d0\u4e9b\u5e73\u53f0\u4e0a\uff0c\u4f60\u9700\u8981\u7981\u7528\u63a7\u5236\u53f0 getty(8) \u6765\u4f7f\u7528\u5b83\u3002\u8fd9\u5728 amd64\u3001i386 \u6216 macppc \u4e0a\u662f\u4e0d\u9700\u8981\u7684\u3002","title":"\u542f\u52a8"},{"location":"openbsd-faq/faq11/#\u81ea\u5b9a\u4e49","text":"OpenBSD \u7684\u9ed8\u8ba4 X \u73af\u5883\u529f\u80fd\u9f50\u5168\uff0c\u4f46\u4f60\u53ef\u80fd\u5e0c\u671b\u5bf9\u5176\u8fdb\u884c\u81ea\u5b9a\u4e49\u3002\u5f53\u4e00\u4e2a X \u4f1a\u8bdd\u88ab\u542f\u52a8\u65f6\uff0c\u7528\u6237\u4e3b\u76ee\u5f55\u4e0b\u7684 shell \u811a\u672c\u53ef\u4ee5\u7528\u6765\u542f\u52a8\u4efb\u610f\u591a\u7684\u7a0b\u5e8f\u3002\u8fd9\u4e9b\u811a\u672c\u4e2d\u7684\u5927\u591a\u6570\u7a0b\u5e8f\u5e94\u8be5\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u4f46\u6700\u540e\u4e00\u4e2a\u7a0b\u5e8f\uff08\u901a\u5e38\u662f\u7a97\u53e3\u7ba1\u7406\u5668\uff09\u5e94\u8be5\u5728\u524d\u53f0\u8fd0\u884c\u3002\u5f53\u7a97\u53e3\u7ba1\u7406\u5668\u9000\u51fa\u65f6\uff0c\u811a\u672c\u4e5f\u5c06\u9000\u51fa\uff0cX \u5c06\u8fd4\u56de\u5230 xenodm(1) \u7684\u767b\u5f55\u63d0\u793a\u3002 \u5728\u7528\u6237\u4ece xenodm(1) \u767b\u5f55\u540e\uff0c /etc/X11/xenodm/Xsession \u811a\u672c\u4f1a\u68c0\u67e5\u662f\u5426\u6709\u4e00\u4e2a $HOME/.xsession \u811a\u672c\u3002\u5728\u6700\u7b80\u5355\u7684\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u7684 ~/.xsession \u811a\u672c\u5c06\u53ea\u5305\u542b\u4e00\u884c\uff0c\u6307\u5b9a\u8981\u542f\u52a8\u7684\u9996\u9009\u7a97\u53e3\u7ba1\u7406\u5668\u3002\u7136\u800c\uff0c\u5b83\u53ef\u4ee5\u5305\u542b\u4efb\u4f55\u6570\u91cf\u7684\u5176\u4ed6\u547d\u4ee4: export ENV=$HOME/.kshrc xsetroot -solid grey & xterm -bg black -fg white +sb & cwm \u6ce8\u610f\uff0c\u7a97\u53e3\u7ba1\u7406\u5668 cwm(1) \u6ca1\u6709\u5728\u540e\u53f0\u8fd0\u884c\u3002\u8fd9\u610f\u5473\u7740 X \u4f1a\u4e00\u76f4\u8fd0\u884c\uff0c\u76f4\u5230\u5b83\u9000\u51fa\u3002","title":"\u81ea\u5b9a\u4e49"},{"location":"openbsd-faq/faq13/","text":"OpenBSD FAQ - \u591a\u5a92\u4f53 \u00b6 \u542f\u7528\u5f55\u97f3 \u00b6 \u51fa\u4e8e\u9690\u79c1\u539f\u56e0\uff0cOpenBSD \u4e2d\u9ed8\u8ba4\u7981\u7528\u5f55\u97f3\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 kern.audio.record sysctl \u542f\u7528\u8be5\u529f\u80fd\u3002 # sysctl kern.audio.record=1 # echo kern.audio.record=1 >> /etc/sysctl.conf \u914d\u7f6e\u97f3\u9891\u786c\u4ef6 \u00b6 \u6bcf\u4e2a\u58f0\u5361\u578b\u53f7\u90fd\u6709\u81ea\u5df1\u7684\u4e00\u7ec4\u63a7\u4ef6\u3002\u6709\u4e9b\u58f0\u5361\u6839\u672c\u6ca1\u6709\u63a7\u4ef6\uff0c\u5176\u4ed6\u53ef\u80fd\u6709\u4e00\u767e\u4e2a\u6216\u66f4\u591a\u63a7\u4ef6\u3002\u4f60\u53ef\u4ee5\u4ee5 root \u8eab\u4efd\u8fd0\u884c mixctl(8) \u5217\u51fa\u6240\u6709\u63a7\u4ef6\u548c\u5f53\u524d\u8bbe\u7f6e\u3002 \u5e76\u975e\u6bcf\u4e2a\u97f3\u9891\u82af\u7247\u7684\u6bcf\u4e2a\u9009\u9879\u90fd\u5fc5\u987b\u8fde\u63a5\u5916\u90e8\u4e16\u754c\u3002\u4f8b\u5982\uff0c\u5217\u51fa\u7684\u8f93\u51fa\u53ef\u80fd\u591a\u4e8e\u5b9e\u9645\u8fde\u63a5\u7684\u8f93\u51fa\u3002\u97f3\u9891\u8bbe\u5907\u7684\u63a7\u4ef6\u53ef\u80fd\u4f1a\u6709\u4e0d\u540c\u7684\u6807\u7b7e\u3002 \u901a\u5e38\u63a7\u4ef6\u6709\u4e00\u4e2a\u6709\u610f\u4e49\u7684\u6807\u7b7e\uff0c\u4f46\u6709\u65f6\u5fc5\u987b\u7b80\u5355\u5730\u5c1d\u8bd5\u4e0d\u540c\u7684\u8bbe\u7f6e\u6765\u67e5\u770b\u6bcf\u4e2a\u63a7\u4ef6\u7684\u6548\u679c\u3002 \u4ee5\u4e0b\u662f\u8981\u8003\u8651\u7684\u63a7\u4ef6\u5217\u8868\uff1a \u9759\u97f3\u548c\u7535\u5e73\u63a7\u5236 \u2014\u2014 \u5373\u4f7f\u4e3b\u63a7\u5236\u4f3c\u4e4e\u8bbe\u7f6e\u6b63\u786e\uff0c\u4fe1\u53f7\u8def\u5f84\u4e2d\u4e5f\u53ef\u80fd\u6709\u591a\u4e2a\u9759\u97f3\u6216\u7535\u5e73\u63a7\u5236\u3002\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u8bbe\u5907\u5177\u6709\u4e3b\u5f55\u97f3\u7535\u5e73\u548c\u9ea6\u514b\u98ce\u589e\u76ca\u63a7\u5236\uff1a record.adc-0:1=248,248 record.adc-0:1_source=mic inputs.mic=85,85 \u5916\u90e8\u653e\u5927\u5668\u65ad\u7535 (External Amplifier Power-Down, EAPD) \u2014\u2014 \u6b64\u5f00\u5173\u901a\u5e38\u7528\u4e8e\u7b14\u8bb0\u672c\u7535\u8111\u7684\u7701\u7535\uff0c\u53ef\u80fd\u9700\u8981\u8bbe\u7f6e\u4ee5\u83b7\u5f97\u8f93\u51fa\u4fe1\u53f7\uff1a outputs.spkr_eapd=on \u5f55\u97f3\u6e90 \u2014\u2014 \u4e00\u4e9b\u8bbe\u5907\u6709\u591a\u4e2a\u9ea6\u514b\u98ce\u8f93\u5165\u3002\u6b64\u7c7b\u63a7\u5236\u7684\u793a\u4f8b\uff1a record.source=mic record.adc-0:1_source=mic \u8981\u4f7f\u66f4\u6539\u5728\u6bcf\u6b21\u91cd\u65b0\u542f\u52a8\u65f6\u751f\u6548\uff0c\u8bf7\u7f16\u8f91 /etc/mixerctl.conf \u6587\u4ef6\u3002\u4f8b\u5982\uff1a record.adc-0:1_source=mic inputs.mic=85,85 \u8c03\u6574\u97f3\u9891\u7535\u5e73 \u00b6 sndioctl(1) \u5b9e\u7528\u7a0b\u5e8f\u7528\u4e8e\u4ee5\u666e\u901a\u7528\u6237\u8eab\u4efd\u64cd\u4f5c\u97f3\u9891\u63a7\u4ef6\u3002\u4e0d\u5e26\u53c2\u6570\u8fd0\u884c\u5b83\u4f1a\u5217\u51fa\u6240\u6709\u63a7\u4ef6\u548c\u5f53\u524d\u8bbe\u7f6e\u3002 output.level \u63a7\u4ef6\u59cb\u7ec8\u5b58\u5728\u3002\u5b83\u8981\u4e48\u5bf9\u5e94\u4e8e\u786c\u4ef6\u63a7\u5236\uff0c\u8981\u4e48\u5728\u8f6f\u4ef6\u4e2d\u6a21\u62df\u3002 \u4f7f\u7528 USB \u97f3\u9891\u63a5\u53e3 \u00b6 dmesg \u8f93\u51fa\u4e2d USB \u97f3\u9891\u63a5\u53e3\u7684\u793a\u4f8b\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a uaudio0 at uhub2 port 1 configuration 1 interface 1 \"ABC C-Media USB Audio Device\" rev 1.10/1.00 addr 2 uaudio0: class v1, full-speed, sync, channels: 2 play, 1 rec, 8 ctls audio1 at uaudio0 \u5728\u5927\u591a\u6570\u7cfb\u7edf\u4e0a\uff0c\u7b2c\u4e00\u4e2a\u97f3\u9891\u8bbe\u5907\u662f\u5185\u90e8\u58f0\u5361\u3002\u8fde\u63a5\u540e\uff0cUSB \u97f3\u9891\u8bbe\u5907\u5c06\u6210\u4e3a\u7b2c\u4e8c\u4e2a\u3002\u5728\u9ed8\u8ba4\u7684 sndiod(8) \u914d\u7f6e\u4e2d\uff0c\u8fd9\u4e24\u4e2a\u8bbe\u5907\u5206\u522b\u88ab\u7f16\u7a0b\u4e3a snd/0 \uff08\u9ed8\u8ba4\uff09\u548c snd/1 \uff0c\u5e76\u4e14\u53ef\u4ee5\u72ec\u7acb\u4f7f\u7528\u3002\u8bbe\u7f6e\u4e3a\u4f7f\u7528 snd/1 \u7684\u7a0b\u5e8f\u5c06\u4f7f\u7528 USB \u8bbe\u5907\u3002 sndiod(8) \u53ef\u4ee5\u914d\u7f6e\u4e3a\u4f7f snd/0 \u5bf9\u5e94\u4e8e USB \u8bbe\u5907\uff08\u5982\u679c\u5b83\u5df2\u8fde\u63a5\uff09\u6216\u672a\u8fde\u63a5\u65f6\u5bf9\u5e94\u4e8e\u5185\u90e8\u8bbe\u5907\uff1a # rcctl set sndiod flags -f rsnd/0 -F rsnd/1 # rcctl restart sndiod \u5f53\u670d\u52a1\u5668\u6253\u5f00\u8bbe\u5907\u65f6\uff0c\u5b83\u4f1a\u9996\u5148\u5c1d\u8bd5 USB \u8bbe\u5907\u3002\u5982\u679c\u5b83\u4e0d\u5b58\u5728\uff0c\u5219\u4f7f\u7528\u5185\u90e8\u8bbe\u5907\u3002\u5982\u679c USB \u8bbe\u5907\u65ad\u5f00\u8fde\u63a5\uff0csndiod \u4f1a\u5c1d\u8bd5\u4f7f\u7528\u5185\u90e8\u58f0\u5361\u7ee7\u7eed\u64cd\u4f5c\u3002\u5982\u679c\u518d\u6b21\u8fde\u63a5 USB \u8bbe\u5907\uff0csndiod \u5c06\u5728\u4e0b\u6b21\u5c1d\u8bd5\u6253\u5f00\u8bbe\u5907\u65f6\u770b\u5230\u5b83\u3002\u8981\u5f3a\u5236 sndiod \u5728\u8bbe\u5907\u4e4b\u95f4\u5207\u6362\uff0c\u8bf7\u91cd\u65b0\u52a0\u8f7d\u670d\u52a1\u5668\uff1a # rcctl reload sndiod \u64ad\u653e\u97f3\u9891\u6587\u4ef6 \u00b6 OpenBSD \u5e26\u6709 aucat(1) \uff0c\u8fd9\u662f\u4e00\u4e2a\u80fd\u591f\u64ad\u653e\u672a\u538b\u7f29\u7684 WAV\u3001AIFF \u548c AU \u6587\u4ef6\u7684\u7a0b\u5e8f\u3002\u5b83\u53ef\u4ee5\u7528\u4e8e\u975e\u5e38\u7b80\u5355\u7684\u60c5\u51b5\u6216\u6d4b\u8bd5\u64ad\u653e\uff1a $ aucat -i filename.wav \u8fd8\u6709\u8bb8\u591a\u5176\u4ed6\u64ad\u653e\u5668\u53ef\u4f5c\u4e3a\u652f\u6301\u5176\u4ed6\u97f3\u9891\u683c\u5f0f\u7684 \u8f6f\u4ef6\u5305 \u3002 \u5f55\u5236\u97f3\u9891\u6587\u4ef6 \u00b6 \u4f7f\u7528 kern.audio.record sysctl \u542f\u7528\u5f55\u97f3\u540e\uff0c aucat(1) \u53ef\u7528\u4e8e\u5f55\u5236\u672a\u538b\u7f29\u7684 WAV\u3001AIFF \u548c AU \u6587\u4ef6\u3002 $ aucat -o file.wav \u4e0a\u8ff0\u547d\u4ee4\u5c06\u5f00\u59cb\u5f55\u5236 WAV \u683c\u5f0f\u7684\u6587\u4ef6\u3002\u6309 CTRL+C \u5b8c\u6210\u5f55\u5236\u3002 \u8981\u64ad\u653e\u6587\u4ef6\uff0c\u8bf7\u8fd0\u884c\uff1a $ aucat -i file.wav \u5982\u679c\u5f55\u97f3\u4f3c\u4e4e\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\uff0c\u4f46\u5f55\u97f3\u7684\u64ad\u653e\u65e0\u58f0\u6216\u4e0d\u7b26\u5408\u9884\u671f\uff0c\u5219\u6df7\u97f3\u5668\u53ef\u80fd\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\u3002\u786e\u4fdd\u60a8\u9009\u62e9\u4e86\u6b63\u786e\u7684\u58f0\u6e90\u8fdb\u884c\u5f55\u97f3\uff0c\u5e76\u4e14\u672a\u9759\u97f3\u3002 \u5982\u679c\u9700\u8981\uff0c\u53ef\u4ee5\u4f7f\u7528 ports \u6e90\u7801\u6811\u4e2d\u7684\u9002\u5f53\u7a0b\u5e8f\u538b\u7f29\u751f\u6210\u7684 WAV \u6587\u4ef6\u3002\u6216\u8005\u53ef\u4ee5\u4f7f\u7528\u8bf8\u5982 sox\u3001ffmpeg \u6216 audacity \u4e4b\u7c7b\u7684 port \u6765\u5f55\u5236\u3001\u5904\u7406\u548c\u538b\u7f29\u97f3\u9891\u6587\u4ef6\u3002 \u5f55\u5236\u6240\u6709\u97f3\u9891\u64ad\u653e\u7684\u76d1\u542c\u6df7\u97f3 \u00b6 \u76d1\u63a7\u6d41\u8bb0\u5f55\u6765\u81ea\u6240\u6709\u64ad\u653e\u8bbe\u5907\u7684\u7ec4\u5408\u97f3\u9891\u8f93\u51fa\uff0c\u5141\u8bb8\u4f60\u590d\u5236\u6216\u4fdd\u5b58\u901a\u8fc7\u97f3\u9891\u5b50\u7cfb\u7edf\u7684\u4efb\u4f55\u5185\u5bb9\u3002\u6b64\u529f\u80fd\u53ef\u7528\u4e8e\u5c4f\u5e55\u5f55\u50cf\u6216\u4efb\u4f55\u7c7b\u578b\u7684\u73b0\u573a\u97f3\u9891\u6df7\u5408\u3002 \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u4e3a sndiod(8) \u521b\u5efa\u76d1\u89c6\u5668\u5b50\u8bbe\u5907 mon \uff1a # rcctl set sndiod flags -s default -m play,mon -s mon # rcctl restart sndiod \u5c06\u4f60\u7684\u7a0b\u5e8f\u914d\u7f6e\u4e3a\u4ece snd/0.mon \u8bbe\u5907\u5f55\u5236\u97f3\u9891\uff0c\u4f8b\u5982\uff1a $ aucat -f snd/0.mon -o file.wav \u6b64\u65f6\uff0c\u4f60\u7684\u7cfb\u7edf\u64ad\u653e\u7684\u4efb\u4f55\u5185\u5bb9\u90fd\u8bb0\u5f55\u5728 file.wav \u4e2d\u3002 \u964d\u4f4e\u97f3\u9891\u5ef6\u8fdf \u00b6 \u5ef6\u8fdf\u662f\u7a0b\u5e8f\u51b3\u5b9a\u64ad\u653e\u6837\u672c\u4e0e\u7528\u6237\u542c\u5230\u6837\u672c\u4e4b\u95f4\u7684\u65f6\u95f4\u3002\u7531\u4e8e\u97f3\u9891\u6570\u636e\u603b\u662f\u88ab\u7f13\u51b2\uff0c\u8fd9\u4e2a\u5ef6\u8fdf\u4e0e\u97f3\u9891\u7f13\u51b2\u533a\u5927\u5c0f\u6210\u6b63\u6bd4\u3002\u5efa\u8bae\u4f7f\u7528\u4ee5\u4e0b\u503c\uff1a \u5b9e\u65f6\u5408\u6210\u5668\uff1a5ms\u3002\u8fd9\u662f\u6572\u51fb MIDI \u952e\u76d8\u4e0a\u7684\u952e\u548c\u5b9e\u9645\u542c\u5230\u97f3\u7b26\u4e4b\u95f4\u7684\u65f6\u95f4\u3002\u7c97\u7565\u5730\u8bf4\uff0c5ms \u5bf9\u5e94\u4e8e\u58f0\u97f3\u4f20\u64ad 1.75m \u6240\u9700\u7684\u65f6\u95f4\u3002 \u6e38\u620f\uff1a50ms\u3002\u8fd9\u662f\u4f60\u770b\u5230\u4e8b\u4ef6\u548c\u542c\u5230\u76f8\u5e94\u58f0\u97f3\u4e4b\u95f4\u7684\u65f6\u95f4\u3002 \u7535\u5f71\u64ad\u653e\u5668\u7b49\uff1a500 \u6beb\u79d2\u53ca\u4ee5\u4e0a\u3002 \u6b64\u7c7b\u5e94\u7528\u7a0b\u5e8f\u63d0\u524d\u201c\u77e5\u9053\u201d\u8981\u64ad\u653e\u7684\u58f0\u97f3\uff0c\u5e76\u4ee5\u4e0e\u76f8\u5e94\u56fe\u7247\u540c\u65f6\u64ad\u653e\u7684\u65b9\u5f0f\u53d1\u9001\u97f3\u9891\u6570\u636e\u3002 \u97f3\u9891\u7f13\u51b2\u533a\u8d8a\u5c0f\uff08\u4ee5\u5b9e\u73b0\u4f4e\u5ef6\u8fdf\uff09\uff0c\u6ea2\u51fa/\u6b20\u8f7d\u7684\u53ef\u80fd\u6027\u5c31\u8d8a\u5927\u3002\u7f13\u51b2\u533a\u6ea2\u51fa/\u4e0d\u8db3\u4f1a\u5bfc\u81f4\u58f0\u97f3\u65ad\u65ad\u7eed\u7eed\u3002 sndiod(8) \u5bf9\u6240\u6709\u97f3\u9891\u5e94\u7528\u7a0b\u5e8f\u65bd\u52a0\u4e86\u6700\u5c0f\u5ef6\u8fdf\uff0c\u9ed8\u8ba4\u5ef6\u8fdf\u4e3a 160 \u6beb\u79d2\u3002\u5982\u679c\u4f60\u8ba1\u5212\u4f7f\u7528\u9700\u8981\u8f83\u4f4e\u5ef6\u8fdf\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528 -b \u9009\u9879\u9009\u62e9\u6240\u9700\u7684\u5ef6\u8fdf\uff08\u4ee5\u5e27\u6570\u8868\u793a\uff09\u3002\u4f8b\u5982\uff0c\u5728 48000 \u4e2a\u6837\u672c/\u79d2\uff08samples/second\uff09\u65f6\uff0c50 \u6beb\u79d2\u7684\u5ef6\u8fdf\u5bf9\u5e94\u4e8e\uff1a 48000 \u4e2a\u6837\u672c/\u79d2 \u00d7 0.050 \u79d2 = 2400 \u4e2a\u6837\u672c \u7136\u540e\u6267\u884c # rcctl set sndiod flags -b2400 \u4f4e\u5ef6\u8fdf\u662f\u5426\u53ef\u4ee5\u6539\u5584\u97f3\u89c6\u9891\u540c\u6b65\uff1f \u00b6 \u4e0d\uff0c\u5c06\u97f3\u9891\u4e0e\u89c6\u9891\u540c\u6b65\u4e0d\u9700\u8981\u4f4e\u5ef6\u8fdf\u3002\u540c\u6b65\u95ee\u9898\u901a\u5e38\u662f\u7531\u8f6f\u4ef6\u672c\u8eab\u5f15\u8d77\u7684\u3002\u5f3a\u5236\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u8f83\u5c0f\u7684\u7f13\u51b2\u533a\uff08\u901a\u8fc7\u5728\u4f4e\u5ef6\u8fdf\u6a21\u5f0f\u4e0b\u542f\u52a8 sndiod(8)\uff09\u53ef\u80fd\u4f1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u9690\u85cf\u5b9e\u9645\u95ee\u9898\uff0c\u5e76\u7ed9\u4eba\u4e00\u79cd\u8f6f\u4ef6\u8fd0\u884c\u66f4\u597d\u7684\u611f\u89c9\uff0c\u4f46\u663e\u7136\u6b63\u786e\u7684\u505a\u6cd5\u662f\u5f00\u59cb\u641c\u7d22\u76f8\u5e94\u7684\u9519\u8bef\u3002 \u4f7f\u7528\u8fdc\u7a0b\u97f3\u9891\u786c\u4ef6 \u00b6 sndiod(8) \u53ef\u4ee5\u914d\u7f6e\u4e3a\u63a5\u53d7\u6765\u81ea\u7f51\u7edc\u7684\u8fde\u63a5\uff0c\u5141\u8bb8\u5176\u4ed6\u673a\u5668\u4e5f\u4f7f\u7528\u58f0\u5361\u3002\u5728\u5e26\u6709\u58f0\u5361\u7684\u8fdc\u7a0b\u7cfb\u7edf\u4e0a\uff0c\u8fd0\u884c\uff1a # rcctl set sndiod flags -L- \u5728\u672c\u5730\u7cfb\u7edf\u4e0a\uff0c\u5c06\u60a8\u7684\u7a0b\u5e8f\u914d\u7f6e\u4e3a\u4f7f\u7528 snd@hostname/0 \uff0c\u5176\u4e2d\u201c\u4e3b\u673a\u540d\uff08hostname\uff09\u201d\u662f\u8fdc\u7a0b\u7cfb\u7edf\u7684\u5730\u5740\u3002 AUDIODEVICE \u73af\u5883\u53d8\u91cf\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u4e0a\u8ff0\u503c\uff0c\u4f7f\u8fdc\u7a0b\u58f0\u5361\u6210\u4e3a\u9ed8\u8ba4\u7684\u97f3\u9891\u8bbe\u5907\u3002 \u4efb\u4f55\u80fd\u591f\u8fde\u63a5\u5230\u8fdc\u7a0b\u4e3b\u673a\u7684 TCP \u7aef\u53e3 11025 \u7684\u7cfb\u7edf\u90fd\u53ef\u4ee5\u4f7f\u7528\u97f3\u9891\u8bbe\u5907\u3002 \u51fa\u4e8e\u9690\u79c1\u539f\u56e0\uff0c\u5728\u7ed9\u5b9a\u65f6\u95f4\uff0c\u4e00\u4e2a\u7cfb\u7edf\u4e2d\u53ea\u6709\u4e00\u4e2a\u7528\u6237\u53ef\u4ee5\u8fde\u63a5\u5230\u8be5\u7cfb\u7edf\u3002 \u5982\u679c\u591a\u4e2a\u7cfb\u7edf\u5fc5\u987b\u540c\u65f6\u4f7f\u7528\u97f3\u9891\u8bbe\u5907\uff0c\u5219 sndio(7) \u6388\u6743 cookie \u5fc5\u987b\u76f8\u540c\u3002\u4f8b\u5982\uff0c\u5c06\u4f60\u7684 ~/.sndio/cookie \u590d\u5236\u5230\u53ef\u80fd\u4f7f\u7528\u97f3\u9891\u8bbe\u5907\u7684\u6240\u6709\u5e10\u6237\u3002 \u4e3a\u907f\u514d\u6545\u969c\uff0c\u7aef\u53e3 11025 \u4e0a\u7684 TCP \u6d41\u91cf\u53ef\u4ee5\u4f7f\u7528\u6570\u636e\u5305\u8fc7\u6ee4\u5668\u8fdb\u884c\u4f18\u5148\u7ea7\u6392\u5e8f\u3002\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\u65f6\uff0csndiod \u5c06\u6d88\u8017\u5927\u7ea6 200kB/s \u7684\u7f51\u7edc\u5e26\u5bbd\u3002 \u9009\u62e9\u9ed8\u8ba4\u97f3\u9891\u8bbe\u5907 \u00b6 \u9ed8\u8ba4\u97f3\u9891\u8bbe\u5907\u7684\u9009\u62e9\u7531 AUDIODEVICE \u73af\u5883\u53d8\u91cf\u51b3\u5b9a\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528 snd/0 \uff0c\u5b83\u662f sndiod(8) \u7ba1\u7406\u7684\u7b2c\u4e00\u4e2a\u97f3\u9891\u8bbe\u5907\u3002 \u9009\u62e9\u9ed8\u8ba4\u8bbe\u5907\u7684\u6700\u7075\u6d3b\u65b9\u6cd5\u662f\u5bfc\u51fa\u53ef\u80fd\u5728\u7528\u6237\u7684\u767b\u5f55\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 AUDIODEVICE \u3002 \u53e6\u4e00\u79cd\u66f4\u6539\u9ed8\u8ba4\u97f3\u9891\u8f93\u51fa\u8bbe\u5907\u7684\u65b9\u6cd5\u662f\u4f7f\u6240\u9700\u8bbe\u5907\u6210\u4e3a sndiod(8) \u7ba1\u7406\u7684\u7b2c\u4e00\u4e2a\u8bbe\u5907\u3002\u4f8b\u5982\uff0c\u8981\u4f7f\u7528\u5916\u90e8 DAC \u800c\u4e0d\u662f\u4e3b\u677f\u7684\u677f\u8f7d\u97f3\u9891\uff0c\u53ea\u9700\u66f4\u6539 sndiod(8) \u7684\u542f\u52a8\u6807\u5fd7\u4ee5\u4f7f\u7528\u8be5\u8bbe\u5907\uff1a # rcctl set sndiod flags -f rsnd/1 # rcctl restart sndiod \u8fd9\u5c06\u4f7f\u7b2c\u4e8c\u4e2a\u97f3\u9891\u8bbe\u5907 ( rsnd/1 ) \u6210\u4e3a\u9ed8\u8ba4\u8bbe\u5907\u3002 \u8c03\u8bd5\u97f3\u9891\u95ee\u9898 \u00b6 \u5982\u679c\u4f60\u5728\u64ad\u653e\u97f3\u9891\u65f6\u6ca1\u6709\u542c\u5230\u4efb\u4f55\u58f0\u97f3\uff0c\u5219\u53ef\u80fd\u662f\u8c03\u97f3\u53f0\u63a7\u5236\u8c03\u4f4e\u97f3\u91cf\u6216\u53ea\u662f\u9759\u97f3\u3002\u8bf7\u53c2\u9605 \u672c\u8282 \u4ee5\u914d\u7f6e\u6df7\u97f3\u5668\u3002\u5728\u62a5\u544a\u95ee\u9898\u4e4b\u524d\uff0c\u8bf7\u53d6\u6d88 \u6240\u6709 \u8f93\u5165\u548c\u8f93\u51fa\u7684\u9759\u97f3\u3002 \u5982\u679c\u4f60\u8ba4\u4e3a\u4f60\u7684\u8bbe\u5907\u5e94\u8be5\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\uff0c\u4f46\u65e0\u8bba\u51fa\u4e8e\u4f55\u79cd\u539f\u56e0\u4e0d\u80fd\u6b63\u5e38\u5de5\u4f5c\uff0c\u90a3\u4e48\u662f\u65f6\u5019\u8fdb\u884c\u4e00\u4e9b\u8c03\u8bd5\u4e86\u3002\u4ee5\u4e0b\u6b65\u9aa4\u53ef\u4ee5\u786e\u5b9a DAC \u662f\u5426\u6b63\u5728\u5904\u7406\u6570\u636e\u3002 # cat > /dev/audio0 < /dev/zero & [1] 9926 # audioctl play.{bytes,errors} play.bytes=3312000 play.errors=0 # audioctl play.{bytes,errors} play.bytes=7065600 play.errors=0 # audioctl play.{bytes,errors} play.bytes=9379200 play.errors=0 # kill %1 # fg %1 cat > /dev/audio0 < /dev/zero Terminated \u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u770b\u5230\u6bcf\u6b21\u68c0\u67e5\u65f6\uff0c\u5904\u7406\u7684\u6570\u636e\u8ba1\u6570 play.bytes \u90fd\u5728\u589e\u52a0\uff0c\u6240\u4ee5\u6570\u636e\u5728\u6d41\u52a8\u3002\u6211\u4eec\u8fd8\u770b\u5230\uff0c\u8bbe\u5907\u6ca1\u6709\u5c11\u8fd0\u884c\u4efb\u4f55\u6837\u672c\uff08 play.errors \uff09\u3002\u8fd9\u4e5f\u662f\u597d\u4e8b\u3002 \u8bf7\u6ce8\u610f\uff0c\u5373\u4f7f\u4f60\u5728\u8fd0\u884c\u4e0a\u8ff0\u6d4b\u8bd5\u65f6\u63d2\u5165\u4e86\u626c\u58f0\u5668\uff0c\u4f60\u4e5f\u4e0d\u5e94\u8be5\u542c\u5230\u4efb\u4f55\u58f0\u97f3\u3002 \u8be5\u6d4b\u8bd5\u5411\u8bbe\u5907\u53d1\u9001 \u201czero\u201d \u4fe1\u53f7\uff0c\u8fd9\u5bf9\u4e8e\u6240\u6709\u5f53\u524d\u652f\u6301\u7684\u9ed8\u8ba4\u7f16\u7801\u662f\u9759\u97f3\u7684\u3002 \u7531\u4e8e\u6211\u4eec\u77e5\u9053\u8bbe\u5907\u53ef\u4ee5\u5904\u7406\u6570\u636e\uff0c\u56e0\u6b64\u6700\u597d\u518d\u6b21\u68c0\u67e5\u6df7\u97f3\u5668\u8bbe\u7f6e\u3002 \u786e\u4fdd\u6240\u6709\u8f93\u51fa\u548c\u6240\u6709\u8f93\u5165\u90fd\u672a\u9759\u97f3\u4e14\u5904\u4e8e\u5408\u7406\u6c34\u5e73\u3002 \u5982\u679c\u6b64\u65f6\u4f60\u4ecd\u6709\u95ee\u9898\uff0c\u53ef\u80fd\u662f\u65f6\u5019 \u63d0\u4ea4\u9519\u8bef\u62a5\u544a \u4e86\u3002\u9664\u4e86\u5b8c\u6574\u7684 dmesg \u548c\u95ee\u9898\u63cf\u8ff0\u7b49\u6b63\u5e38\u7684\u9519\u8bef\u62a5\u544a\u4fe1\u606f\u5916\uff0c\u8fd8\u8bf7\u5305\u62ec mixerctl -v \u7684\u9ed8\u8ba4\u8f93\u51fa\u4ee5\u53ca\u4e0a\u8ff0 DAC \u5904\u7406\u6d4b\u8bd5\u7684\u8f93\u51fa\u3002 \u4f7f\u7528 MIDI \u4e50\u5668 \u00b6 \u4e50\u5668\u6570\u5b57\u63a5\u53e3 (MIDI) \u534f\u8bae\u63d0\u4f9b\u4e86\u4e00\u79cd\u6807\u51c6\u5316\u4e14\u6709\u6548\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06\u97f3\u4e50\u8868\u6f14\u4fe1\u606f\u8868\u793a\u4e3a\u7535\u5b50\u6570\u636e\u3002MIDI \u6570\u636e\u4ec5\u5305\u542b\u5408\u6210\u5668\u64ad\u653e\u58f0\u97f3\u6240\u9700\u7684\u6307\u4ee4\uff0c\u800c\u4e0d\u662f\u5b9e\u9645\u7684\u58f0\u97f3\u3002 \u8981\u64ad\u653e MIDI \u6570\u636e\uff0c\u9700\u8981\u4e00\u4e2a\u8fde\u63a5\u5230\u673a\u5668\u7684 MIDI \u7aef\u53e3\u7684\u5408\u6210\u5668\u3002\u540c\u6837\uff0c\u8981\u5f55\u5236 MIDI \u6570\u636e\uff0c\u9700\u8981 MIDI \u4e50\u5668\uff08\u4f8b\u5982 MIDI \u952e\u76d8\uff09\u3002\u9ad8\u7ea7 MIDI \u4e50\u5668\u53ef\u80fd\u5305\u542b\u591a\u4e2a\u5b50\u90e8\u5206\uff08\u5408\u6210\u5668\u3001\u952e\u76d8\u3001\u63a7\u5236\u9762\u7b49...\uff09\u3002\u5b83\u4eec\u5728 OpenBSD \u4e0a\u663e\u793a\u4e3a\u591a\u4e2a MIDI \u7aef\u53e3\u3002 \u5f53\u60a8\u5df2\u7ecf\u8fd0\u884c OpenBSD \u65f6\uff0c\u5728 dmesg(8) \u547d\u4ee4\u7684\u8f93\u51fa\u4e2d\u67e5\u627e MIDI \u7aef\u53e3\u3002dmesg \u8f93\u51fa\u4e2d\u7684 MIDI \u7aef\u53e3\u793a\u4f8b\u662f\uff1a umidi0 at uhub2 port 2 configuration 1 interface 0 \"Roland Roland XV-2020\" rev 1.10/1.00 addr 2 midi0 at umidi0: <USB MIDI I/F> umidi1 at uhub1 port 2 configuration 1 interface 1 \"Evolution Electronics Ltd. USB Keystation 61es\" rev 1.00/1.25 addr 3 midi1 at umidi1: <USB MIDI I/F> \u5b83\u663e\u793a\u4e86\u4e24\u4e2a\u9644\u52a0\u7684 midi(4) \u9a71\u52a8\u7a0b\u5e8f\uff0c\u7a0b\u5e8f\u79f0\u4e3a\uff1a midi/0 - \u901a\u8fc7 USB \u8fde\u63a5\u7684\u5408\u6210\u5668 midi/1 - MIDI \u4e3b\u952e\u76d8 \u952e\u76d8\u7684\u8f93\u51fa\u53ef\u4ee5\u8fde\u63a5\u5230\u5408\u6210\u5668\u7684\u8f93\u5165\uff0c\u5982\u4e0b\u6240\u793a\uff1a $ midicat -q midi/0 -q midi/1 \u73b0\u5728\u4f60\u53ef\u4ee5\u542c\u5230\u4f60\u5728\u5408\u6210\u5668\u4e0a\u7684 MIDI \u952e\u76d8\u4e0a\u6f14\u594f\u7684\u5185\u5bb9\u3002 sndiod(8) \u670d\u52a1\u5668\u66b4\u9732\u4e86 MIDI \u76f4\u901a\u7aef\u53e3\uff0c\u5141\u8bb8\u7a0b\u5e8f\u4e92\u76f8\u53d1\u9001 MIDI \u6570\u636e\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u6ca1\u6709\u8fde\u63a5\u786c\u4ef6\u5408\u6210\u5668\uff0c\u4f60\u53ef\u4ee5\u542f\u52a8\u4e00\u4e2a\u8f6f\u4ef6\u5408\u6210\u5668\uff08\u5982 audio/fluidsynth \u7aef\u53e3\uff09\uff0c\u7136\u540e\u628a\u5b83\u4f5c\u4e3a MIDI \u8f93\u51fa\u3002 $ midicat -q midi/0 -q midithru/0 \u4f7f\u7528\u7f51\u7edc\u6444\u50cf\u5934 \u00b6 \u542f\u7528\u89c6\u9891\u5f55\u5236 \u00b6 \u51fa\u4e8e\u9690\u79c1\u539f\u56e0\uff0cOpenBSD \u4e2d\u9ed8\u8ba4\u7981\u7528\u89c6\u9891\u5f55\u5236\u3002 kern.video.record sysctl \u53ef\u7528\u4e8e\u542f\u7528\u5b83\u3002 # sysctl kern.video.record=1 # echo kern.video.record=1 >> /etc/sysctl.conf \u53d7\u652f\u6301\u7684\u786c\u4ef6 \u00b6 uvideo(4) \u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u652f\u6301\u8bb8\u591a\u9075\u5faa USB \u89c6\u9891\u7c7b (UVC) \u89c4\u8303\u7684\u7f51\u7edc\u6444\u50cf\u5934\uff0c\u5e76\u901a\u8fc7 video(4) \u5c42\u5411\u7528\u6237\u516c\u5f00\u3002 \u53d7\u652f\u6301\u7684\u7f51\u7edc\u6444\u50cf\u5934\uff08\u6216\u5176\u4ed6\u89c6\u9891\u8bbe\u5907\uff09\u5728 dmesg \u4e2d\u7684\u663e\u793a\u5982\u4e0b\u6240\u793a\uff1a uvideo0 at uhub0 port 8 configuration 1 interface 0 \"Azurewave Integrated Camera\" rev 2.01/69.05 addr 10 video0 at uvideo0 uvideo1 at uhub0 port 8 configuration 1 interface 2 \"Azurewave Integrated Camera\" rev 2.01/69.05 addr 10 video1 at uvideo1 \u8be5\u8bbe\u5907\u53ef\u901a\u8fc7 /dev/video0 \u8bbf\u95ee\u3002 \u4e00\u4e9b\u7b14\u8bb0\u672c\u7535\u8111\u8fd8\u4e3a\u7ea2\u5916\u6444\u50cf\u5934\u8fde\u63a5\u4e86\u7b2c\u4e8c\u4e2a\uff08\u65e0\u6cd5\u4f7f\u7528\u7684\uff09\u89c6\u9891\u8bbe\u5907\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 video(1) \u547d\u4ee4\u627e\u5230\u53ef\u7528\u7684\u76f8\u673a\u8bbe\u5907\uff1a $ video -q -f /dev/video0 video device /dev/video0: encodings: yuy2 frame sizes (width x height, in pixels) and rates (in frames per second): 320x180: 30 320x240: 30 352x288: 30 424x240: 30 640x360: 30 640x480: 30 848x480: 20 960x540: 15 1280x720: 10 controls: brightness, contrast, saturation, hue, gamma, sharpness, white_balance_temperature $ video -q -f /dev/video1 video: /dev/video1 has no usable YUV encodings \u9ed8\u8ba4\u53ea\u5141\u8bb8 root \u8bbf\u95ee\u89c6\u9891\u8bbe\u5907\u3002\u5fc5\u987b\u66f4\u6539\u8bbe\u5907\u7684\u6743\u9650\u624d\u80fd\u5c06\u5176\u4f5c\u4e3a\u666e\u901a\u7528\u6237\u4f7f\u7528\uff1a # chown $USER /dev/video0 \u5f55\u5236\u7f51\u7edc\u6444\u50cf\u5934\u6d41 \u00b6 \u672c\u8282\u4f7f\u7528 graphics/ffmpeg \u5305\u4e2d\u7684 ffplay \u548c ffmpeg \u3002\u8981\u67e5\u770b\u7ed9\u5b9a\u76f8\u673a\u7684\u529f\u80fd\uff0c\u8bf7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a $ ffplay -f v4l2 -list_formats all -i /dev/video0 [...] [video4linux2,v4l2 @ 0x921f8420800] Raw : yuyv422 : YUYV : 640x480 320x180 320x240 352x288 424x240 640x360 848x480 960x540 1280x720 [video4linux2,v4l2 @ 0x921f8420800] Compressed: mjpeg : MJPEG : 1280x720 320x180 320x240 352x288 424x240 640x360 640x480 848x480 960x540 \u7b2c\u4e00\u884c\u663e\u793a\u672a\u538b\u7f29\u7684 YUYV \u683c\u5f0f\u663e\u793a\u652f\u6301\u7684\u5206\u8fa8\u7387\u3002\u8fd9\u79cd\u683c\u5f0f\u7684\u5e27\u7387\u53ef\u80fd\u975e\u5e38\u4f4e\u3002\u7b2c\u4e8c\u884c\u663e\u793a\u652f\u6301\u7684 MJPEG \u538b\u7f29\u89c6\u9891\u5206\u8fa8\u7387\uff0c\u5b83\u53ef\u4ee5\u63d0\u4f9b\u66f4\u9ad8\u7684\u5e27\u7387\u3002 \u9009\u62e9\u5176\u4e2d\u4e00\u79cd MJPEG \u5206\u8fa8\u7387\u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u6d4b\u8bd5\uff1a $ ffplay -f v4l2 -input_format mjpeg -video_size 1280x720 -i /dev/video0 [...] Input #0, video4linux2,v4l2, from '/dev/video0':B sq= 0B f=0/0 Duration: N/A, start: 1599377893.546533, bitrate: N/A Stream #0:0: Video: mjpeg (Baseline), yuvj422p(pc, bt470bg/unknown/unknown), 1280x720, 30 fps, 30 tbr, 1000k tbn, 1000k tbc \u7f51\u7edc\u6444\u50cf\u5934\u6d41\u5e94\u4e0e\u5206\u8fa8\u7387\u548c\u5e27\u7387\u4e00\u8d77\u663e\u793a\u3002 \u5982\u679c\u53ef\u884c\uff0c\u53ef\u4ee5\u4f7f\u7528 ffmpeg \u5f55\u5236\u89c6\u9891\uff0c\u5982\u4e0b\u6240\u793a\uff1a $ ffmpeg -f v4l2 -input_format mjpeg -video_size 1280x720 -i /dev/video0 ~/video.mkv \u6309 \u201cq\u201d \u7ed3\u675f\u5f55\u5236\u3002 \u63a7\u5236\u7f51\u7edc\u6444\u50cf\u5934\u8bbe\u7f6e \u00b6 \u7f51\u7edc\u6444\u50cf\u5934\u901a\u5e38\u5177\u6709\u4eae\u5ea6\u3001\u5bf9\u6bd4\u5ea6\u548c\u5176\u4ed6\u53ef\u4f7f\u7528 video(1) \u547d\u4ee4\u66f4\u6539\u7684\u63a7\u4ef6\u3002 $ video -c brightness=128 contrast=32 saturation=64 hue=0 gamma=120 sharpness=3 white_balance_temperature=auto \u4f8b\u5982\uff0c\u4eae\u5ea6\u8bbe\u7f6e\u53ef\u4ee5\u66f4\u6539\u4e3a 200\uff1a $ video brightness=200 brightness: 128 -> 200 \u53ef\u4ee5\u4f7f\u7528 video -d \u5c06\u6240\u6709\u8bbe\u7f6e\u6062\u590d\u4e3a\u9ed8\u8ba4\u503c\u3002 \u5982\u679c\u8bbe\u7f6e\u4e3a \u201cauto\u201d \u503c\uff0c\u67d0\u4e9b\u8bbe\u7f6e\u652f\u6301\u81ea\u52a8\u8c03\u6574\u3002 \u5728\u7f51\u7edc\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\u7f51\u7edc\u6444\u50cf\u5934 \u00b6 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cChromium \u53ef\u4ee5\u8bbf\u95ee /dev/video \u3002\u8981\u5141\u8bb8 Chromium \u8bbf\u95ee\u5176\u4ed6\u89c6\u9891\u8bbe\u5907\uff0c\u5fc5\u987b\u5c06\u8bbe\u5907\u8def\u5f84\u6dfb\u52a0\u5230 /etc/chromium/unveil.main \u548c /etc/chromium/unveil.utility_video \u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cFirefox \u53ef\u4ee5\u8bbf\u95ee /dev/video \u548c /dev/video0 \u3002 \u8981\u5141\u8bb8 Firefox \u8bbf\u95ee\u5176\u4ed6\u89c6\u9891\u8bbe\u5907\uff0c\u5fc5\u987b\u5c06\u8bbe\u5907\u8def\u5f84\u6dfb\u52a0\u5230 /etc/firefox/unveil.main \u3002","title":"\u591a\u5a92\u4f53"},{"location":"openbsd-faq/faq13/#openbsd-faq---\u591a\u5a92\u4f53","text":"","title":"OpenBSD FAQ - \u591a\u5a92\u4f53"},{"location":"openbsd-faq/faq13/#\u542f\u7528\u5f55\u97f3","text":"\u51fa\u4e8e\u9690\u79c1\u539f\u56e0\uff0cOpenBSD \u4e2d\u9ed8\u8ba4\u7981\u7528\u5f55\u97f3\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 kern.audio.record sysctl \u542f\u7528\u8be5\u529f\u80fd\u3002 # sysctl kern.audio.record=1 # echo kern.audio.record=1 >> /etc/sysctl.conf","title":"\u542f\u7528\u5f55\u97f3"},{"location":"openbsd-faq/faq13/#\u914d\u7f6e\u97f3\u9891\u786c\u4ef6","text":"\u6bcf\u4e2a\u58f0\u5361\u578b\u53f7\u90fd\u6709\u81ea\u5df1\u7684\u4e00\u7ec4\u63a7\u4ef6\u3002\u6709\u4e9b\u58f0\u5361\u6839\u672c\u6ca1\u6709\u63a7\u4ef6\uff0c\u5176\u4ed6\u53ef\u80fd\u6709\u4e00\u767e\u4e2a\u6216\u66f4\u591a\u63a7\u4ef6\u3002\u4f60\u53ef\u4ee5\u4ee5 root \u8eab\u4efd\u8fd0\u884c mixctl(8) \u5217\u51fa\u6240\u6709\u63a7\u4ef6\u548c\u5f53\u524d\u8bbe\u7f6e\u3002 \u5e76\u975e\u6bcf\u4e2a\u97f3\u9891\u82af\u7247\u7684\u6bcf\u4e2a\u9009\u9879\u90fd\u5fc5\u987b\u8fde\u63a5\u5916\u90e8\u4e16\u754c\u3002\u4f8b\u5982\uff0c\u5217\u51fa\u7684\u8f93\u51fa\u53ef\u80fd\u591a\u4e8e\u5b9e\u9645\u8fde\u63a5\u7684\u8f93\u51fa\u3002\u97f3\u9891\u8bbe\u5907\u7684\u63a7\u4ef6\u53ef\u80fd\u4f1a\u6709\u4e0d\u540c\u7684\u6807\u7b7e\u3002 \u901a\u5e38\u63a7\u4ef6\u6709\u4e00\u4e2a\u6709\u610f\u4e49\u7684\u6807\u7b7e\uff0c\u4f46\u6709\u65f6\u5fc5\u987b\u7b80\u5355\u5730\u5c1d\u8bd5\u4e0d\u540c\u7684\u8bbe\u7f6e\u6765\u67e5\u770b\u6bcf\u4e2a\u63a7\u4ef6\u7684\u6548\u679c\u3002 \u4ee5\u4e0b\u662f\u8981\u8003\u8651\u7684\u63a7\u4ef6\u5217\u8868\uff1a \u9759\u97f3\u548c\u7535\u5e73\u63a7\u5236 \u2014\u2014 \u5373\u4f7f\u4e3b\u63a7\u5236\u4f3c\u4e4e\u8bbe\u7f6e\u6b63\u786e\uff0c\u4fe1\u53f7\u8def\u5f84\u4e2d\u4e5f\u53ef\u80fd\u6709\u591a\u4e2a\u9759\u97f3\u6216\u7535\u5e73\u63a7\u5236\u3002\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u8bbe\u5907\u5177\u6709\u4e3b\u5f55\u97f3\u7535\u5e73\u548c\u9ea6\u514b\u98ce\u589e\u76ca\u63a7\u5236\uff1a record.adc-0:1=248,248 record.adc-0:1_source=mic inputs.mic=85,85 \u5916\u90e8\u653e\u5927\u5668\u65ad\u7535 (External Amplifier Power-Down, EAPD) \u2014\u2014 \u6b64\u5f00\u5173\u901a\u5e38\u7528\u4e8e\u7b14\u8bb0\u672c\u7535\u8111\u7684\u7701\u7535\uff0c\u53ef\u80fd\u9700\u8981\u8bbe\u7f6e\u4ee5\u83b7\u5f97\u8f93\u51fa\u4fe1\u53f7\uff1a outputs.spkr_eapd=on \u5f55\u97f3\u6e90 \u2014\u2014 \u4e00\u4e9b\u8bbe\u5907\u6709\u591a\u4e2a\u9ea6\u514b\u98ce\u8f93\u5165\u3002\u6b64\u7c7b\u63a7\u5236\u7684\u793a\u4f8b\uff1a record.source=mic record.adc-0:1_source=mic \u8981\u4f7f\u66f4\u6539\u5728\u6bcf\u6b21\u91cd\u65b0\u542f\u52a8\u65f6\u751f\u6548\uff0c\u8bf7\u7f16\u8f91 /etc/mixerctl.conf \u6587\u4ef6\u3002\u4f8b\u5982\uff1a record.adc-0:1_source=mic inputs.mic=85,85","title":"\u914d\u7f6e\u97f3\u9891\u786c\u4ef6"},{"location":"openbsd-faq/faq13/#\u8c03\u6574\u97f3\u9891\u7535\u5e73","text":"sndioctl(1) \u5b9e\u7528\u7a0b\u5e8f\u7528\u4e8e\u4ee5\u666e\u901a\u7528\u6237\u8eab\u4efd\u64cd\u4f5c\u97f3\u9891\u63a7\u4ef6\u3002\u4e0d\u5e26\u53c2\u6570\u8fd0\u884c\u5b83\u4f1a\u5217\u51fa\u6240\u6709\u63a7\u4ef6\u548c\u5f53\u524d\u8bbe\u7f6e\u3002 output.level \u63a7\u4ef6\u59cb\u7ec8\u5b58\u5728\u3002\u5b83\u8981\u4e48\u5bf9\u5e94\u4e8e\u786c\u4ef6\u63a7\u5236\uff0c\u8981\u4e48\u5728\u8f6f\u4ef6\u4e2d\u6a21\u62df\u3002","title":"\u8c03\u6574\u97f3\u9891\u7535\u5e73"},{"location":"openbsd-faq/faq13/#\u4f7f\u7528-usb-\u97f3\u9891\u63a5\u53e3","text":"dmesg \u8f93\u51fa\u4e2d USB \u97f3\u9891\u63a5\u53e3\u7684\u793a\u4f8b\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a uaudio0 at uhub2 port 1 configuration 1 interface 1 \"ABC C-Media USB Audio Device\" rev 1.10/1.00 addr 2 uaudio0: class v1, full-speed, sync, channels: 2 play, 1 rec, 8 ctls audio1 at uaudio0 \u5728\u5927\u591a\u6570\u7cfb\u7edf\u4e0a\uff0c\u7b2c\u4e00\u4e2a\u97f3\u9891\u8bbe\u5907\u662f\u5185\u90e8\u58f0\u5361\u3002\u8fde\u63a5\u540e\uff0cUSB \u97f3\u9891\u8bbe\u5907\u5c06\u6210\u4e3a\u7b2c\u4e8c\u4e2a\u3002\u5728\u9ed8\u8ba4\u7684 sndiod(8) \u914d\u7f6e\u4e2d\uff0c\u8fd9\u4e24\u4e2a\u8bbe\u5907\u5206\u522b\u88ab\u7f16\u7a0b\u4e3a snd/0 \uff08\u9ed8\u8ba4\uff09\u548c snd/1 \uff0c\u5e76\u4e14\u53ef\u4ee5\u72ec\u7acb\u4f7f\u7528\u3002\u8bbe\u7f6e\u4e3a\u4f7f\u7528 snd/1 \u7684\u7a0b\u5e8f\u5c06\u4f7f\u7528 USB \u8bbe\u5907\u3002 sndiod(8) \u53ef\u4ee5\u914d\u7f6e\u4e3a\u4f7f snd/0 \u5bf9\u5e94\u4e8e USB \u8bbe\u5907\uff08\u5982\u679c\u5b83\u5df2\u8fde\u63a5\uff09\u6216\u672a\u8fde\u63a5\u65f6\u5bf9\u5e94\u4e8e\u5185\u90e8\u8bbe\u5907\uff1a # rcctl set sndiod flags -f rsnd/0 -F rsnd/1 # rcctl restart sndiod \u5f53\u670d\u52a1\u5668\u6253\u5f00\u8bbe\u5907\u65f6\uff0c\u5b83\u4f1a\u9996\u5148\u5c1d\u8bd5 USB \u8bbe\u5907\u3002\u5982\u679c\u5b83\u4e0d\u5b58\u5728\uff0c\u5219\u4f7f\u7528\u5185\u90e8\u8bbe\u5907\u3002\u5982\u679c USB \u8bbe\u5907\u65ad\u5f00\u8fde\u63a5\uff0csndiod \u4f1a\u5c1d\u8bd5\u4f7f\u7528\u5185\u90e8\u58f0\u5361\u7ee7\u7eed\u64cd\u4f5c\u3002\u5982\u679c\u518d\u6b21\u8fde\u63a5 USB \u8bbe\u5907\uff0csndiod \u5c06\u5728\u4e0b\u6b21\u5c1d\u8bd5\u6253\u5f00\u8bbe\u5907\u65f6\u770b\u5230\u5b83\u3002\u8981\u5f3a\u5236 sndiod \u5728\u8bbe\u5907\u4e4b\u95f4\u5207\u6362\uff0c\u8bf7\u91cd\u65b0\u52a0\u8f7d\u670d\u52a1\u5668\uff1a # rcctl reload sndiod","title":"\u4f7f\u7528 USB \u97f3\u9891\u63a5\u53e3"},{"location":"openbsd-faq/faq13/#\u64ad\u653e\u97f3\u9891\u6587\u4ef6","text":"OpenBSD \u5e26\u6709 aucat(1) \uff0c\u8fd9\u662f\u4e00\u4e2a\u80fd\u591f\u64ad\u653e\u672a\u538b\u7f29\u7684 WAV\u3001AIFF \u548c AU \u6587\u4ef6\u7684\u7a0b\u5e8f\u3002\u5b83\u53ef\u4ee5\u7528\u4e8e\u975e\u5e38\u7b80\u5355\u7684\u60c5\u51b5\u6216\u6d4b\u8bd5\u64ad\u653e\uff1a $ aucat -i filename.wav \u8fd8\u6709\u8bb8\u591a\u5176\u4ed6\u64ad\u653e\u5668\u53ef\u4f5c\u4e3a\u652f\u6301\u5176\u4ed6\u97f3\u9891\u683c\u5f0f\u7684 \u8f6f\u4ef6\u5305 \u3002","title":"\u64ad\u653e\u97f3\u9891\u6587\u4ef6"},{"location":"openbsd-faq/faq13/#\u5f55\u5236\u97f3\u9891\u6587\u4ef6","text":"\u4f7f\u7528 kern.audio.record sysctl \u542f\u7528\u5f55\u97f3\u540e\uff0c aucat(1) \u53ef\u7528\u4e8e\u5f55\u5236\u672a\u538b\u7f29\u7684 WAV\u3001AIFF \u548c AU \u6587\u4ef6\u3002 $ aucat -o file.wav \u4e0a\u8ff0\u547d\u4ee4\u5c06\u5f00\u59cb\u5f55\u5236 WAV \u683c\u5f0f\u7684\u6587\u4ef6\u3002\u6309 CTRL+C \u5b8c\u6210\u5f55\u5236\u3002 \u8981\u64ad\u653e\u6587\u4ef6\uff0c\u8bf7\u8fd0\u884c\uff1a $ aucat -i file.wav \u5982\u679c\u5f55\u97f3\u4f3c\u4e4e\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\uff0c\u4f46\u5f55\u97f3\u7684\u64ad\u653e\u65e0\u58f0\u6216\u4e0d\u7b26\u5408\u9884\u671f\uff0c\u5219\u6df7\u97f3\u5668\u53ef\u80fd\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\u3002\u786e\u4fdd\u60a8\u9009\u62e9\u4e86\u6b63\u786e\u7684\u58f0\u6e90\u8fdb\u884c\u5f55\u97f3\uff0c\u5e76\u4e14\u672a\u9759\u97f3\u3002 \u5982\u679c\u9700\u8981\uff0c\u53ef\u4ee5\u4f7f\u7528 ports \u6e90\u7801\u6811\u4e2d\u7684\u9002\u5f53\u7a0b\u5e8f\u538b\u7f29\u751f\u6210\u7684 WAV \u6587\u4ef6\u3002\u6216\u8005\u53ef\u4ee5\u4f7f\u7528\u8bf8\u5982 sox\u3001ffmpeg \u6216 audacity \u4e4b\u7c7b\u7684 port \u6765\u5f55\u5236\u3001\u5904\u7406\u548c\u538b\u7f29\u97f3\u9891\u6587\u4ef6\u3002","title":"\u5f55\u5236\u97f3\u9891\u6587\u4ef6"},{"location":"openbsd-faq/faq13/#\u5f55\u5236\u6240\u6709\u97f3\u9891\u64ad\u653e\u7684\u76d1\u542c\u6df7\u97f3","text":"\u76d1\u63a7\u6d41\u8bb0\u5f55\u6765\u81ea\u6240\u6709\u64ad\u653e\u8bbe\u5907\u7684\u7ec4\u5408\u97f3\u9891\u8f93\u51fa\uff0c\u5141\u8bb8\u4f60\u590d\u5236\u6216\u4fdd\u5b58\u901a\u8fc7\u97f3\u9891\u5b50\u7cfb\u7edf\u7684\u4efb\u4f55\u5185\u5bb9\u3002\u6b64\u529f\u80fd\u53ef\u7528\u4e8e\u5c4f\u5e55\u5f55\u50cf\u6216\u4efb\u4f55\u7c7b\u578b\u7684\u73b0\u573a\u97f3\u9891\u6df7\u5408\u3002 \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u4e3a sndiod(8) \u521b\u5efa\u76d1\u89c6\u5668\u5b50\u8bbe\u5907 mon \uff1a # rcctl set sndiod flags -s default -m play,mon -s mon # rcctl restart sndiod \u5c06\u4f60\u7684\u7a0b\u5e8f\u914d\u7f6e\u4e3a\u4ece snd/0.mon \u8bbe\u5907\u5f55\u5236\u97f3\u9891\uff0c\u4f8b\u5982\uff1a $ aucat -f snd/0.mon -o file.wav \u6b64\u65f6\uff0c\u4f60\u7684\u7cfb\u7edf\u64ad\u653e\u7684\u4efb\u4f55\u5185\u5bb9\u90fd\u8bb0\u5f55\u5728 file.wav \u4e2d\u3002","title":"\u5f55\u5236\u6240\u6709\u97f3\u9891\u64ad\u653e\u7684\u76d1\u542c\u6df7\u97f3"},{"location":"openbsd-faq/faq13/#\u964d\u4f4e\u97f3\u9891\u5ef6\u8fdf","text":"\u5ef6\u8fdf\u662f\u7a0b\u5e8f\u51b3\u5b9a\u64ad\u653e\u6837\u672c\u4e0e\u7528\u6237\u542c\u5230\u6837\u672c\u4e4b\u95f4\u7684\u65f6\u95f4\u3002\u7531\u4e8e\u97f3\u9891\u6570\u636e\u603b\u662f\u88ab\u7f13\u51b2\uff0c\u8fd9\u4e2a\u5ef6\u8fdf\u4e0e\u97f3\u9891\u7f13\u51b2\u533a\u5927\u5c0f\u6210\u6b63\u6bd4\u3002\u5efa\u8bae\u4f7f\u7528\u4ee5\u4e0b\u503c\uff1a \u5b9e\u65f6\u5408\u6210\u5668\uff1a5ms\u3002\u8fd9\u662f\u6572\u51fb MIDI \u952e\u76d8\u4e0a\u7684\u952e\u548c\u5b9e\u9645\u542c\u5230\u97f3\u7b26\u4e4b\u95f4\u7684\u65f6\u95f4\u3002\u7c97\u7565\u5730\u8bf4\uff0c5ms \u5bf9\u5e94\u4e8e\u58f0\u97f3\u4f20\u64ad 1.75m \u6240\u9700\u7684\u65f6\u95f4\u3002 \u6e38\u620f\uff1a50ms\u3002\u8fd9\u662f\u4f60\u770b\u5230\u4e8b\u4ef6\u548c\u542c\u5230\u76f8\u5e94\u58f0\u97f3\u4e4b\u95f4\u7684\u65f6\u95f4\u3002 \u7535\u5f71\u64ad\u653e\u5668\u7b49\uff1a500 \u6beb\u79d2\u53ca\u4ee5\u4e0a\u3002 \u6b64\u7c7b\u5e94\u7528\u7a0b\u5e8f\u63d0\u524d\u201c\u77e5\u9053\u201d\u8981\u64ad\u653e\u7684\u58f0\u97f3\uff0c\u5e76\u4ee5\u4e0e\u76f8\u5e94\u56fe\u7247\u540c\u65f6\u64ad\u653e\u7684\u65b9\u5f0f\u53d1\u9001\u97f3\u9891\u6570\u636e\u3002 \u97f3\u9891\u7f13\u51b2\u533a\u8d8a\u5c0f\uff08\u4ee5\u5b9e\u73b0\u4f4e\u5ef6\u8fdf\uff09\uff0c\u6ea2\u51fa/\u6b20\u8f7d\u7684\u53ef\u80fd\u6027\u5c31\u8d8a\u5927\u3002\u7f13\u51b2\u533a\u6ea2\u51fa/\u4e0d\u8db3\u4f1a\u5bfc\u81f4\u58f0\u97f3\u65ad\u65ad\u7eed\u7eed\u3002 sndiod(8) \u5bf9\u6240\u6709\u97f3\u9891\u5e94\u7528\u7a0b\u5e8f\u65bd\u52a0\u4e86\u6700\u5c0f\u5ef6\u8fdf\uff0c\u9ed8\u8ba4\u5ef6\u8fdf\u4e3a 160 \u6beb\u79d2\u3002\u5982\u679c\u4f60\u8ba1\u5212\u4f7f\u7528\u9700\u8981\u8f83\u4f4e\u5ef6\u8fdf\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528 -b \u9009\u9879\u9009\u62e9\u6240\u9700\u7684\u5ef6\u8fdf\uff08\u4ee5\u5e27\u6570\u8868\u793a\uff09\u3002\u4f8b\u5982\uff0c\u5728 48000 \u4e2a\u6837\u672c/\u79d2\uff08samples/second\uff09\u65f6\uff0c50 \u6beb\u79d2\u7684\u5ef6\u8fdf\u5bf9\u5e94\u4e8e\uff1a 48000 \u4e2a\u6837\u672c/\u79d2 \u00d7 0.050 \u79d2 = 2400 \u4e2a\u6837\u672c \u7136\u540e\u6267\u884c # rcctl set sndiod flags -b2400","title":"\u964d\u4f4e\u97f3\u9891\u5ef6\u8fdf"},{"location":"openbsd-faq/faq13/#\u4f4e\u5ef6\u8fdf\u662f\u5426\u53ef\u4ee5\u6539\u5584\u97f3\u89c6\u9891\u540c\u6b65","text":"\u4e0d\uff0c\u5c06\u97f3\u9891\u4e0e\u89c6\u9891\u540c\u6b65\u4e0d\u9700\u8981\u4f4e\u5ef6\u8fdf\u3002\u540c\u6b65\u95ee\u9898\u901a\u5e38\u662f\u7531\u8f6f\u4ef6\u672c\u8eab\u5f15\u8d77\u7684\u3002\u5f3a\u5236\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u8f83\u5c0f\u7684\u7f13\u51b2\u533a\uff08\u901a\u8fc7\u5728\u4f4e\u5ef6\u8fdf\u6a21\u5f0f\u4e0b\u542f\u52a8 sndiod(8)\uff09\u53ef\u80fd\u4f1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u9690\u85cf\u5b9e\u9645\u95ee\u9898\uff0c\u5e76\u7ed9\u4eba\u4e00\u79cd\u8f6f\u4ef6\u8fd0\u884c\u66f4\u597d\u7684\u611f\u89c9\uff0c\u4f46\u663e\u7136\u6b63\u786e\u7684\u505a\u6cd5\u662f\u5f00\u59cb\u641c\u7d22\u76f8\u5e94\u7684\u9519\u8bef\u3002","title":"\u4f4e\u5ef6\u8fdf\u662f\u5426\u53ef\u4ee5\u6539\u5584\u97f3\u89c6\u9891\u540c\u6b65\uff1f"},{"location":"openbsd-faq/faq13/#\u4f7f\u7528\u8fdc\u7a0b\u97f3\u9891\u786c\u4ef6","text":"sndiod(8) \u53ef\u4ee5\u914d\u7f6e\u4e3a\u63a5\u53d7\u6765\u81ea\u7f51\u7edc\u7684\u8fde\u63a5\uff0c\u5141\u8bb8\u5176\u4ed6\u673a\u5668\u4e5f\u4f7f\u7528\u58f0\u5361\u3002\u5728\u5e26\u6709\u58f0\u5361\u7684\u8fdc\u7a0b\u7cfb\u7edf\u4e0a\uff0c\u8fd0\u884c\uff1a # rcctl set sndiod flags -L- \u5728\u672c\u5730\u7cfb\u7edf\u4e0a\uff0c\u5c06\u60a8\u7684\u7a0b\u5e8f\u914d\u7f6e\u4e3a\u4f7f\u7528 snd@hostname/0 \uff0c\u5176\u4e2d\u201c\u4e3b\u673a\u540d\uff08hostname\uff09\u201d\u662f\u8fdc\u7a0b\u7cfb\u7edf\u7684\u5730\u5740\u3002 AUDIODEVICE \u73af\u5883\u53d8\u91cf\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u4e0a\u8ff0\u503c\uff0c\u4f7f\u8fdc\u7a0b\u58f0\u5361\u6210\u4e3a\u9ed8\u8ba4\u7684\u97f3\u9891\u8bbe\u5907\u3002 \u4efb\u4f55\u80fd\u591f\u8fde\u63a5\u5230\u8fdc\u7a0b\u4e3b\u673a\u7684 TCP \u7aef\u53e3 11025 \u7684\u7cfb\u7edf\u90fd\u53ef\u4ee5\u4f7f\u7528\u97f3\u9891\u8bbe\u5907\u3002 \u51fa\u4e8e\u9690\u79c1\u539f\u56e0\uff0c\u5728\u7ed9\u5b9a\u65f6\u95f4\uff0c\u4e00\u4e2a\u7cfb\u7edf\u4e2d\u53ea\u6709\u4e00\u4e2a\u7528\u6237\u53ef\u4ee5\u8fde\u63a5\u5230\u8be5\u7cfb\u7edf\u3002 \u5982\u679c\u591a\u4e2a\u7cfb\u7edf\u5fc5\u987b\u540c\u65f6\u4f7f\u7528\u97f3\u9891\u8bbe\u5907\uff0c\u5219 sndio(7) \u6388\u6743 cookie \u5fc5\u987b\u76f8\u540c\u3002\u4f8b\u5982\uff0c\u5c06\u4f60\u7684 ~/.sndio/cookie \u590d\u5236\u5230\u53ef\u80fd\u4f7f\u7528\u97f3\u9891\u8bbe\u5907\u7684\u6240\u6709\u5e10\u6237\u3002 \u4e3a\u907f\u514d\u6545\u969c\uff0c\u7aef\u53e3 11025 \u4e0a\u7684 TCP \u6d41\u91cf\u53ef\u4ee5\u4f7f\u7528\u6570\u636e\u5305\u8fc7\u6ee4\u5668\u8fdb\u884c\u4f18\u5148\u7ea7\u6392\u5e8f\u3002\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\u65f6\uff0csndiod \u5c06\u6d88\u8017\u5927\u7ea6 200kB/s \u7684\u7f51\u7edc\u5e26\u5bbd\u3002","title":"\u4f7f\u7528\u8fdc\u7a0b\u97f3\u9891\u786c\u4ef6"},{"location":"openbsd-faq/faq13/#\u9009\u62e9\u9ed8\u8ba4\u97f3\u9891\u8bbe\u5907","text":"\u9ed8\u8ba4\u97f3\u9891\u8bbe\u5907\u7684\u9009\u62e9\u7531 AUDIODEVICE \u73af\u5883\u53d8\u91cf\u51b3\u5b9a\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528 snd/0 \uff0c\u5b83\u662f sndiod(8) \u7ba1\u7406\u7684\u7b2c\u4e00\u4e2a\u97f3\u9891\u8bbe\u5907\u3002 \u9009\u62e9\u9ed8\u8ba4\u8bbe\u5907\u7684\u6700\u7075\u6d3b\u65b9\u6cd5\u662f\u5bfc\u51fa\u53ef\u80fd\u5728\u7528\u6237\u7684\u767b\u5f55\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 AUDIODEVICE \u3002 \u53e6\u4e00\u79cd\u66f4\u6539\u9ed8\u8ba4\u97f3\u9891\u8f93\u51fa\u8bbe\u5907\u7684\u65b9\u6cd5\u662f\u4f7f\u6240\u9700\u8bbe\u5907\u6210\u4e3a sndiod(8) \u7ba1\u7406\u7684\u7b2c\u4e00\u4e2a\u8bbe\u5907\u3002\u4f8b\u5982\uff0c\u8981\u4f7f\u7528\u5916\u90e8 DAC \u800c\u4e0d\u662f\u4e3b\u677f\u7684\u677f\u8f7d\u97f3\u9891\uff0c\u53ea\u9700\u66f4\u6539 sndiod(8) \u7684\u542f\u52a8\u6807\u5fd7\u4ee5\u4f7f\u7528\u8be5\u8bbe\u5907\uff1a # rcctl set sndiod flags -f rsnd/1 # rcctl restart sndiod \u8fd9\u5c06\u4f7f\u7b2c\u4e8c\u4e2a\u97f3\u9891\u8bbe\u5907 ( rsnd/1 ) \u6210\u4e3a\u9ed8\u8ba4\u8bbe\u5907\u3002","title":"\u9009\u62e9\u9ed8\u8ba4\u97f3\u9891\u8bbe\u5907"},{"location":"openbsd-faq/faq13/#\u8c03\u8bd5\u97f3\u9891\u95ee\u9898","text":"\u5982\u679c\u4f60\u5728\u64ad\u653e\u97f3\u9891\u65f6\u6ca1\u6709\u542c\u5230\u4efb\u4f55\u58f0\u97f3\uff0c\u5219\u53ef\u80fd\u662f\u8c03\u97f3\u53f0\u63a7\u5236\u8c03\u4f4e\u97f3\u91cf\u6216\u53ea\u662f\u9759\u97f3\u3002\u8bf7\u53c2\u9605 \u672c\u8282 \u4ee5\u914d\u7f6e\u6df7\u97f3\u5668\u3002\u5728\u62a5\u544a\u95ee\u9898\u4e4b\u524d\uff0c\u8bf7\u53d6\u6d88 \u6240\u6709 \u8f93\u5165\u548c\u8f93\u51fa\u7684\u9759\u97f3\u3002 \u5982\u679c\u4f60\u8ba4\u4e3a\u4f60\u7684\u8bbe\u5907\u5e94\u8be5\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\uff0c\u4f46\u65e0\u8bba\u51fa\u4e8e\u4f55\u79cd\u539f\u56e0\u4e0d\u80fd\u6b63\u5e38\u5de5\u4f5c\uff0c\u90a3\u4e48\u662f\u65f6\u5019\u8fdb\u884c\u4e00\u4e9b\u8c03\u8bd5\u4e86\u3002\u4ee5\u4e0b\u6b65\u9aa4\u53ef\u4ee5\u786e\u5b9a DAC \u662f\u5426\u6b63\u5728\u5904\u7406\u6570\u636e\u3002 # cat > /dev/audio0 < /dev/zero & [1] 9926 # audioctl play.{bytes,errors} play.bytes=3312000 play.errors=0 # audioctl play.{bytes,errors} play.bytes=7065600 play.errors=0 # audioctl play.{bytes,errors} play.bytes=9379200 play.errors=0 # kill %1 # fg %1 cat > /dev/audio0 < /dev/zero Terminated \u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u770b\u5230\u6bcf\u6b21\u68c0\u67e5\u65f6\uff0c\u5904\u7406\u7684\u6570\u636e\u8ba1\u6570 play.bytes \u90fd\u5728\u589e\u52a0\uff0c\u6240\u4ee5\u6570\u636e\u5728\u6d41\u52a8\u3002\u6211\u4eec\u8fd8\u770b\u5230\uff0c\u8bbe\u5907\u6ca1\u6709\u5c11\u8fd0\u884c\u4efb\u4f55\u6837\u672c\uff08 play.errors \uff09\u3002\u8fd9\u4e5f\u662f\u597d\u4e8b\u3002 \u8bf7\u6ce8\u610f\uff0c\u5373\u4f7f\u4f60\u5728\u8fd0\u884c\u4e0a\u8ff0\u6d4b\u8bd5\u65f6\u63d2\u5165\u4e86\u626c\u58f0\u5668\uff0c\u4f60\u4e5f\u4e0d\u5e94\u8be5\u542c\u5230\u4efb\u4f55\u58f0\u97f3\u3002 \u8be5\u6d4b\u8bd5\u5411\u8bbe\u5907\u53d1\u9001 \u201czero\u201d \u4fe1\u53f7\uff0c\u8fd9\u5bf9\u4e8e\u6240\u6709\u5f53\u524d\u652f\u6301\u7684\u9ed8\u8ba4\u7f16\u7801\u662f\u9759\u97f3\u7684\u3002 \u7531\u4e8e\u6211\u4eec\u77e5\u9053\u8bbe\u5907\u53ef\u4ee5\u5904\u7406\u6570\u636e\uff0c\u56e0\u6b64\u6700\u597d\u518d\u6b21\u68c0\u67e5\u6df7\u97f3\u5668\u8bbe\u7f6e\u3002 \u786e\u4fdd\u6240\u6709\u8f93\u51fa\u548c\u6240\u6709\u8f93\u5165\u90fd\u672a\u9759\u97f3\u4e14\u5904\u4e8e\u5408\u7406\u6c34\u5e73\u3002 \u5982\u679c\u6b64\u65f6\u4f60\u4ecd\u6709\u95ee\u9898\uff0c\u53ef\u80fd\u662f\u65f6\u5019 \u63d0\u4ea4\u9519\u8bef\u62a5\u544a \u4e86\u3002\u9664\u4e86\u5b8c\u6574\u7684 dmesg \u548c\u95ee\u9898\u63cf\u8ff0\u7b49\u6b63\u5e38\u7684\u9519\u8bef\u62a5\u544a\u4fe1\u606f\u5916\uff0c\u8fd8\u8bf7\u5305\u62ec mixerctl -v \u7684\u9ed8\u8ba4\u8f93\u51fa\u4ee5\u53ca\u4e0a\u8ff0 DAC \u5904\u7406\u6d4b\u8bd5\u7684\u8f93\u51fa\u3002","title":"\u8c03\u8bd5\u97f3\u9891\u95ee\u9898"},{"location":"openbsd-faq/faq13/#\u4f7f\u7528-midi-\u4e50\u5668","text":"\u4e50\u5668\u6570\u5b57\u63a5\u53e3 (MIDI) \u534f\u8bae\u63d0\u4f9b\u4e86\u4e00\u79cd\u6807\u51c6\u5316\u4e14\u6709\u6548\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06\u97f3\u4e50\u8868\u6f14\u4fe1\u606f\u8868\u793a\u4e3a\u7535\u5b50\u6570\u636e\u3002MIDI \u6570\u636e\u4ec5\u5305\u542b\u5408\u6210\u5668\u64ad\u653e\u58f0\u97f3\u6240\u9700\u7684\u6307\u4ee4\uff0c\u800c\u4e0d\u662f\u5b9e\u9645\u7684\u58f0\u97f3\u3002 \u8981\u64ad\u653e MIDI \u6570\u636e\uff0c\u9700\u8981\u4e00\u4e2a\u8fde\u63a5\u5230\u673a\u5668\u7684 MIDI \u7aef\u53e3\u7684\u5408\u6210\u5668\u3002\u540c\u6837\uff0c\u8981\u5f55\u5236 MIDI \u6570\u636e\uff0c\u9700\u8981 MIDI \u4e50\u5668\uff08\u4f8b\u5982 MIDI \u952e\u76d8\uff09\u3002\u9ad8\u7ea7 MIDI \u4e50\u5668\u53ef\u80fd\u5305\u542b\u591a\u4e2a\u5b50\u90e8\u5206\uff08\u5408\u6210\u5668\u3001\u952e\u76d8\u3001\u63a7\u5236\u9762\u7b49...\uff09\u3002\u5b83\u4eec\u5728 OpenBSD \u4e0a\u663e\u793a\u4e3a\u591a\u4e2a MIDI \u7aef\u53e3\u3002 \u5f53\u60a8\u5df2\u7ecf\u8fd0\u884c OpenBSD \u65f6\uff0c\u5728 dmesg(8) \u547d\u4ee4\u7684\u8f93\u51fa\u4e2d\u67e5\u627e MIDI \u7aef\u53e3\u3002dmesg \u8f93\u51fa\u4e2d\u7684 MIDI \u7aef\u53e3\u793a\u4f8b\u662f\uff1a umidi0 at uhub2 port 2 configuration 1 interface 0 \"Roland Roland XV-2020\" rev 1.10/1.00 addr 2 midi0 at umidi0: <USB MIDI I/F> umidi1 at uhub1 port 2 configuration 1 interface 1 \"Evolution Electronics Ltd. USB Keystation 61es\" rev 1.00/1.25 addr 3 midi1 at umidi1: <USB MIDI I/F> \u5b83\u663e\u793a\u4e86\u4e24\u4e2a\u9644\u52a0\u7684 midi(4) \u9a71\u52a8\u7a0b\u5e8f\uff0c\u7a0b\u5e8f\u79f0\u4e3a\uff1a midi/0 - \u901a\u8fc7 USB \u8fde\u63a5\u7684\u5408\u6210\u5668 midi/1 - MIDI \u4e3b\u952e\u76d8 \u952e\u76d8\u7684\u8f93\u51fa\u53ef\u4ee5\u8fde\u63a5\u5230\u5408\u6210\u5668\u7684\u8f93\u5165\uff0c\u5982\u4e0b\u6240\u793a\uff1a $ midicat -q midi/0 -q midi/1 \u73b0\u5728\u4f60\u53ef\u4ee5\u542c\u5230\u4f60\u5728\u5408\u6210\u5668\u4e0a\u7684 MIDI \u952e\u76d8\u4e0a\u6f14\u594f\u7684\u5185\u5bb9\u3002 sndiod(8) \u670d\u52a1\u5668\u66b4\u9732\u4e86 MIDI \u76f4\u901a\u7aef\u53e3\uff0c\u5141\u8bb8\u7a0b\u5e8f\u4e92\u76f8\u53d1\u9001 MIDI \u6570\u636e\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u6ca1\u6709\u8fde\u63a5\u786c\u4ef6\u5408\u6210\u5668\uff0c\u4f60\u53ef\u4ee5\u542f\u52a8\u4e00\u4e2a\u8f6f\u4ef6\u5408\u6210\u5668\uff08\u5982 audio/fluidsynth \u7aef\u53e3\uff09\uff0c\u7136\u540e\u628a\u5b83\u4f5c\u4e3a MIDI \u8f93\u51fa\u3002 $ midicat -q midi/0 -q midithru/0","title":"\u4f7f\u7528 MIDI \u4e50\u5668"},{"location":"openbsd-faq/faq13/#\u4f7f\u7528\u7f51\u7edc\u6444\u50cf\u5934","text":"","title":"\u4f7f\u7528\u7f51\u7edc\u6444\u50cf\u5934"},{"location":"openbsd-faq/faq13/#\u542f\u7528\u89c6\u9891\u5f55\u5236","text":"\u51fa\u4e8e\u9690\u79c1\u539f\u56e0\uff0cOpenBSD \u4e2d\u9ed8\u8ba4\u7981\u7528\u89c6\u9891\u5f55\u5236\u3002 kern.video.record sysctl \u53ef\u7528\u4e8e\u542f\u7528\u5b83\u3002 # sysctl kern.video.record=1 # echo kern.video.record=1 >> /etc/sysctl.conf","title":"\u542f\u7528\u89c6\u9891\u5f55\u5236"},{"location":"openbsd-faq/faq13/#\u53d7\u652f\u6301\u7684\u786c\u4ef6","text":"uvideo(4) \u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u652f\u6301\u8bb8\u591a\u9075\u5faa USB \u89c6\u9891\u7c7b (UVC) \u89c4\u8303\u7684\u7f51\u7edc\u6444\u50cf\u5934\uff0c\u5e76\u901a\u8fc7 video(4) \u5c42\u5411\u7528\u6237\u516c\u5f00\u3002 \u53d7\u652f\u6301\u7684\u7f51\u7edc\u6444\u50cf\u5934\uff08\u6216\u5176\u4ed6\u89c6\u9891\u8bbe\u5907\uff09\u5728 dmesg \u4e2d\u7684\u663e\u793a\u5982\u4e0b\u6240\u793a\uff1a uvideo0 at uhub0 port 8 configuration 1 interface 0 \"Azurewave Integrated Camera\" rev 2.01/69.05 addr 10 video0 at uvideo0 uvideo1 at uhub0 port 8 configuration 1 interface 2 \"Azurewave Integrated Camera\" rev 2.01/69.05 addr 10 video1 at uvideo1 \u8be5\u8bbe\u5907\u53ef\u901a\u8fc7 /dev/video0 \u8bbf\u95ee\u3002 \u4e00\u4e9b\u7b14\u8bb0\u672c\u7535\u8111\u8fd8\u4e3a\u7ea2\u5916\u6444\u50cf\u5934\u8fde\u63a5\u4e86\u7b2c\u4e8c\u4e2a\uff08\u65e0\u6cd5\u4f7f\u7528\u7684\uff09\u89c6\u9891\u8bbe\u5907\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 video(1) \u547d\u4ee4\u627e\u5230\u53ef\u7528\u7684\u76f8\u673a\u8bbe\u5907\uff1a $ video -q -f /dev/video0 video device /dev/video0: encodings: yuy2 frame sizes (width x height, in pixels) and rates (in frames per second): 320x180: 30 320x240: 30 352x288: 30 424x240: 30 640x360: 30 640x480: 30 848x480: 20 960x540: 15 1280x720: 10 controls: brightness, contrast, saturation, hue, gamma, sharpness, white_balance_temperature $ video -q -f /dev/video1 video: /dev/video1 has no usable YUV encodings \u9ed8\u8ba4\u53ea\u5141\u8bb8 root \u8bbf\u95ee\u89c6\u9891\u8bbe\u5907\u3002\u5fc5\u987b\u66f4\u6539\u8bbe\u5907\u7684\u6743\u9650\u624d\u80fd\u5c06\u5176\u4f5c\u4e3a\u666e\u901a\u7528\u6237\u4f7f\u7528\uff1a # chown $USER /dev/video0","title":"\u53d7\u652f\u6301\u7684\u786c\u4ef6"},{"location":"openbsd-faq/faq13/#\u5f55\u5236\u7f51\u7edc\u6444\u50cf\u5934\u6d41","text":"\u672c\u8282\u4f7f\u7528 graphics/ffmpeg \u5305\u4e2d\u7684 ffplay \u548c ffmpeg \u3002\u8981\u67e5\u770b\u7ed9\u5b9a\u76f8\u673a\u7684\u529f\u80fd\uff0c\u8bf7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a $ ffplay -f v4l2 -list_formats all -i /dev/video0 [...] [video4linux2,v4l2 @ 0x921f8420800] Raw : yuyv422 : YUYV : 640x480 320x180 320x240 352x288 424x240 640x360 848x480 960x540 1280x720 [video4linux2,v4l2 @ 0x921f8420800] Compressed: mjpeg : MJPEG : 1280x720 320x180 320x240 352x288 424x240 640x360 640x480 848x480 960x540 \u7b2c\u4e00\u884c\u663e\u793a\u672a\u538b\u7f29\u7684 YUYV \u683c\u5f0f\u663e\u793a\u652f\u6301\u7684\u5206\u8fa8\u7387\u3002\u8fd9\u79cd\u683c\u5f0f\u7684\u5e27\u7387\u53ef\u80fd\u975e\u5e38\u4f4e\u3002\u7b2c\u4e8c\u884c\u663e\u793a\u652f\u6301\u7684 MJPEG \u538b\u7f29\u89c6\u9891\u5206\u8fa8\u7387\uff0c\u5b83\u53ef\u4ee5\u63d0\u4f9b\u66f4\u9ad8\u7684\u5e27\u7387\u3002 \u9009\u62e9\u5176\u4e2d\u4e00\u79cd MJPEG \u5206\u8fa8\u7387\u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u6d4b\u8bd5\uff1a $ ffplay -f v4l2 -input_format mjpeg -video_size 1280x720 -i /dev/video0 [...] Input #0, video4linux2,v4l2, from '/dev/video0':B sq= 0B f=0/0 Duration: N/A, start: 1599377893.546533, bitrate: N/A Stream #0:0: Video: mjpeg (Baseline), yuvj422p(pc, bt470bg/unknown/unknown), 1280x720, 30 fps, 30 tbr, 1000k tbn, 1000k tbc \u7f51\u7edc\u6444\u50cf\u5934\u6d41\u5e94\u4e0e\u5206\u8fa8\u7387\u548c\u5e27\u7387\u4e00\u8d77\u663e\u793a\u3002 \u5982\u679c\u53ef\u884c\uff0c\u53ef\u4ee5\u4f7f\u7528 ffmpeg \u5f55\u5236\u89c6\u9891\uff0c\u5982\u4e0b\u6240\u793a\uff1a $ ffmpeg -f v4l2 -input_format mjpeg -video_size 1280x720 -i /dev/video0 ~/video.mkv \u6309 \u201cq\u201d \u7ed3\u675f\u5f55\u5236\u3002","title":"\u5f55\u5236\u7f51\u7edc\u6444\u50cf\u5934\u6d41"},{"location":"openbsd-faq/faq13/#\u63a7\u5236\u7f51\u7edc\u6444\u50cf\u5934\u8bbe\u7f6e","text":"\u7f51\u7edc\u6444\u50cf\u5934\u901a\u5e38\u5177\u6709\u4eae\u5ea6\u3001\u5bf9\u6bd4\u5ea6\u548c\u5176\u4ed6\u53ef\u4f7f\u7528 video(1) \u547d\u4ee4\u66f4\u6539\u7684\u63a7\u4ef6\u3002 $ video -c brightness=128 contrast=32 saturation=64 hue=0 gamma=120 sharpness=3 white_balance_temperature=auto \u4f8b\u5982\uff0c\u4eae\u5ea6\u8bbe\u7f6e\u53ef\u4ee5\u66f4\u6539\u4e3a 200\uff1a $ video brightness=200 brightness: 128 -> 200 \u53ef\u4ee5\u4f7f\u7528 video -d \u5c06\u6240\u6709\u8bbe\u7f6e\u6062\u590d\u4e3a\u9ed8\u8ba4\u503c\u3002 \u5982\u679c\u8bbe\u7f6e\u4e3a \u201cauto\u201d \u503c\uff0c\u67d0\u4e9b\u8bbe\u7f6e\u652f\u6301\u81ea\u52a8\u8c03\u6574\u3002","title":"\u63a7\u5236\u7f51\u7edc\u6444\u50cf\u5934\u8bbe\u7f6e"},{"location":"openbsd-faq/faq13/#\u5728\u7f51\u7edc\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\u7f51\u7edc\u6444\u50cf\u5934","text":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cChromium \u53ef\u4ee5\u8bbf\u95ee /dev/video \u3002\u8981\u5141\u8bb8 Chromium \u8bbf\u95ee\u5176\u4ed6\u89c6\u9891\u8bbe\u5907\uff0c\u5fc5\u987b\u5c06\u8bbe\u5907\u8def\u5f84\u6dfb\u52a0\u5230 /etc/chromium/unveil.main \u548c /etc/chromium/unveil.utility_video \u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cFirefox \u53ef\u4ee5\u8bbf\u95ee /dev/video \u548c /dev/video0 \u3002 \u8981\u5141\u8bb8 Firefox \u8bbf\u95ee\u5176\u4ed6\u89c6\u9891\u8bbe\u5907\uff0c\u5fc5\u987b\u5c06\u8bbe\u5907\u8def\u5f84\u6dfb\u52a0\u5230 /etc/firefox/unveil.main \u3002","title":"\u5728\u7f51\u7edc\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\u7f51\u7edc\u6444\u50cf\u5934"},{"location":"openbsd-faq/faq14/","text":"OpenBSD FAQ - \u914d\u7f6e\u78c1\u76d8 \u00b6 \u78c1\u76d8\u548c\u5206\u533a \u00b6 \u5728 OpenBSD \u4e2d\u8bbe\u7f6e\u78c1\u76d8\u7684\u7ec6\u8282\u56e0 \u5e73\u53f0 \u800c\u5f02\uff0c\u56e0\u6b64\u4f60\u5e94\u8be5\u9605\u8bfb\u4f60\u90e8\u7f72\u7684\u5e73\u53f0\u7684 INSTALL.<arch> \u6587\u4ef6\u4e2d\u7684\u8bf4\u660e\u3002 \u9a71\u52a8\u5668\u8bc6\u522b \u00b6 \u5728\u5927\u591a\u6570\u5e73\u53f0\u4e0a\uff0cOpenBSD \u4f7f\u7528\u4e24\u4e2a\u9a71\u52a8\u7a0b\u5e8f\u5904\u7406\u5927\u5bb9\u91cf\u5b58\u50a8\uff1a wd(4) \uff1a\u7c7b\u4f3c IDE \u7684\u78c1\u76d8\uff1aIDE\u3001SATA\u3001MFM \u6216 ESDI \u78c1\u76d8\uff0c\u6216\u8fde\u63a5\u5230 wdc(4) \u6216 pciide(4) \u63a5\u53e3\u7684\u95ea\u5b58\u8bbe\u5907\u3002 sd(4) \uff1a\u7c7b SCSI \u78c1\u76d8\uff1a\u4f7f\u7528 SCSI \u547d\u4ee4\u7684\u8bbe\u5907\u3001USB \u78c1\u76d8\u3001\u8fde\u63a5\u5230 ahci(4) \u63a5\u53e3\u7684 SATA \u78c1\u76d8\u4ee5\u53ca\u8fde\u63a5\u5230 RAID \u63a7\u5236\u5668\u7684\u78c1\u76d8\u9635\u5217\u3002 \u8bbe\u5907\u6309\u542f\u52a8\u65f6\u68c0\u6d4b\u5230\u7684\u987a\u5e8f\u7f16\u53f7\uff0c\u4ece\u96f6\u5f00\u59cb\u3002\u56e0\u6b64\uff0c\u7b2c\u4e00\u4e2a\u7c7b\u4f3c IDE \u7684\u78c1\u76d8\u5c06\u662f wd0 \uff0c\u800c\u7b2c\u4e09\u4e2a\u7c7b\u4f3c SCSI \u7684\u78c1\u76d8\u5c06\u662f sd2 \u3002\u8bf7\u6ce8\u610f\uff0cOpenBSD \u4e0d\u4e00\u5b9a\u4f1a\u6309\u7167\u4e0e\u5f15\u5bfc ROM \u76f8\u540c\u7684\u987a\u5e8f\u5bf9\u9a71\u52a8\u5668\u8fdb\u884c\u7f16\u53f7\u3002 \u5206\u533a\u548c\u6587\u4ef6\u7cfb\u7edf \u00b6 \u672f\u8bed\u201c\u5206\u533a\u201d\u5728 OpenBSD \u4e2d\u53ef\u4ee5\u8868\u793a\u4e24\u79cd\u4e0d\u540c\u7684\u542b\u4e49\uff1a disklabel(8) \u5206\u533a\uff0c\u4e5f\u79f0\u4e3a\u6587\u4ef6\u7cfb\u7edf\u5206\u533a\u3002 fdisk(8) \u5206\u533a\uff0c\u6709\u65f6\u79f0\u4e3a\u4e3b\u5f15\u5bfc\u8bb0\u5f55 (MBR) \u5206\u533a\u3002 \u6240\u6709 OpenBSD \u5e73\u53f0\u90fd\u4f7f\u7528 disklabel \u7a0b\u5e8f\u4f5c\u4e3a\u7ba1\u7406\u6587\u4ef6\u7cfb\u7edf\u5206\u533a\u7684\u4e3b\u8981\u65b9\u5f0f\u3002\u5728\u4f7f\u7528 fdisk \u7684\u5e73\u53f0\u4e0a\uff0c\u4e00\u4e2a MBR \u5206\u533a\u53ef\u4fdd\u5b58\u6240\u6709 OpenBSD \u6587\u4ef6\u7cfb\u7edf\u3002\u8fd9\u4e2a\u5206\u533a\u53ef\u4ee5\u5206\u6210 16 \u4e2a disklabel \u5206\u533a\uff0c\u6807\u8bb0\u4e3a a \u5230 p \u3002\u6709\u51e0\u4e2a\u6807\u7b7e\u5f88\u7279\u522b\uff1a a\uff1a\u542f\u52a8\u76d8\u7684 a \u5206\u533a\u5c31\u662f\u4f60\u7684\u6839\u5206\u533a\u3002 b: \u542f\u52a8\u76d8\u7684 b \u5206\u533a\u901a\u5e38\u662f\u4ea4\u6362\u5206\u533a\u3002 c\uff1ac \u5206\u533a\u59cb\u7ec8\u662f\u6574\u4e2a\u78c1\u76d8\u3002 \u8981\u5728 disklabel \u5206\u533a\u4e0a\u521b\u5efa\u65b0\u6587\u4ef6\u7cfb\u7edf\uff0c\u8bf7\u4f7f\u7528 newfs(8) \u547d\u4ee4\uff1a # newfs sd2a \u56e0\u6b64\uff0c\u4e00\u4e2a\u8bbe\u5907\u540d\u52a0\u4e0a\u4e00\u4e2a disklabel \u6807\u8bc6\u4e86\u4e00\u4e2a OpenBSD \u6587\u4ef6\u7cfb\u7edf\u3002 \u4f8b\u5982\uff0c\u6807\u8bc6\u7b26 sd2a \u6307\u7684\u662f\u7b2c\u4e09\u4e2a sd \u8bbe\u5907\u7684 a \u5206\u533a\u4e0a\u7684\u6587\u4ef6\u7cfb\u7edf\u3002\u5b83\u7684\u8bbe\u5907\u6587\u4ef6\u5c06\u662f\u5757\u8bbe\u5907\u7684 /dev/sd2a \u548c\u539f\u59cb\uff08\u5b57\u7b26\uff09\u8bbe\u5907\u7684 /dev/rsd2a \u3002 \u8bb0\u4f4f\u4e00\u4e2a\u5f88\u5c11\u4f7f\u7528\u7684\u547d\u4ee4\u662f\u9700\u8981\u5757\u8bbe\u5907\u8fd8\u662f\u5b57\u7b26\u8bbe\u5907\u662f\u56f0\u96be\u7684\u3002\u56e0\u6b64\uff0c\u8bb8\u591a\u547d\u4ee4\u90fd\u4f7f\u7528 opendev(3) \u51fd\u6570\uff0c\u5b83\u4f1a\u6839\u636e\u9700\u8981\u81ea\u52a8\u5c06 sd0 \u6269\u5c55\u4e3a /dev/rsd0c \u6216 /dev/sd0c \u3002 Disklabel \u552f\u4e00\u6807\u8bc6\u7b26 \u00b6 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u78c1\u76d8\u7531 fstab(5) \u6587\u4ef6\u4e2d\u7684 Disklabel \u552f\u4e00\u6807\u8bc6\u7b26 (DUID) \u6807\u8bc6\u3002 DUID \u662f\u5728\u9996\u6b21\u521b\u5efa\u78c1\u76d8\u6807\u7b7e\u65f6\u751f\u6210\u7684 16 \u4f4d\u5341\u516d\u8fdb\u5236\u6570\u5b57\u968f\u673a\u6570\u3002\u5b83\u4eec\u7531 diskmap(4) \u8bbe\u5907\u7ba1\u7406\u3002\u8981\u663e\u793a\u6240\u6709\u78c1\u76d8\u7684 DUID\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a $ sysctl hw.disknames hw.disknames=wd0:bfb4775bb8397569,cd0:,wd1:56845c8da732ee7b,wd2:f18e359c8fa2522b \u4f60\u53ef\u4ee5\u901a\u8fc7\u9644\u52a0\u53e5\u70b9\u548c\u5206\u533a\u53f7\u6765\u6307\u5b9a\u78c1\u76d8\u4e0a\u7684\u5206\u533a\u3002\u4f8b\u5982\uff0c f18e359c8fa2522b.d \u662f\u78c1\u76d8 f18e359c8fa2522b \u7684 d \u5206\u533a\uff0c\u5e76\u4e14\u5c06\u59cb\u7ec8\u5f15\u7528\u540c\u4e00\u4e2a\u5b58\u50a8\u5757\uff0c\u65e0\u8bba\u8bbe\u5907\u8fde\u63a5\u5230\u7cfb\u7edf\u7684\u987a\u5e8f\u5982\u4f55\uff0c\u6216\u8005\u5b83\u8fde\u63a5\u5230\u4ec0\u4e48\u6837\u7684\u63a5\u53e3\u3002\u5982\u679c\u4f60\u628a\u6570\u636e\u653e\u5728 wd2d \u4e0a\uff0c\u7136\u540e\u4ece\u7cfb\u7edf\u4e2d\u5220\u9664 wd1 \u5e76\u91cd\u65b0\u542f\u52a8\uff0c\u4f60\u7684\u6570\u636e\u73b0\u5728\u5728 wd1d \u4e0a\uff0c\u56e0\u4e3a\u4f60\u7684\u65e7 wd2 \u73b0\u5728\u662f wd1 \u3002 \u4f46\u662f\uff0c\u9a71\u52a8\u5668\u7684 DUID \u5728\u542f\u52a8\u540e\u4e0d\u4f1a\u6539\u53d8\u3002 \u4f7f\u7528 fdisk \u00b6 fdisk(8) \u5b9e\u7528\u7a0b\u5e8f\u5728\u67d0\u4e9b\u5e73\u53f0\uff08i386\u3001amd64 \u548c macppc\uff09\u4e0a\u7528\u4e8e\u521b\u5efa\u7cfb\u7edf\u5f15\u5bfc ROM \u8bc6\u522b\u7684\u5206\u533a\u3002\u901a\u5e38\uff0c\u53ea\u6709\u4e00\u4e2a OpenBSD fdisk \u5206\u533a\u4f1a\u88ab\u653e\u7f6e\u5728\u4e00\u4e2a\u78c1\u76d8\u4e0a\uff0c\u7136\u540e\u8be5\u5206\u533a\u5c06\u88ab\u7ec6\u5206\u4e3a disklabel \u5206\u533a\u3002 \u8fd0\u884c\u4e0b\u5217\u6307\u4ee4\u67e5\u770b\u4f60\u7684\u5206\u533a\u8868\uff1a # fdisk sd0 Disk: sd0 geometry: 553/255/63 [8883945 Sectors] Offset: 0 Signature: 0xAA55 Starting Ending LBA Info: #: id C H S - C H S [ start: size ] ------------------------------------------------------------------------ 0: 12 0 1 1 - 2 254 63 [ 63: 48132 ] Compaq Diag. 1: 00 0 0 0 - 0 0 0 [ 0: 0 ] unused 2: 00 0 0 0 - 0 0 0 [ 0: 0 ] unused *3: A6 3 0 1 - 552 254 63 [ 48195: 8835750 ] OpenBSD \u5728\u8fd9\u91cc\uff0c\u6807\u6709 * \u7684 OpenBSD \u5206\u533a (id A6 ) \u8868\u793a\u5b83\u662f\u53ef\u5f15\u5bfc\u5206\u533a\u3002 \u4e00\u4e2a\u5b8c\u5168\u7a7a\u767d\u7684\u78c1\u76d8\u9700\u8981\u5728\u5f15\u5bfc\u524d\u5c06\u4e3b\u5f15\u5bfc\u8bb0\u5f55\u7684\u5f15\u5bfc\u4ee3\u7801\u5199\u5165\u78c1\u76d8\u3002\u901a\u5e38\uff0c\u4f60\u9700\u8981\u505a\u7684\u5c31\u662f\uff1a # fdisk -iy sd0 \u6216\u8005\uff0c\u5728\u4ea4\u4e92\u6a21\u5f0f\u4e0b\u4f7f\u7528 reinit \u6216 update \u547d\u4ee4: \u4f7f\u7528 -e \u6807\u5fd7\u542f\u52a8\u4ea4\u4e92\u5f0f\u7f16\u8f91\u6a21\u5f0f\uff1a # fdisk -e sd0 Enter 'help' for information fdisk: 1> \u8bf7\u6ce8\u610f\uff0c quit \u4f1a\u4fdd\u5b58\u66f4\u6539\u5e76\u9000\u51fa\u7a0b\u5e8f\uff0c\u800c exit \u4f1a\u9000\u51fa\u800c\u4e0d\u4fdd\u5b58\u3002\u8fd9\u4e0e\u8bb8\u591a\u4eba\u73b0\u5728\u5728\u5176\u4ed6\u73af\u5883\u4e2d\u4e60\u60ef\u7684\u60c5\u51b5\u76f8\u53cd\u3002\u53e6\u8bf7\u6ce8\u610f\uff0c fdisk \u5728\u4fdd\u5b58\u66f4\u6539\u4e4b\u524d\u4e0d\u4f1a\u53d1\u51fa\u8b66\u544a\u3002 \u5982\u679c\u4f60\u7684\u7cfb\u7edf\u6709\u7ef4\u62a4\u6216\u8bca\u65ad\u5206\u533a\uff0c\u5efa\u8bae\u4f60\u5728\u4fdd\u7559\u8be5\u5206\u533a\u6216\u5b89\u88c5 OpenBSD \u4e4b\u524d \u5c06\u5176\u5b89\u88c5\u3002 BSD \u76d8\u6807 \u00b6 BSD \u76d8\u6807\uff08Disk labels\uff0cdisklabel\uff09\u7528\u4e8e\u7ba1\u7406 OpenBSD \u6587\u4ef6\u7cfb\u7edf\u5206\u533a\u3002\u5b83\u4eec\u5305\u542b\u6709\u5173\u78c1\u76d8\u7684\u67d0\u4e9b\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f8b\u5982 disklabel(5) \u624b\u518c\u9875\u4e2d\u7684\u8be6\u7ec6\u63cf\u8ff0\u7684\u9a71\u52a8\u5668\u51e0\u4f55\u7ed3\u6784\u548c\u6587\u4ef6\u7cfb\u7edf\u4fe1\u606f\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 disklabel(8) \u547d\u4ee4\u7f16\u8f91\u6807\u7b7e\u3002 \u8fd9\u53ef\u4ee5\u5e2e\u52a9\u514b\u670d\u67d0\u4e9b\u67b6\u6784\u7684\u78c1\u76d8\u5206\u533a\u9650\u5236\u3002\u4f8b\u5982\uff0c\u5728 i386 \u4e0a\uff0c\u53ea\u6709\u56db\u4e2a\u4e3b MBR \u5206\u533a\u53ef\u7528\u3002\u4f7f\u7528 BSD \u76d8\u6807 \uff0c\u8fd9\u4e9b\u4e3b\u5206\u533a\u4e4b\u4e00\u5305\u542b\u4f60\u6240\u6709\u7684 OpenBSD \u5206\u533a\uff0c\u800c\u5176\u4ed6\u4e09\u4e2a\u4ecd\u53ef\u7528\u4e8e\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\u3002 \u5728\u4f7f\u7528 fdisk \u7684\u5e73\u53f0\u4e0a\uff0c\u4f60\u5e94\u8be5\u5728 BSD \u76d8\u6807\u548c fdisk \u4e2d\u4fdd\u7559\u672a\u4f7f\u7528\u7684\u7b2c\u4e00\u4e2a\u903b\u8f91\u78c1\u9053\u3002\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c\u9ed8\u8ba4\u662f\u5728\u5757 64 \u5904\u542f\u52a8\u7b2c\u4e00\u4e2a\u5206\u533a\u3002 \u4e0d\u8981\u5c06 swap \u5206\u533a\u653e\u5728 sparc64 \u4e0a\u78c1\u76d8\u7684\u6700\u5f00\u5934\u3002\u867d\u7136 Solaris \u7ecf\u5e38\u8fd9\u6837\u505a\uff0c\u4f46 OpenBSD \u8981\u6c42\u5f15\u5bfc\u5206\u533a\u4f4d\u4e8e\u78c1\u76d8\u7684\u5f00\u5934\u3002 \u5220\u9664 BSD \u76d8\u6807\u540e\u6062\u590d\u5206\u533a \u00b6 \u5982\u679c\u4f60\u7684\u5206\u533a\u8868\u5df2\u635f\u574f\uff0c\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u591a\u79cd\u65b9\u6cd5\u6765\u6062\u590d\u5b83\u3002 \u4f5c\u4e3a\u65e5\u5e38\u7cfb\u7edf\u7ef4\u62a4\u7684\u4e00\u90e8\u5206\uff0c\u6bcf\u4e2a\u78c1\u76d8\u7684 BSD \u76d8\u6807\u526f\u672c\u90fd\u4fdd\u5b58\u5728 /var/backups \u4e2d\u3002 \u5047\u8bbe\u4f60\u4ecd\u7136\u6709 /var \u5206\u533a\uff0c\u4f60\u53ef\u4ee5\u7b80\u5355\u5730\u8bfb\u53d6\u8f93\u51fa\uff0c\u5e76\u4f7f\u7528 -R \u6807\u5fd7\u5c06\u5176\u653e\u56de BSD \u76d8\u6807\u4e2d\u3002 \u5982\u679c\u4f60\u65e0\u6cd5\u518d\u770b\u5230\u8be5\u5206\u533a\uff0c\u5219\u6709\u4e24\u79cd\u9009\u62e9\uff1a\u4fee\u590d\u78c1\u76d8\u8db3\u591f\u591a\u7684\u90e8\u5206\u4ee5\u4fbf\u4f60\u53ef\u4ee5\u770b\u5230\u5b83\uff0c\u6216\u8005\u4fee\u590d\u78c1\u76d8\u8db3\u591f\u591a\u7684\u90e8\u5206\u4ee5\u4fbf\u4f60\u53ef\u4ee5\u53d6\u51fa\u6570\u636e\u3002 scan_ffs(8) \u5b9e\u7528\u7a0b\u5e8f\u5c06\u67e5\u770b\u78c1\u76d8\u4ee5\u67e5\u627e\u5206\u533a\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u5b83\u627e\u5230\u7684\u4fe1\u606f\u91cd\u65b0\u521b\u5efa BSD \u76d8\u6807\u3002\u5982\u679c\u4f60\u53ea\u60f3\u6062\u590d /var \uff0c\u4f60\u53ef\u4ee5\u4e3a /var \u91cd\u65b0\u521b\u5efa\u5206\u533a\uff0c\u7136\u540e\u6062\u590d\u5907\u4efd\u7684\u6807\u7b7e\u5e76\u4ece\u4e2d\u6dfb\u52a0\u5176\u4f59\u90e8\u5206\u3002 disklabel(8) \u5b9e\u7528\u7a0b\u5e8f\u5c06\u66f4\u65b0\u5185\u6838\u5bf9 BSD \u76d8\u6807\u7684\u7406\u89e3\u5e76\u5c1d\u8bd5\u5c06\u6807\u7b7e\u5199\u5165\u78c1\u76d8\u3002\u56e0\u6b64\uff0c\u5373\u4f7f\u5305\u542b BSD \u76d8\u6807\u7684\u78c1\u76d8\u533a\u57df\u4e0d\u53ef\u8bfb\uff0c\u4f60\u4e5f\u53ef\u4ee5\u6302\u8f7d\u76f4\u5230\u4e0b\u6b21\u91cd\u65b0\u542f\u52a8\u3002 amd64 \u542f\u52a8\u8fc7\u7a0b \u00b6 \u6709\u5173 amd64 \u5f15\u5bfc\u7a0b\u5e8f\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 boot_amd64(8) \u624b\u518c\u9875\u3002\u542f\u52a8\u8fc7\u7a0b\u5982\u4e0b\uff1a \u4e3b\u5f15\u5bfc\u8bb0\u5f55 (MBR) \u548c GUID \u5206\u533a\u8868 (GPT)\u3002 fdisk(8) \u624b\u518c\u9875\u5305\u542b\u8be6\u7ec6\u4fe1\u606f\u3002 \u5206\u533a\u5f15\u5bfc\u8bb0\u5f55 (PBR)\u3002\u5f15\u5bfc\u76d8\u7684 OpenBSD \u5206\u533a\u7684\u524d 512 \u5b57\u8282\u5305\u542b\u7b2c\u4e00\u9636\u6bb5\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f biosboot(8) \u3002 \u5b83\u7531 installboot(8) \u5b9e\u7528\u7a0b\u5e8f\u5b89\u88c5\u3002 \u7b2c\u4e8c\u9636\u6bb5\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f /boot \u3002PBR \u52a0\u8f7d boot(8) \u7a0b\u5e8f\uff0c\u8be5\u7a0b\u5e8f\u5177\u6709\u5b9a\u4f4d\u548c\u52a0\u8f7d\u5185\u6838\u7684\u4efb\u52a1\u3002 \u56e0\u6b64\uff0c\u542f\u52a8\u8fc7\u7a0b\u7684\u4e00\u5f00\u59cb\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a Using drive 0, partition 3. <- MBR Loading...... <- PBR probing: pc0 com0 com1 mem[638K 1918M a20=on] <- /boot disk: hd0+ hd1+ >> OpenBSD/amd64 BOOT 3.33 boot> booting hd0a:/bsd 4464500+838332 [58+204240+181750]=0x56cfd0 entry point at 0x100120 [ using 386464 bytes of bsd ELF symbol table ] Copyright (c) 1982, 1986, 1989, 1991, 1993 <- Kernel The Regents of the University of California. All rights reserved. \u8f6f\u66f4\u65b0 \u00b6 \u8f6f\u66f4\u65b0\uff08Soft Updates\uff09\u57fa\u4e8e Greg Ganger \u548c Yale Patt \u63d0\u51fa\u5e76\u7531 Kirk McKusick \u4e3a FreeBSD \u5f00\u53d1\u7684\u60f3\u6cd5\u3002\u8f6f\u66f4\u65b0\u5bf9\u7f13\u51b2\u533a\u7f13\u5b58\u64cd\u4f5c\u8fdb\u884c\u4e86\u90e8\u5206\u6392\u5e8f\uff0c\u8fd9\u5141\u8bb8\u4ece FFS \u4ee3\u7801\u4e2d\u5220\u9664\u540c\u6b65\u5199\u5165\u76ee\u5f55\u6761\u76ee\u7684\u8981\u6c42\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u770b\u5230\u78c1\u76d8\u5199\u5165\u6027\u80fd\u7684\u5927\u5e45\u63d0\u5347\u3002 \u8981\u542f\u7528\u8f6f\u66f4\u65b0\u5fc5\u987b\u4f7f\u7528 mount-time \u9009\u9879\u3002 \u4f7f\u7528 mount(8) \u5b9e\u7528\u7a0b\u5e8f\u6302\u8f7d\u5206\u533a\u65f6\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a\u5e0c\u671b\u5728\u8be5\u5206\u533a\u4e0a\u542f\u7528\u8f6f\u66f4\u65b0\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b fstab(5) \u6761\u76ee\uff0c\u5b83\u6709\u4e00\u4e2a\u6211\u4eec\u5e0c\u671b\u5b89\u88c5\u6709\u8f6f\u66f4\u65b0\u7684\u5206\u533a sd0a \u3002 /dev/sd0a / ffs rw,softdep 1 1 \u6839\u5206\u533a\u5907\u4efd\uff08/altroot\uff09 \u00b6 OpenBSD \u5728 daily(8) \u811a\u672c\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a /altroot \u5de5\u5177\u3002 \u5982\u679c\u5728 /etc/daily.local \u6216 root \u7684 crontab(5) \u4e2d\u8bbe\u7f6e\u4e86\u73af\u5883\u53d8\u91cf ROOTBACKUP=1 \uff0c\u5e76\u4e14\u5728 fstab(5) \u4e2d\u5c06\u5206\u533a\u6307\u5b9a\u4e3a\u6302\u8f7d\u5230 /altroot \u5e76\u4f7f\u7528 xx \u6302\u8f7d\u9009\u9879\uff0c\u5219\u6bcf\u5929\u665a\u4e0a\u6574\u4e2a\u6839\u5206\u533a\u7684\u5185\u5bb9\u5c06\u590d\u5236\u5230 /altroot \u5206\u533a\u3002 \u5047\u8bbe\u4f60\u8981\u5c06\u6839\u5206\u533a\u5907\u4efd\u5230 DUID \u4e3a bfb4775bb8397569.a \u6307\u5b9a\u7684\u5206\u533a\uff0c\u5728 /etc/fstab \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a bfb4775bb8397569.a /altroot ffs xx 0 0 \u7136\u540e\uff0c\u5728 /etc/daily.local \u4e2d\u8bbe\u7f6e\u9002\u5f53\u7684\u73af\u5883\u53d8\u91cf\uff1a # echo ROOTBACKUP=1 >>/etc/daily.local \u7531\u4e8e /altroot \u8fdb\u7a0b\u5c06\u6355\u83b7\u4f60\u7684 /etc \u76ee\u5f55\uff0c\u8fd9\u5c06\u786e\u4fdd\u6bcf\u5929\u66f4\u65b0\u540c\u6b65\u6839\u5206\u533a\u7684\u4efb\u4f55\u914d\u7f6e\u66f4\u6539\u3002\u8fd9\u662f\u4f7f\u7528 dd(1) \u5b8c\u6210\u7684 \u201c\u78c1\u76d8\u955c\u50cf\u201d \u526f\u672c\uff0c\u800c\u4e0d\u662f\u9010\u4e2a\u6587\u4ef6\u7684\u526f\u672c\uff0c\u56e0\u6b64\u4f60\u7684 /altroot \u5206\u533a\u5e94\u81f3\u5c11\u4e0e\u6839\u5206\u533a\u7684\u5927\u5c0f\u76f8\u540c\u3002\u901a\u5e38\uff0c\u4f60\u9700\u8981\u5c06 /altroot \u5206\u533a\u653e\u7f6e\u5728\u5df2\u914d\u7f6e\u4e3a\u5728\u4e3b\u78c1\u76d8\u51fa\u73b0\u6545\u969c\u65f6\u5b8c\u5168\u53ef\u5f15\u5bfc\u7684\u4e0d\u540c\u78c1\u76d8\u4e0a\u3002 \u590d\u5236\u6587\u4ef6\u7cfb\u7edf \u00b6 \u8981\u4f7f\u7528 dump(8) \u548c restore(8) \u5c06\u76ee\u5f55 /SRC \u4e0b\u7684\u6240\u6709\u5185\u5bb9\u590d\u5236\u5230\u76ee\u5f55 /DST \uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # cd /SRC && dump 0f - . | (cd /DST && restore -rf - ) \u6216\u8005\u4f7f\u7528 tar(1) # cd /SRC && tar cf - . | (cd /DST && tar xpf - ) \u78c1\u76d8\u914d\u989d \u00b6 \u914d\u989d\u7528\u4e8e\u9650\u5236\u67d0\u4e9b\u7528\u6237\u548c\u7ec4\u53ef\u7528\u7684\u78c1\u76d8\u7a7a\u95f4\u91cf\u3002 \u4f7f\u7528\u5173\u952e\u5b57 userquota \u548c groupquota \u6765\u6807\u8bb0 fstab(5) \u4e2d\u8981\u5bf9\u5176\u5b9e\u65bd\u914d\u989d\u7684\u6bcf\u4e2a\u6587\u4ef6\u7cfb\u7edf\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6587\u4ef6 quota.user \u548c quota.group \u5c06\u5728\u8fd9\u4e9b\u6587\u4ef6\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u3002\u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b /etc/fstab \u884c\uff1a 0123456789abcdef.k /home ffs rw,nodev,nosuid,userquota 1 2 \u8981\u8bbe\u7f6e\u7528\u6237\u7684\u914d\u989d\uff0c\u8bf7\u4f7f\u7528 edquota(8) \u3002\u4f8b\u5982: # edquota ericj \u5e76\u7f16\u8f91\u8f6f\u9650\u5236\u548c\u786c\u9650\u5236\uff1a Quotas for user ericj: /home: KBytes in use: 62, limits (soft = 1000000, hard = 1500000) inodes in use: 25, limits (soft = 0, hard = 0) \u5728\u672c\u4f8b\u4e2d\uff0c\u8f6f\u9650\u5236\u8bbe\u7f6e\u4e3a 1000000k\uff0c\u786c\u9650\u5236\u8bbe\u7f6e\u4e3a 1500000k\u3002\u7531\u4e8e\u76f8\u5e94\u7684\u8f6f\u9650\u5236\u548c\u786c\u9650\u5236\u90fd\u8bbe\u7f6e\u4e3a 0\uff0c\u56e0\u6b64\u4e0d\u4f1a\u5f3a\u5236\u6267\u884c\u5bf9\u6587\u4ef6\u603b\u6570\uff08inode\uff09\u6570\u91cf\u7684\u9650\u5236\u3002\u8d85\u8fc7\u8f6f\u9650\u5236\u7684\u7528\u6237\u4f1a\u6536\u5230\u8b66\u544a\u5e76\u83b7\u5f97\u5bbd\u9650\u671f\uff0c\u4ee5\u4f7f\u4ed6\u4eec\u7684\u78c1\u76d8\u4f7f\u7528\u91cf\u4f4e\u4e8e\u9650\u5236\u3002\u53ef\u4ee5\u4f7f\u7528 edquota(8) \u4e0a\u7684 -t \u9009\u9879\u8bbe\u7f6e\u5bbd\u9650\u671f\u3002\u5bbd\u9650\u671f\u7ed3\u675f\u540e\uff0c\u8f6f\u9650\u5236\u4f5c\u4e3a\u786c\u9650\u5236\u5904\u7406\u3002\u8fd9\u901a\u5e38\u4f1a\u5bfc\u81f4\u5206\u914d\u5931\u8d25\u3002 \u4f7f\u7528 quotaon(8) \u542f\u7528\u914d\u989d\uff1a # quotaon -a \u8fd9\u5c06\u626b\u63cf fstab(5) \u5e76\u4f7f\u7528\u914d\u989d\u9009\u9879\u5728\u6587\u4ef6\u7cfb\u7edf\u4e0a\u542f\u7528\u914d\u989d\u3002\u4f7f\u7528 quota(1) \u67e5\u770b\u914d\u989d\u7edf\u8ba1\u4fe1\u606f\u3002 \u8bbf\u95ee\u5176\u4ed6\u6587\u4ef6\u7cfb\u7edf \u00b6 \u4ece mount(8) \u624b\u518c\u5f00\u59cb\uff0c\u5176\u4e2d\u5305\u542b\u89e3\u91ca\u5982\u4f55\u6302\u8f7d\u4e00\u4e9b\u6700\u5e38\u7528\u6587\u4ef6\u7cfb\u7edf\u7684\u793a\u4f8b\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u83b7\u5f97\u652f\u6301\u7684\u6587\u4ef6\u7cfb\u7edf\u548c\u76f8\u5173\u547d\u4ee4\u7684\u90e8\u5206\u5217\u8868\uff1a $ man -k -s 8 mount \u8bf7\u6ce8\u610f\uff0c\u652f\u6301\u53ef\u80fd\u4ec5\u9650\u4e8e\u53ea\u8bfb\u64cd\u4f5c\u3002 \u6302\u8f7d\u78c1\u76d8\u955c\u50cf \u00b6 \u8981\u5728 OpenBSD \u4e2d\u6302\u8f7d\u78c1\u76d8\u955c\u50cf\uff0c\u4f60\u5fc5\u987b\u914d\u7f6e vnd(4) \u8bbe\u5907\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u4f60\u6709\u4e00\u4e2a\u4f4d\u4e8e /tmp/ISO.image \u7684 ISO \u955c\u50cf\uff0c\u4f60\u5c06\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\u6765\u6302\u8f7d\u8be5\u955c\u50cf\uff1a # vnconfig vnd0 /tmp/ISO.image # mount -t cd9660 /dev/vnd0c /mnt \u7531\u4e8e\u8fd9\u662f CD \u548c DVD \u4f7f\u7528\u7684 ISO 9660 \u955c\u50cf\u683c\u5f0f\uff0c\u56e0\u6b64\u5728\u5b89\u88c5\u5b83\u65f6\u5fc5\u987b\u6307\u5b9a cd9660 \u7684\u7c7b\u578b\u3002 \u8981\u5378\u8f7d\u6620\u50cf\u5e76\u53d6\u6d88\u914d\u7f6e vnd(4) \u8bbe\u5907\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # umount /mnt # vnconfig -u vnd0 \u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 vnconfig(8) \u548c mount(8) \u3002 \u78c1\u76d8\u5206\u533a\u6269\u5bb9 \u00b6 \u5982\u679c\u73b0\u6709\u5206\u533a\u540e\u8ddf\u672a\u5206\u914d\u7684\u53ef\u7528\u7a7a\u95f4\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 growfs(8) \u5b9e\u7528\u7a0b\u5e8f\u589e\u52a0\u5176\u5927\u5c0f\u3002\u786e\u4fdd\u5f53\u524d\u672a\u6302\u8f7d\u8be5\u5206\u533a\u3002\u4f7f\u7528 disklabel -E sd0 \u4ee5\u4ea4\u4e92\u65b9\u5f0f\u7f16\u8f91\u4f60\u7684\u5206\u533a\u8868\uff0c\u5e76\u4f7f\u7528 m \u547d\u4ee4\u4fee\u6539\u5206\u533a\u7684\u5927\u5c0f\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 growfs(8) \u8c03\u6574\u6587\u4ef6\u7cfb\u7edf\u4ee5\u4f7f\u7528\u6574\u4e2a\u5206\u533a\uff1a # growfs sd0h \u5728\u518d\u6b21\u6302\u8f7d\u5206\u533a\u4e4b\u524d\uff0c\u5fc5\u987b\u4f7f\u7528 fsck(8) \u68c0\u67e5\u5176\u5b8c\u6574\u6027\uff1a # fsck /dev/sd0h RAID \u548c\u78c1\u76d8\u52a0\u5bc6 \u00b6 bioctl(8) \u547d\u4ee4\u901a\u8fc7 bio(4) \u5c42\u7ba1\u7406\u786c\u4ef6\u548c\u8f6f\u4ef6 RAID \u8bbe\u5907\u3002 softraid(4) \u5b50\u7cfb\u7edf\u5141\u8bb8\u5c06\u591a\u4e2a OpenBSD disklabel(8) \u5206\u533a\u7ec4\u5408\u6210\u4e00\u4e2a\u865a\u62df sd(4) \u78c1\u76d8\u3002\u8fd9\u4e2a\u865a\u62df\u78c1\u76d8\u88ab\u89c6\u4e3a\u548c\u4efb\u4f55\u5176\u4ed6\u78c1\u76d8\u4e00\u6837\u7684\u78c1\u76d8\uff0c\u9996\u5148\u7528 fdisk \uff08\u5728\u652f\u6301 fdisk \u7684\u5e73\u53f0\u4e0a\uff09\u5206\u533a\uff0c\u7136\u540e\u50cf\u5f80\u5e38\u4e00\u6837\u521b\u5efa BSD \u76d8\u6807\u3002 \u652f\u6301\u7684 softraid \u89c4\u5219\u5305\u62ec\uff1a RAID0\uff08\u5e26\u533a\u96c6\uff09 RAID1\uff08\u955c\u50cf\uff09 RAID1C\uff08\u4f7f\u7528\u78c1\u76d8\u52a0\u5bc6\u955c\u50cf\uff09 RAID5\uff08\u5e26\u6d6e\u52a8\u5947\u5076\u6821\u9a8c\u7684\u5e26\u533a\u96c6\uff09 CONCAT\uff08\u65e0\u5197\u4f59\u8fde\u63a5\uff0c\u7c7b\u4f3c\u4e8e JBOD\uff09 CRYPTO\uff08\u78c1\u76d8\u52a0\u5bc6\uff09 \u78c1\u76d8\u8bbe\u7f6e\u53ef\u80fd\u56e0\u5e73\u53f0\u800c\u5f02\uff0c\u5e76\u4e14 \u5e76\u975e\u6240\u6709\u5e73\u53f0\u90fd\u652f\u6301\u4ece softraid \u8bbe\u5907\u542f\u52a8 \u3002 \u76ee\u524d\u53ea\u80fd\u4ece i386\u3001amd64\u3001arm64 \u548c sparc64 \u4e0a\u7684 RAID1 \u548c\u52a0\u5bc6\u5377\u542f\u52a8 softraid\u3002 \u5b89\u88c5\u81f3\u955c\u50cf \u00b6 \u672c\u8282\u4ecb\u7ecd\u5c06 OpenBSD \u5b89\u88c5\u5230\u4e00\u5bf9\u955c\u50cf\u786c\u76d8\u9a71\u52a8\u5668\uff0c\u5e76\u5047\u8bbe\u4f60\u719f\u6089 \u5b89\u88c5\u8fc7\u7a0b \u3002 \u5728\u4f7f\u7528\u5b89\u88c5\u811a\u672c\u4e4b\u524d\uff0c\u4f60\u5c06\u8fdb\u5165\u4e00\u4e2a shell \u5e76\u8bbe\u7f6e\u4e00\u4e2a softraid(4) \u8bbe\u5907\u3002 \u5b89\u88c5\u5185\u6838\u5728\u542f\u52a8\u65f6\u53ea\u6709\u6709\u9650\u6570\u91cf\u7684 /dev \u6761\u76ee\uff0c\u56e0\u6b64\u4f60\u9700\u8981\u4e3a\u4f60\u7684 softraid \u8bbe\u7f6e\u624b\u52a8\u521b\u5efa\u6240\u9700\u7684\u78c1\u76d8\u8bbe\u5907\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u9700\u8981\u652f\u6301\u4e09\u4e2a sd(4) \u8bbe\u5907\uff0c\u5219\u53ef\u4ee5\u4ece shell \u63d0\u793a\u7b26\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a Welcome to the OpenBSD/amd64 7.0 installation program. (I)nstall, (U)pgrade, (A)utoinstall or (S)hell? s # cd /dev # sh MAKEDEV sd0 sd1 sd2 \u5b89\u88c5\u7a0b\u5e8f\u73b0\u5728\u5c06\u5b8c\u5168\u652f\u6301 sd0 \u3001 sd1 \u548c sd2 \u8bbe\u5907\u3002\u5982\u679c\u8981\u4ece USB \u9a71\u52a8\u5668\u5b89\u88c5\u8fd9\u4e9b \u5957\u4ef6 \uff0c\u4e5f\u4e0d\u8981\u5fd8\u8bb0\u8003\u8651\u8be5\u8bbe\u5907\u3002 \u63a5\u4e0b\u6765\uff0c\u4f7f\u7528 fdisk(8) \u521d\u59cb\u5316\u78c1\u76d8\u5e76\u4f7f\u7528 disklabel(8) \u521b\u5efa RAID \u5206\u533a\u3002 \u5982\u679c\u4f60\u4ece MBR \u542f\u52a8\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # fdisk -iy sd0 # fdisk -iy sd1 \u5982\u679c\u4f60\u4f7f\u7528 GPT \u8fdb\u884c UEFI \u5f15\u5bfc\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # fdisk -iy -g -b 960 sd0 # fdisk -iy -g -b 960 sd1 \u5728\u7b2c\u4e00\u53f0\u8bbe\u5907\u4e0a\u521b\u5efa\u5206\u533a\u5e03\u5c40\uff08partition layout\uff09\uff1a # disklabel -E sd0 Label editor (enter '?' for help at any prompt) sd0> a a offset: [64] size: [39825135] * FS type: [4.2BSD] RAID sd0*> w sd0> q No label changes. \u5c06\u5206\u533a\u5e03\u5c40\u590d\u5236\u5230\u7b2c\u4e8c\u4e2a\u8bbe\u5907\uff1a # disklabel sd0 > layout # disklabel -R sd1 layout # rm layout \u4f7f\u7528 bioctl(8) \u547d\u4ee4\u7ec4\u88c5\u955c\u50cf\uff1a # bioctl -c 1 -l sd0a,sd1a softraid0 scsibus1 at softraid0: 1 targets sd2 at scsibus2 targ 0 lun 0: <OPENBSD, SR RAID 1, 005> SCSI2 0/direct fixed sd2: 10244MB, 512 bytes/sec, 20980362 sec total \u8fd9\u8868\u660e\u6211\u4eec\u73b0\u5728\u6709\u4e00\u4e2a\u65b0\u7684 SCSI \u603b\u7ebf\u548c\u4e00\u4e2a\u65b0\u7684\u78c1\u76d8 sd2\u3002\u7cfb\u7edf\u542f\u52a8\u65f6\u5c06\u81ea\u52a8\u68c0\u6d4b\u5e76\u7ec4\u88c5\u6b64\u5377\u3002 \u5373\u4f7f\u4f60\u521b\u5efa\u4e86\u591a\u4e2a RAID \u9635\u5217\uff0c\u8bbe\u5907\u540d\u79f0\u4e5f\u5c06\u59cb\u7ec8\u4e3a softraid0 \u3002\u4e0d\u4f1a\u6709 softraid1 \u6216\u5176\u4ed6\u4efb\u4f55\u4e1c\u897f\u3002 \u56e0\u4e3a\u65b0\u8bbe\u5907\u53ef\u80fd\u6709\u5f88\u591a\u65e0\u7528\u6570\u636e\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u4e3b\u5f15\u5bfc\u8bb0\u5f55\u548c\u78c1\u76d8\u6807\u7b7e\uff0c\u6240\u4ee5\u5f3a\u70c8\u5efa\u8bae\u5c06\u5b83\u7684\u7b2c\u4e00\u4e2a\u5757\u6e05\u96f6\u3002\u4f7f\u7528\u6b64\u547d\u4ee4\u8981 \u975e\u5e38\u5c0f\u5fc3 \uff1b\u5728\u9519\u8bef\u7684\u8bbe\u5907\u4e0a\u5e94\u7528\u5b83\u53ef\u80fd\u4f1a\u5bfc\u81f4\u975e\u5e38\u7cdf\u7cd5\u7684\u4e00\u5929\u3002\u8fd9\u5047\u8bbe\u65b0\u7684 softraid \u8bbe\u5907\u521b\u5efa\u4e3a sd2 \u3002 # dd if=/dev/zero of=/dev/rsd2c bs=1m count=1 \u4f60\u73b0\u5728\u5df2\u51c6\u5907\u597d\u5728\u4f60\u7684\u7cfb\u7edf\u4e0a\u5b89\u88c5 OpenBSD\u3002\u901a\u8fc7\u5728\u542f\u52a8\u4ecb\u8d28\u63a7\u5236\u53f0\u4e0a\u8c03\u7528 \u201c\u5b89\u88c5\u201d \u6216 \u201c\u9000\u51fa\u201d \u6765\u6b63\u5e38\u6267\u884c\u5b89\u88c5\u3002\u5728\u65b0\u7684 softraid \u78c1\u76d8\uff08\u6b64\u5904\u793a\u4f8b\u4e2d\u7684 sd2\uff09\u4e0a\u521b\u5efa\u6240\u6709\u5206\u533a\uff0c\u800c\u4e0d\u662f\u5728 sd0 \u6216 sd1 \uff08\u975e RAID \u78c1\u76d8\uff09\u4e0a\u3002 \u8981\u68c0\u67e5\u955c\u50cf\u7684\u72b6\u6001\uff0c\u8bf7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a # bioctl sd2 \u6bcf\u665a\u68c0\u67e5\u72b6\u6001\u7684 cron \u4f5c\u4e1a\u53ef\u80fd\u662f\u4e2a\u597d\u4e3b\u610f\u3002 \u91cd\u5efa\u955c\u50cf \u00b6 \u5f53\u9a71\u52a8\u5668\u53d1\u751f\u6545\u969c\u65f6\uff0c\u4f60\u5c06\u66f4\u6362\u6545\u969c\u9a71\u52a8\u5668\uff0c\u521b\u5efa RAID \u548c\u5176\u4ed6 BSD \u76d8\u6807\u5206\u533a\uff0c\u7136\u540e\u91cd\u5efa\u955c\u50cf\u3002\u5047\u8bbe\u4f60\u7684 RAID \u5377\u662f sd2 \u5e76\u4e14\u4f60\u6b63\u5728\u7528 sd1m \u66ff\u6362\u51fa\u73b0\u6545\u969c\u7684\u8bbe\u5907\uff0c\u4ee5\u4e0b\u547d\u4ee4\u5e94\u8be5\u53ef\u4ee5\u5de5\u4f5c\uff1a # bioctl -R /dev/sd1m sd2 \u8fd9\u4e5f\u53ef\u4ee5\u5728 \u5355\u7528\u6237\u6a21\u5f0f \u4e0b\u6216\u4ece \u5b89\u88c5\u5185\u6838 \u6267\u884c\u3002 \u5168\u76d8\u52a0\u5bc6 \u00b6 \u4e0e RAID \u975e\u5e38\u76f8\u4f3c\uff0cOpenBSD \u4e2d\u7684\u5168\u76d8\u52a0\u5bc6\u7531 softraid(4) \u5b50\u7cfb\u7edf\u548c bioctl(8) \u547d\u4ee4\u5904\u7406\u3002\u672c\u8282\u4ecb\u7ecd\u4e86\u5c06 OpenBSD \u5b89\u88c5\u5230\u5355\u4e2a\u52a0\u5bc6\u78c1\u76d8\u7684\u8fc7\u7a0b\uff0c\u8fd9\u4e0e\u4e0a\u4e00\u8282\u975e\u5e38\u76f8\u4f3c\u3002\u8bf7\u6ce8\u610f\uff0c\u6b64\u65f6 \u4e0d\u652f\u6301 \u201c\u5806\u53e0\u201d \u8f6f RAID \u6a21\u5f0f\u3002 \u5728\u521d\u59cb\u63d0\u793a\u4e0b\u9009\u62e9 (S)hell\uff1a Welcome to the OpenBSD/amd64 7.0 installation program. (I)nstall, (U)pgrade, (A)utoinstall or (S)hell? s \u4ece\u8fd9\u91cc\u5f00\u59cb\uff0c\u4f60\u5c06\u5728\u5b9e\u65f6\uff08live\uff09\u73af\u5883\u4e2d\u83b7\u5f97\u4e00\u4e2a shell \u6765\u64cd\u4f5c\u78c1\u76d8\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c06\u5b89\u88c5\u5230 sd0 SATA \u9a71\u52a8\u5668\uff0c\u64e6\u9664\u5b83\u4e4b\u524d\u7684\u6240\u6709\u5185\u5bb9\u3002 \u7531\u4e8e\u5b89\u88c5\u7a0b\u5e8f\u9ed8\u8ba4\u6ca1\u6709\u5f88\u591a\u8bbe\u5907\u8282\u70b9\uff0c\u8bf7\u786e\u4fdd /dev/sd0 \u8bbe\u5907\u5b58\u5728\uff1a # cd /dev && sh MAKEDEV sd0 \u9996\u5148\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u4ee5\u4e0b\u5185\u5bb9\u5c06\u968f\u673a\u6570\u636e\u5199\u5165\u9a71\u52a8\u5668\uff1a # dd if=/dev/urandom of=/dev/rsd0c bs=1m \u8fd9\u53ef\u80fd\u662f\u4e00\u4e2a\u975e\u5e38\u8017\u65f6\u7684\u8fc7\u7a0b\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e CPU \u548c\u78c1\u76d8\u7684\u901f\u5ea6\u4ee5\u53ca\u78c1\u76d8\u7684\u5927\u5c0f\u3002 \u5982\u679c\u4f60\u4e0d\u5411\u6574\u4e2a\u8bbe\u5907\u5199\u5165\u968f\u673a\u6570\u636e\uff0c\u653b\u51fb\u8005\u53ef\u80fd\u4f1a\u63a8\u65ad\u51fa\u5b9e\u9645\u4f7f\u7528\u4e86\u591a\u5c11\u7a7a\u95f4\u3002 \u63a5\u4e0b\u6765\uff0c\u4f7f\u7528 fdisk(8) \u521d\u59cb\u5316\u78c1\u76d8\u5e76\u4f7f\u7528 disklabel(8) \u521b\u5efa softraid \u5206\u533a\u3002 \u5982\u679c\u4f60\u4ece MBR \u542f\u52a8\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # fdisk -iy sd0 \u5982\u679c\u4f60\u4f7f\u7528 GPT \u8fdb\u884c UEFI \u5f15\u5bfc\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # fdisk -iy -g -b 960 sd0 \u63a5\u4e0b\u6765\uff0c\u521b\u5efa\u5206\u533a\u5e03\u5c40\uff1a # disklabel -E sd0 Label editor (enter '?' for help at any prompt) sd0> a a offset: [64] size: [39825135] * FS type: [4.2BSD] RAID sd0*> w sd0> q No label changes. \u6211\u4eec\u5c06\u4f7f\u7528\u6574\u4e2a\u78c1\u76d8\uff0c\u4f46\u8bf7\u6ce8\u610f\uff0c\u52a0\u5bc6\u8bbe\u5907\u53ef\u4ee5\u62c6\u5206\u4e3a\u591a\u4e2a\u5206\u533a\uff0c\u5c31\u597d\u50cf\u5b83\u662f\u4e00\u4e2a\u666e\u901a\u7684\u786c\u76d8\u9a71\u52a8\u5668\u4e00\u6837\u3002 \u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u5728\u6211\u4eec\u7684 \u201ca\u201d \u5206\u533a\u4e0a\u6784\u5efa\u52a0\u5bc6\u8bbe\u5907\u3002 # bioctl -c C -l sd0a softraid0 New passphrase: Re-type passphrase: sd1 at scsibus2 targ 1 lun 0: <OPENBSD, SR CRYPTO, 005> SCSI2 0/direct fixed sd1: 19445MB, 512 bytes/sector, 39824607 sectors softraid0: CRYPTO volume attached as sd1 \u4f60\u53ef\u80fd\u60f3\u8981\u4f7f\u7528 \u5bc6\u94a5\u76d8 \uff08keydisk\uff09\u800c\u4e0d\u662f\u5bc6\u7801\u77ed\u8bed\uff1a \u786e\u4fdd /dev/sd1 \u8bbe\u5907\u88ab\u8003\u8651\u5728\u5185\uff1a # cd /dev && sh MAKEDEV sd1 \u5199\u5165 sd1 \u7684\u6240\u6709\u6570\u636e\u73b0\u5728\u90fd\u5c06\u5728 XTS \u6a21\u5f0f\u4e0b\u4f7f\u7528 AES \u52a0\u5bc6\u3002 \u4e0e\u524d\u9762\u7684\u793a\u4f8b\u4e00\u6837\uff0c\u6211\u4eec\u5c06\u8986\u76d6\u65b0\u7684\u4f2a\u8bbe\u5907\uff08pseudo-device\uff09\u7684\u7b2c\u4e00\u5146\u5b57\u8282\u3002 # dd if=/dev/zero of=/dev/rsd1c bs=1m count=1 \u952e\u5165 exit \u8fd4\u56de\u4e3b\u5b89\u88c5\u7a0b\u5e8f\uff0c\u7136\u540e\u9009\u62e9\u6b64\u65b0\u8bbe\u5907\u4f5c\u4e3a\u4f60\u7684\u5b89\u88c5\u8bbe\u5907\u3002 [...] Available disks are: sd0 sd1. Which disk is the root disk? ('?' for details) [sd0] sd1 \u542f\u52a8\u65f6\u5c06\u63d0\u793a\u4f60\u8f93\u5165\u5bc6\u7801\uff0c\u4f46\u6240\u6709\u5176\u4ed6\u64cd\u4f5c\u90fd\u5e94\u900f\u660e\u5904\u7406\u3002 \u4f7f\u7528\u5bc6\u94a5\u76d8 \u00b6 \u4f5c\u4e3a\u4f7f\u7528\u5bc6\u7801\u77ed\u8bed\u7684\u66ff\u4ee3\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528\u5b58\u50a8\u5728\u5355\u72ec\u8bbe\u5907\uff08\u4f8b\u5982 U \u76d8\uff09\u4e0a\u7684\u5bc6\u94a5\u6765\u89e3\u9501\u4f60\u7684\u52a0\u5bc6\u78c1\u76d8\u3002 \u4f7f\u7528 fdisk(8) \u521d\u59cb\u5316\u4f60\u7684\u5bc6\u94a5\u76d8\uff08keydisk\uff09\uff0c\u7136\u540e\u4f7f\u7528 disklabel(8) \u4e3a\u5bc6\u94a5\u6570\u636e\u521b\u5efa\u4e00\u4e2a 1 MB \u7684 RAID \u5206\u533a\u3002 \u5982\u679c\u4f60\u7684\u5bc6\u94a5\u76d8\u662f sd1 \u800c\u4f60\u8981\u52a0\u5bc6\u7684\u9a71\u52a8\u5668\u662f sd0 \uff0c\u5219\u8f93\u51fa\u5c06\u5982\u4e0b\u6240\u793a\uff1a # bioctl -c C -k sd1a -l sd0a softraid0 sd2 at scsibus3 targ 1 lun 0: <OPENBSD, SR CRYPTO, 005> SCSI2 0/direct fixed sd2: 19445MB, 512 bytes/sector, 39824607 sectors softraid0: CRYPTO volume attached as sd2 \u7cfb\u7edf\u4e0d\u4f1a\u63d0\u793a\u4f60\u8f93\u5165\u5bc6\u7801\uff0c\u56e0\u4e3a\u4f60\u4f7f\u7528\u7684\u662f\u5bc6\u94a5\u76d8\u3002\u5fc5\u987b\u5728\u542f\u52a8\u65f6\u63d2\u5165\u5bc6\u94a5\u76d8\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 dd(1) \u5907\u4efd\u548c\u6062\u590d\u4f60\u7684\u5bc6\u94a5\u76d8\uff1a # dd bs=8192 skip=1 if=/dev/rsd1a of=backup-keydisk.img # dd bs=8192 seek=1 if=backup-keydisk.img of=/dev/rsd1a \u52a0\u5bc6\u5916\u90e8\u78c1\u76d8 \u00b6 \u672c\u8282\u8bf4\u660e\u5982\u4f55\u4e3a\u5916\u90e8 USB \u9a71\u52a8\u5668\u8bbe\u7f6e\u52a0\u5bc6\u8f6f RAID \u5377\u3002\u5982\u679c\u4f60\u5df2\u7ecf\u9605\u8bfb\u4e86\u6709\u5173\u5168\u76d8\u52a0\u5bc6\u7684\u90e8\u5206\uff0c\u90a3\u4e48\u5e94\u8be5\u975e\u5e38\u719f\u6089\u3002\u6b65\u9aa4\u6982\u8981\u5982\u4e0b\uff1a \u7528\u968f\u673a\u6570\u636e\u8986\u76d6\u9a71\u52a8\u5668\u7684\u5185\u5bb9 \u4f7f\u7528 disklabel(8) \u521b\u5efa\u6240\u9700\u7684 RAID \u7c7b\u578b\u5206\u533a \u4f7f\u7528 bioctl(8) \u52a0\u5bc6\u9a71\u52a8\u5668 \u5c06\u65b0\u4f2a\u5206\u533a\u7684\u7b2c\u4e00\u5146\u5b57\u8282\u5f52\u96f6 \u4f7f\u7528 newfs(8) \u5728\u4f2a\u8bbe\u5907\u4e0a\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf \u89e3\u9501\u5e76\u4f7f\u7528 mount(8) \u6302\u8f7d\u65b0\u7684\u4f2a\u8bbe\u5907 \u6839\u636e\u9700\u8981\u8bbf\u95ee\u6587\u4ef6 \u5378\u8f7d\u9a71\u52a8\u5668\u5e76\u5206\u79bb\u52a0\u5bc6\u5bb9\u5668 \u4e0b\u9762\u662f\u8fd9\u4e9b\u6b65\u9aa4\u7684\u5feb\u901f\u793a\u4f8b\uff0c\u5176\u4e2d sd3 \u662f USB \u9a71\u52a8\u5668\uff1a # dd if=/dev/urandom of=/dev/rsd3c bs=1m # fdisk -iy sd3 # disklabel -E sd3 # make an \"a\" partition of type RAID # bioctl -c C -l sd3a softraid0 New passphrase: Re-type passphrase: softraid0: CRYPTO volume attached as sd4 # dd if=/dev/zero of=/dev/rsd4c bs=1m count=1 # fdisk -iy sd4 # disklabel -E sd4 # make an \"i\" partition # newfs sd4i # mkdir -p /mnt/secretstuff # mount /dev/sd4i /mnt/secretstuff # mv somefile /mnt/secretstuff/ # umount /mnt/secretstuff # bioctl -d sd4 \u7528\u4e8e\u521b\u5efa\u5377\u7684\u76f8\u540c bioctl(8) \u547d\u4ee4\u53ef\u7528\u4e8e\u7a0d\u540e\u9644\u52a0\u5b83\u3002","title":"\u914d\u7f6e\u78c1\u76d8"},{"location":"openbsd-faq/faq14/#openbsd-faq---\u914d\u7f6e\u78c1\u76d8","text":"","title":"OpenBSD FAQ - \u914d\u7f6e\u78c1\u76d8"},{"location":"openbsd-faq/faq14/#\u78c1\u76d8\u548c\u5206\u533a","text":"\u5728 OpenBSD \u4e2d\u8bbe\u7f6e\u78c1\u76d8\u7684\u7ec6\u8282\u56e0 \u5e73\u53f0 \u800c\u5f02\uff0c\u56e0\u6b64\u4f60\u5e94\u8be5\u9605\u8bfb\u4f60\u90e8\u7f72\u7684\u5e73\u53f0\u7684 INSTALL.<arch> \u6587\u4ef6\u4e2d\u7684\u8bf4\u660e\u3002","title":"\u78c1\u76d8\u548c\u5206\u533a"},{"location":"openbsd-faq/faq14/#\u9a71\u52a8\u5668\u8bc6\u522b","text":"\u5728\u5927\u591a\u6570\u5e73\u53f0\u4e0a\uff0cOpenBSD \u4f7f\u7528\u4e24\u4e2a\u9a71\u52a8\u7a0b\u5e8f\u5904\u7406\u5927\u5bb9\u91cf\u5b58\u50a8\uff1a wd(4) \uff1a\u7c7b\u4f3c IDE \u7684\u78c1\u76d8\uff1aIDE\u3001SATA\u3001MFM \u6216 ESDI \u78c1\u76d8\uff0c\u6216\u8fde\u63a5\u5230 wdc(4) \u6216 pciide(4) \u63a5\u53e3\u7684\u95ea\u5b58\u8bbe\u5907\u3002 sd(4) \uff1a\u7c7b SCSI \u78c1\u76d8\uff1a\u4f7f\u7528 SCSI \u547d\u4ee4\u7684\u8bbe\u5907\u3001USB \u78c1\u76d8\u3001\u8fde\u63a5\u5230 ahci(4) \u63a5\u53e3\u7684 SATA \u78c1\u76d8\u4ee5\u53ca\u8fde\u63a5\u5230 RAID \u63a7\u5236\u5668\u7684\u78c1\u76d8\u9635\u5217\u3002 \u8bbe\u5907\u6309\u542f\u52a8\u65f6\u68c0\u6d4b\u5230\u7684\u987a\u5e8f\u7f16\u53f7\uff0c\u4ece\u96f6\u5f00\u59cb\u3002\u56e0\u6b64\uff0c\u7b2c\u4e00\u4e2a\u7c7b\u4f3c IDE \u7684\u78c1\u76d8\u5c06\u662f wd0 \uff0c\u800c\u7b2c\u4e09\u4e2a\u7c7b\u4f3c SCSI \u7684\u78c1\u76d8\u5c06\u662f sd2 \u3002\u8bf7\u6ce8\u610f\uff0cOpenBSD \u4e0d\u4e00\u5b9a\u4f1a\u6309\u7167\u4e0e\u5f15\u5bfc ROM \u76f8\u540c\u7684\u987a\u5e8f\u5bf9\u9a71\u52a8\u5668\u8fdb\u884c\u7f16\u53f7\u3002","title":"\u9a71\u52a8\u5668\u8bc6\u522b"},{"location":"openbsd-faq/faq14/#\u5206\u533a\u548c\u6587\u4ef6\u7cfb\u7edf","text":"\u672f\u8bed\u201c\u5206\u533a\u201d\u5728 OpenBSD \u4e2d\u53ef\u4ee5\u8868\u793a\u4e24\u79cd\u4e0d\u540c\u7684\u542b\u4e49\uff1a disklabel(8) \u5206\u533a\uff0c\u4e5f\u79f0\u4e3a\u6587\u4ef6\u7cfb\u7edf\u5206\u533a\u3002 fdisk(8) \u5206\u533a\uff0c\u6709\u65f6\u79f0\u4e3a\u4e3b\u5f15\u5bfc\u8bb0\u5f55 (MBR) \u5206\u533a\u3002 \u6240\u6709 OpenBSD \u5e73\u53f0\u90fd\u4f7f\u7528 disklabel \u7a0b\u5e8f\u4f5c\u4e3a\u7ba1\u7406\u6587\u4ef6\u7cfb\u7edf\u5206\u533a\u7684\u4e3b\u8981\u65b9\u5f0f\u3002\u5728\u4f7f\u7528 fdisk \u7684\u5e73\u53f0\u4e0a\uff0c\u4e00\u4e2a MBR \u5206\u533a\u53ef\u4fdd\u5b58\u6240\u6709 OpenBSD \u6587\u4ef6\u7cfb\u7edf\u3002\u8fd9\u4e2a\u5206\u533a\u53ef\u4ee5\u5206\u6210 16 \u4e2a disklabel \u5206\u533a\uff0c\u6807\u8bb0\u4e3a a \u5230 p \u3002\u6709\u51e0\u4e2a\u6807\u7b7e\u5f88\u7279\u522b\uff1a a\uff1a\u542f\u52a8\u76d8\u7684 a \u5206\u533a\u5c31\u662f\u4f60\u7684\u6839\u5206\u533a\u3002 b: \u542f\u52a8\u76d8\u7684 b \u5206\u533a\u901a\u5e38\u662f\u4ea4\u6362\u5206\u533a\u3002 c\uff1ac \u5206\u533a\u59cb\u7ec8\u662f\u6574\u4e2a\u78c1\u76d8\u3002 \u8981\u5728 disklabel \u5206\u533a\u4e0a\u521b\u5efa\u65b0\u6587\u4ef6\u7cfb\u7edf\uff0c\u8bf7\u4f7f\u7528 newfs(8) \u547d\u4ee4\uff1a # newfs sd2a \u56e0\u6b64\uff0c\u4e00\u4e2a\u8bbe\u5907\u540d\u52a0\u4e0a\u4e00\u4e2a disklabel \u6807\u8bc6\u4e86\u4e00\u4e2a OpenBSD \u6587\u4ef6\u7cfb\u7edf\u3002 \u4f8b\u5982\uff0c\u6807\u8bc6\u7b26 sd2a \u6307\u7684\u662f\u7b2c\u4e09\u4e2a sd \u8bbe\u5907\u7684 a \u5206\u533a\u4e0a\u7684\u6587\u4ef6\u7cfb\u7edf\u3002\u5b83\u7684\u8bbe\u5907\u6587\u4ef6\u5c06\u662f\u5757\u8bbe\u5907\u7684 /dev/sd2a \u548c\u539f\u59cb\uff08\u5b57\u7b26\uff09\u8bbe\u5907\u7684 /dev/rsd2a \u3002 \u8bb0\u4f4f\u4e00\u4e2a\u5f88\u5c11\u4f7f\u7528\u7684\u547d\u4ee4\u662f\u9700\u8981\u5757\u8bbe\u5907\u8fd8\u662f\u5b57\u7b26\u8bbe\u5907\u662f\u56f0\u96be\u7684\u3002\u56e0\u6b64\uff0c\u8bb8\u591a\u547d\u4ee4\u90fd\u4f7f\u7528 opendev(3) \u51fd\u6570\uff0c\u5b83\u4f1a\u6839\u636e\u9700\u8981\u81ea\u52a8\u5c06 sd0 \u6269\u5c55\u4e3a /dev/rsd0c \u6216 /dev/sd0c \u3002","title":"\u5206\u533a\u548c\u6587\u4ef6\u7cfb\u7edf"},{"location":"openbsd-faq/faq14/#disklabel-\u552f\u4e00\u6807\u8bc6\u7b26","text":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u78c1\u76d8\u7531 fstab(5) \u6587\u4ef6\u4e2d\u7684 Disklabel \u552f\u4e00\u6807\u8bc6\u7b26 (DUID) \u6807\u8bc6\u3002 DUID \u662f\u5728\u9996\u6b21\u521b\u5efa\u78c1\u76d8\u6807\u7b7e\u65f6\u751f\u6210\u7684 16 \u4f4d\u5341\u516d\u8fdb\u5236\u6570\u5b57\u968f\u673a\u6570\u3002\u5b83\u4eec\u7531 diskmap(4) \u8bbe\u5907\u7ba1\u7406\u3002\u8981\u663e\u793a\u6240\u6709\u78c1\u76d8\u7684 DUID\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a $ sysctl hw.disknames hw.disknames=wd0:bfb4775bb8397569,cd0:,wd1:56845c8da732ee7b,wd2:f18e359c8fa2522b \u4f60\u53ef\u4ee5\u901a\u8fc7\u9644\u52a0\u53e5\u70b9\u548c\u5206\u533a\u53f7\u6765\u6307\u5b9a\u78c1\u76d8\u4e0a\u7684\u5206\u533a\u3002\u4f8b\u5982\uff0c f18e359c8fa2522b.d \u662f\u78c1\u76d8 f18e359c8fa2522b \u7684 d \u5206\u533a\uff0c\u5e76\u4e14\u5c06\u59cb\u7ec8\u5f15\u7528\u540c\u4e00\u4e2a\u5b58\u50a8\u5757\uff0c\u65e0\u8bba\u8bbe\u5907\u8fde\u63a5\u5230\u7cfb\u7edf\u7684\u987a\u5e8f\u5982\u4f55\uff0c\u6216\u8005\u5b83\u8fde\u63a5\u5230\u4ec0\u4e48\u6837\u7684\u63a5\u53e3\u3002\u5982\u679c\u4f60\u628a\u6570\u636e\u653e\u5728 wd2d \u4e0a\uff0c\u7136\u540e\u4ece\u7cfb\u7edf\u4e2d\u5220\u9664 wd1 \u5e76\u91cd\u65b0\u542f\u52a8\uff0c\u4f60\u7684\u6570\u636e\u73b0\u5728\u5728 wd1d \u4e0a\uff0c\u56e0\u4e3a\u4f60\u7684\u65e7 wd2 \u73b0\u5728\u662f wd1 \u3002 \u4f46\u662f\uff0c\u9a71\u52a8\u5668\u7684 DUID \u5728\u542f\u52a8\u540e\u4e0d\u4f1a\u6539\u53d8\u3002","title":"Disklabel \u552f\u4e00\u6807\u8bc6\u7b26"},{"location":"openbsd-faq/faq14/#\u4f7f\u7528-fdisk","text":"fdisk(8) \u5b9e\u7528\u7a0b\u5e8f\u5728\u67d0\u4e9b\u5e73\u53f0\uff08i386\u3001amd64 \u548c macppc\uff09\u4e0a\u7528\u4e8e\u521b\u5efa\u7cfb\u7edf\u5f15\u5bfc ROM \u8bc6\u522b\u7684\u5206\u533a\u3002\u901a\u5e38\uff0c\u53ea\u6709\u4e00\u4e2a OpenBSD fdisk \u5206\u533a\u4f1a\u88ab\u653e\u7f6e\u5728\u4e00\u4e2a\u78c1\u76d8\u4e0a\uff0c\u7136\u540e\u8be5\u5206\u533a\u5c06\u88ab\u7ec6\u5206\u4e3a disklabel \u5206\u533a\u3002 \u8fd0\u884c\u4e0b\u5217\u6307\u4ee4\u67e5\u770b\u4f60\u7684\u5206\u533a\u8868\uff1a # fdisk sd0 Disk: sd0 geometry: 553/255/63 [8883945 Sectors] Offset: 0 Signature: 0xAA55 Starting Ending LBA Info: #: id C H S - C H S [ start: size ] ------------------------------------------------------------------------ 0: 12 0 1 1 - 2 254 63 [ 63: 48132 ] Compaq Diag. 1: 00 0 0 0 - 0 0 0 [ 0: 0 ] unused 2: 00 0 0 0 - 0 0 0 [ 0: 0 ] unused *3: A6 3 0 1 - 552 254 63 [ 48195: 8835750 ] OpenBSD \u5728\u8fd9\u91cc\uff0c\u6807\u6709 * \u7684 OpenBSD \u5206\u533a (id A6 ) \u8868\u793a\u5b83\u662f\u53ef\u5f15\u5bfc\u5206\u533a\u3002 \u4e00\u4e2a\u5b8c\u5168\u7a7a\u767d\u7684\u78c1\u76d8\u9700\u8981\u5728\u5f15\u5bfc\u524d\u5c06\u4e3b\u5f15\u5bfc\u8bb0\u5f55\u7684\u5f15\u5bfc\u4ee3\u7801\u5199\u5165\u78c1\u76d8\u3002\u901a\u5e38\uff0c\u4f60\u9700\u8981\u505a\u7684\u5c31\u662f\uff1a # fdisk -iy sd0 \u6216\u8005\uff0c\u5728\u4ea4\u4e92\u6a21\u5f0f\u4e0b\u4f7f\u7528 reinit \u6216 update \u547d\u4ee4: \u4f7f\u7528 -e \u6807\u5fd7\u542f\u52a8\u4ea4\u4e92\u5f0f\u7f16\u8f91\u6a21\u5f0f\uff1a # fdisk -e sd0 Enter 'help' for information fdisk: 1> \u8bf7\u6ce8\u610f\uff0c quit \u4f1a\u4fdd\u5b58\u66f4\u6539\u5e76\u9000\u51fa\u7a0b\u5e8f\uff0c\u800c exit \u4f1a\u9000\u51fa\u800c\u4e0d\u4fdd\u5b58\u3002\u8fd9\u4e0e\u8bb8\u591a\u4eba\u73b0\u5728\u5728\u5176\u4ed6\u73af\u5883\u4e2d\u4e60\u60ef\u7684\u60c5\u51b5\u76f8\u53cd\u3002\u53e6\u8bf7\u6ce8\u610f\uff0c fdisk \u5728\u4fdd\u5b58\u66f4\u6539\u4e4b\u524d\u4e0d\u4f1a\u53d1\u51fa\u8b66\u544a\u3002 \u5982\u679c\u4f60\u7684\u7cfb\u7edf\u6709\u7ef4\u62a4\u6216\u8bca\u65ad\u5206\u533a\uff0c\u5efa\u8bae\u4f60\u5728\u4fdd\u7559\u8be5\u5206\u533a\u6216\u5b89\u88c5 OpenBSD \u4e4b\u524d \u5c06\u5176\u5b89\u88c5\u3002","title":"\u4f7f\u7528 fdisk"},{"location":"openbsd-faq/faq14/#bsd-\u76d8\u6807","text":"BSD \u76d8\u6807\uff08Disk labels\uff0cdisklabel\uff09\u7528\u4e8e\u7ba1\u7406 OpenBSD \u6587\u4ef6\u7cfb\u7edf\u5206\u533a\u3002\u5b83\u4eec\u5305\u542b\u6709\u5173\u78c1\u76d8\u7684\u67d0\u4e9b\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f8b\u5982 disklabel(5) \u624b\u518c\u9875\u4e2d\u7684\u8be6\u7ec6\u63cf\u8ff0\u7684\u9a71\u52a8\u5668\u51e0\u4f55\u7ed3\u6784\u548c\u6587\u4ef6\u7cfb\u7edf\u4fe1\u606f\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 disklabel(8) \u547d\u4ee4\u7f16\u8f91\u6807\u7b7e\u3002 \u8fd9\u53ef\u4ee5\u5e2e\u52a9\u514b\u670d\u67d0\u4e9b\u67b6\u6784\u7684\u78c1\u76d8\u5206\u533a\u9650\u5236\u3002\u4f8b\u5982\uff0c\u5728 i386 \u4e0a\uff0c\u53ea\u6709\u56db\u4e2a\u4e3b MBR \u5206\u533a\u53ef\u7528\u3002\u4f7f\u7528 BSD \u76d8\u6807 \uff0c\u8fd9\u4e9b\u4e3b\u5206\u533a\u4e4b\u4e00\u5305\u542b\u4f60\u6240\u6709\u7684 OpenBSD \u5206\u533a\uff0c\u800c\u5176\u4ed6\u4e09\u4e2a\u4ecd\u53ef\u7528\u4e8e\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\u3002 \u5728\u4f7f\u7528 fdisk \u7684\u5e73\u53f0\u4e0a\uff0c\u4f60\u5e94\u8be5\u5728 BSD \u76d8\u6807\u548c fdisk \u4e2d\u4fdd\u7559\u672a\u4f7f\u7528\u7684\u7b2c\u4e00\u4e2a\u903b\u8f91\u78c1\u9053\u3002\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c\u9ed8\u8ba4\u662f\u5728\u5757 64 \u5904\u542f\u52a8\u7b2c\u4e00\u4e2a\u5206\u533a\u3002 \u4e0d\u8981\u5c06 swap \u5206\u533a\u653e\u5728 sparc64 \u4e0a\u78c1\u76d8\u7684\u6700\u5f00\u5934\u3002\u867d\u7136 Solaris \u7ecf\u5e38\u8fd9\u6837\u505a\uff0c\u4f46 OpenBSD \u8981\u6c42\u5f15\u5bfc\u5206\u533a\u4f4d\u4e8e\u78c1\u76d8\u7684\u5f00\u5934\u3002","title":"BSD \u76d8\u6807"},{"location":"openbsd-faq/faq14/#\u5220\u9664-bsd-\u76d8\u6807\u540e\u6062\u590d\u5206\u533a","text":"\u5982\u679c\u4f60\u7684\u5206\u533a\u8868\u5df2\u635f\u574f\uff0c\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u591a\u79cd\u65b9\u6cd5\u6765\u6062\u590d\u5b83\u3002 \u4f5c\u4e3a\u65e5\u5e38\u7cfb\u7edf\u7ef4\u62a4\u7684\u4e00\u90e8\u5206\uff0c\u6bcf\u4e2a\u78c1\u76d8\u7684 BSD \u76d8\u6807\u526f\u672c\u90fd\u4fdd\u5b58\u5728 /var/backups \u4e2d\u3002 \u5047\u8bbe\u4f60\u4ecd\u7136\u6709 /var \u5206\u533a\uff0c\u4f60\u53ef\u4ee5\u7b80\u5355\u5730\u8bfb\u53d6\u8f93\u51fa\uff0c\u5e76\u4f7f\u7528 -R \u6807\u5fd7\u5c06\u5176\u653e\u56de BSD \u76d8\u6807\u4e2d\u3002 \u5982\u679c\u4f60\u65e0\u6cd5\u518d\u770b\u5230\u8be5\u5206\u533a\uff0c\u5219\u6709\u4e24\u79cd\u9009\u62e9\uff1a\u4fee\u590d\u78c1\u76d8\u8db3\u591f\u591a\u7684\u90e8\u5206\u4ee5\u4fbf\u4f60\u53ef\u4ee5\u770b\u5230\u5b83\uff0c\u6216\u8005\u4fee\u590d\u78c1\u76d8\u8db3\u591f\u591a\u7684\u90e8\u5206\u4ee5\u4fbf\u4f60\u53ef\u4ee5\u53d6\u51fa\u6570\u636e\u3002 scan_ffs(8) \u5b9e\u7528\u7a0b\u5e8f\u5c06\u67e5\u770b\u78c1\u76d8\u4ee5\u67e5\u627e\u5206\u533a\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u5b83\u627e\u5230\u7684\u4fe1\u606f\u91cd\u65b0\u521b\u5efa BSD \u76d8\u6807\u3002\u5982\u679c\u4f60\u53ea\u60f3\u6062\u590d /var \uff0c\u4f60\u53ef\u4ee5\u4e3a /var \u91cd\u65b0\u521b\u5efa\u5206\u533a\uff0c\u7136\u540e\u6062\u590d\u5907\u4efd\u7684\u6807\u7b7e\u5e76\u4ece\u4e2d\u6dfb\u52a0\u5176\u4f59\u90e8\u5206\u3002 disklabel(8) \u5b9e\u7528\u7a0b\u5e8f\u5c06\u66f4\u65b0\u5185\u6838\u5bf9 BSD \u76d8\u6807\u7684\u7406\u89e3\u5e76\u5c1d\u8bd5\u5c06\u6807\u7b7e\u5199\u5165\u78c1\u76d8\u3002\u56e0\u6b64\uff0c\u5373\u4f7f\u5305\u542b BSD \u76d8\u6807\u7684\u78c1\u76d8\u533a\u57df\u4e0d\u53ef\u8bfb\uff0c\u4f60\u4e5f\u53ef\u4ee5\u6302\u8f7d\u76f4\u5230\u4e0b\u6b21\u91cd\u65b0\u542f\u52a8\u3002","title":"\u5220\u9664 BSD \u76d8\u6807\u540e\u6062\u590d\u5206\u533a"},{"location":"openbsd-faq/faq14/#amd64-\u542f\u52a8\u8fc7\u7a0b","text":"\u6709\u5173 amd64 \u5f15\u5bfc\u7a0b\u5e8f\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 boot_amd64(8) \u624b\u518c\u9875\u3002\u542f\u52a8\u8fc7\u7a0b\u5982\u4e0b\uff1a \u4e3b\u5f15\u5bfc\u8bb0\u5f55 (MBR) \u548c GUID \u5206\u533a\u8868 (GPT)\u3002 fdisk(8) \u624b\u518c\u9875\u5305\u542b\u8be6\u7ec6\u4fe1\u606f\u3002 \u5206\u533a\u5f15\u5bfc\u8bb0\u5f55 (PBR)\u3002\u5f15\u5bfc\u76d8\u7684 OpenBSD \u5206\u533a\u7684\u524d 512 \u5b57\u8282\u5305\u542b\u7b2c\u4e00\u9636\u6bb5\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f biosboot(8) \u3002 \u5b83\u7531 installboot(8) \u5b9e\u7528\u7a0b\u5e8f\u5b89\u88c5\u3002 \u7b2c\u4e8c\u9636\u6bb5\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f /boot \u3002PBR \u52a0\u8f7d boot(8) \u7a0b\u5e8f\uff0c\u8be5\u7a0b\u5e8f\u5177\u6709\u5b9a\u4f4d\u548c\u52a0\u8f7d\u5185\u6838\u7684\u4efb\u52a1\u3002 \u56e0\u6b64\uff0c\u542f\u52a8\u8fc7\u7a0b\u7684\u4e00\u5f00\u59cb\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a Using drive 0, partition 3. <- MBR Loading...... <- PBR probing: pc0 com0 com1 mem[638K 1918M a20=on] <- /boot disk: hd0+ hd1+ >> OpenBSD/amd64 BOOT 3.33 boot> booting hd0a:/bsd 4464500+838332 [58+204240+181750]=0x56cfd0 entry point at 0x100120 [ using 386464 bytes of bsd ELF symbol table ] Copyright (c) 1982, 1986, 1989, 1991, 1993 <- Kernel The Regents of the University of California. All rights reserved.","title":"amd64 \u542f\u52a8\u8fc7\u7a0b"},{"location":"openbsd-faq/faq14/#\u8f6f\u66f4\u65b0","text":"\u8f6f\u66f4\u65b0\uff08Soft Updates\uff09\u57fa\u4e8e Greg Ganger \u548c Yale Patt \u63d0\u51fa\u5e76\u7531 Kirk McKusick \u4e3a FreeBSD \u5f00\u53d1\u7684\u60f3\u6cd5\u3002\u8f6f\u66f4\u65b0\u5bf9\u7f13\u51b2\u533a\u7f13\u5b58\u64cd\u4f5c\u8fdb\u884c\u4e86\u90e8\u5206\u6392\u5e8f\uff0c\u8fd9\u5141\u8bb8\u4ece FFS \u4ee3\u7801\u4e2d\u5220\u9664\u540c\u6b65\u5199\u5165\u76ee\u5f55\u6761\u76ee\u7684\u8981\u6c42\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u770b\u5230\u78c1\u76d8\u5199\u5165\u6027\u80fd\u7684\u5927\u5e45\u63d0\u5347\u3002 \u8981\u542f\u7528\u8f6f\u66f4\u65b0\u5fc5\u987b\u4f7f\u7528 mount-time \u9009\u9879\u3002 \u4f7f\u7528 mount(8) \u5b9e\u7528\u7a0b\u5e8f\u6302\u8f7d\u5206\u533a\u65f6\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a\u5e0c\u671b\u5728\u8be5\u5206\u533a\u4e0a\u542f\u7528\u8f6f\u66f4\u65b0\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b fstab(5) \u6761\u76ee\uff0c\u5b83\u6709\u4e00\u4e2a\u6211\u4eec\u5e0c\u671b\u5b89\u88c5\u6709\u8f6f\u66f4\u65b0\u7684\u5206\u533a sd0a \u3002 /dev/sd0a / ffs rw,softdep 1 1","title":"\u8f6f\u66f4\u65b0"},{"location":"openbsd-faq/faq14/#\u6839\u5206\u533a\u5907\u4efdaltroot","text":"OpenBSD \u5728 daily(8) \u811a\u672c\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a /altroot \u5de5\u5177\u3002 \u5982\u679c\u5728 /etc/daily.local \u6216 root \u7684 crontab(5) \u4e2d\u8bbe\u7f6e\u4e86\u73af\u5883\u53d8\u91cf ROOTBACKUP=1 \uff0c\u5e76\u4e14\u5728 fstab(5) \u4e2d\u5c06\u5206\u533a\u6307\u5b9a\u4e3a\u6302\u8f7d\u5230 /altroot \u5e76\u4f7f\u7528 xx \u6302\u8f7d\u9009\u9879\uff0c\u5219\u6bcf\u5929\u665a\u4e0a\u6574\u4e2a\u6839\u5206\u533a\u7684\u5185\u5bb9\u5c06\u590d\u5236\u5230 /altroot \u5206\u533a\u3002 \u5047\u8bbe\u4f60\u8981\u5c06\u6839\u5206\u533a\u5907\u4efd\u5230 DUID \u4e3a bfb4775bb8397569.a \u6307\u5b9a\u7684\u5206\u533a\uff0c\u5728 /etc/fstab \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a bfb4775bb8397569.a /altroot ffs xx 0 0 \u7136\u540e\uff0c\u5728 /etc/daily.local \u4e2d\u8bbe\u7f6e\u9002\u5f53\u7684\u73af\u5883\u53d8\u91cf\uff1a # echo ROOTBACKUP=1 >>/etc/daily.local \u7531\u4e8e /altroot \u8fdb\u7a0b\u5c06\u6355\u83b7\u4f60\u7684 /etc \u76ee\u5f55\uff0c\u8fd9\u5c06\u786e\u4fdd\u6bcf\u5929\u66f4\u65b0\u540c\u6b65\u6839\u5206\u533a\u7684\u4efb\u4f55\u914d\u7f6e\u66f4\u6539\u3002\u8fd9\u662f\u4f7f\u7528 dd(1) \u5b8c\u6210\u7684 \u201c\u78c1\u76d8\u955c\u50cf\u201d \u526f\u672c\uff0c\u800c\u4e0d\u662f\u9010\u4e2a\u6587\u4ef6\u7684\u526f\u672c\uff0c\u56e0\u6b64\u4f60\u7684 /altroot \u5206\u533a\u5e94\u81f3\u5c11\u4e0e\u6839\u5206\u533a\u7684\u5927\u5c0f\u76f8\u540c\u3002\u901a\u5e38\uff0c\u4f60\u9700\u8981\u5c06 /altroot \u5206\u533a\u653e\u7f6e\u5728\u5df2\u914d\u7f6e\u4e3a\u5728\u4e3b\u78c1\u76d8\u51fa\u73b0\u6545\u969c\u65f6\u5b8c\u5168\u53ef\u5f15\u5bfc\u7684\u4e0d\u540c\u78c1\u76d8\u4e0a\u3002","title":"\u6839\u5206\u533a\u5907\u4efd\uff08/altroot\uff09"},{"location":"openbsd-faq/faq14/#\u590d\u5236\u6587\u4ef6\u7cfb\u7edf","text":"\u8981\u4f7f\u7528 dump(8) \u548c restore(8) \u5c06\u76ee\u5f55 /SRC \u4e0b\u7684\u6240\u6709\u5185\u5bb9\u590d\u5236\u5230\u76ee\u5f55 /DST \uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # cd /SRC && dump 0f - . | (cd /DST && restore -rf - ) \u6216\u8005\u4f7f\u7528 tar(1) # cd /SRC && tar cf - . | (cd /DST && tar xpf - )","title":"\u590d\u5236\u6587\u4ef6\u7cfb\u7edf"},{"location":"openbsd-faq/faq14/#\u78c1\u76d8\u914d\u989d","text":"\u914d\u989d\u7528\u4e8e\u9650\u5236\u67d0\u4e9b\u7528\u6237\u548c\u7ec4\u53ef\u7528\u7684\u78c1\u76d8\u7a7a\u95f4\u91cf\u3002 \u4f7f\u7528\u5173\u952e\u5b57 userquota \u548c groupquota \u6765\u6807\u8bb0 fstab(5) \u4e2d\u8981\u5bf9\u5176\u5b9e\u65bd\u914d\u989d\u7684\u6bcf\u4e2a\u6587\u4ef6\u7cfb\u7edf\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6587\u4ef6 quota.user \u548c quota.group \u5c06\u5728\u8fd9\u4e9b\u6587\u4ef6\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u3002\u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b /etc/fstab \u884c\uff1a 0123456789abcdef.k /home ffs rw,nodev,nosuid,userquota 1 2 \u8981\u8bbe\u7f6e\u7528\u6237\u7684\u914d\u989d\uff0c\u8bf7\u4f7f\u7528 edquota(8) \u3002\u4f8b\u5982: # edquota ericj \u5e76\u7f16\u8f91\u8f6f\u9650\u5236\u548c\u786c\u9650\u5236\uff1a Quotas for user ericj: /home: KBytes in use: 62, limits (soft = 1000000, hard = 1500000) inodes in use: 25, limits (soft = 0, hard = 0) \u5728\u672c\u4f8b\u4e2d\uff0c\u8f6f\u9650\u5236\u8bbe\u7f6e\u4e3a 1000000k\uff0c\u786c\u9650\u5236\u8bbe\u7f6e\u4e3a 1500000k\u3002\u7531\u4e8e\u76f8\u5e94\u7684\u8f6f\u9650\u5236\u548c\u786c\u9650\u5236\u90fd\u8bbe\u7f6e\u4e3a 0\uff0c\u56e0\u6b64\u4e0d\u4f1a\u5f3a\u5236\u6267\u884c\u5bf9\u6587\u4ef6\u603b\u6570\uff08inode\uff09\u6570\u91cf\u7684\u9650\u5236\u3002\u8d85\u8fc7\u8f6f\u9650\u5236\u7684\u7528\u6237\u4f1a\u6536\u5230\u8b66\u544a\u5e76\u83b7\u5f97\u5bbd\u9650\u671f\uff0c\u4ee5\u4f7f\u4ed6\u4eec\u7684\u78c1\u76d8\u4f7f\u7528\u91cf\u4f4e\u4e8e\u9650\u5236\u3002\u53ef\u4ee5\u4f7f\u7528 edquota(8) \u4e0a\u7684 -t \u9009\u9879\u8bbe\u7f6e\u5bbd\u9650\u671f\u3002\u5bbd\u9650\u671f\u7ed3\u675f\u540e\uff0c\u8f6f\u9650\u5236\u4f5c\u4e3a\u786c\u9650\u5236\u5904\u7406\u3002\u8fd9\u901a\u5e38\u4f1a\u5bfc\u81f4\u5206\u914d\u5931\u8d25\u3002 \u4f7f\u7528 quotaon(8) \u542f\u7528\u914d\u989d\uff1a # quotaon -a \u8fd9\u5c06\u626b\u63cf fstab(5) \u5e76\u4f7f\u7528\u914d\u989d\u9009\u9879\u5728\u6587\u4ef6\u7cfb\u7edf\u4e0a\u542f\u7528\u914d\u989d\u3002\u4f7f\u7528 quota(1) \u67e5\u770b\u914d\u989d\u7edf\u8ba1\u4fe1\u606f\u3002","title":"\u78c1\u76d8\u914d\u989d"},{"location":"openbsd-faq/faq14/#\u8bbf\u95ee\u5176\u4ed6\u6587\u4ef6\u7cfb\u7edf","text":"\u4ece mount(8) \u624b\u518c\u5f00\u59cb\uff0c\u5176\u4e2d\u5305\u542b\u89e3\u91ca\u5982\u4f55\u6302\u8f7d\u4e00\u4e9b\u6700\u5e38\u7528\u6587\u4ef6\u7cfb\u7edf\u7684\u793a\u4f8b\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u83b7\u5f97\u652f\u6301\u7684\u6587\u4ef6\u7cfb\u7edf\u548c\u76f8\u5173\u547d\u4ee4\u7684\u90e8\u5206\u5217\u8868\uff1a $ man -k -s 8 mount \u8bf7\u6ce8\u610f\uff0c\u652f\u6301\u53ef\u80fd\u4ec5\u9650\u4e8e\u53ea\u8bfb\u64cd\u4f5c\u3002","title":"\u8bbf\u95ee\u5176\u4ed6\u6587\u4ef6\u7cfb\u7edf"},{"location":"openbsd-faq/faq14/#\u6302\u8f7d\u78c1\u76d8\u955c\u50cf","text":"\u8981\u5728 OpenBSD \u4e2d\u6302\u8f7d\u78c1\u76d8\u955c\u50cf\uff0c\u4f60\u5fc5\u987b\u914d\u7f6e vnd(4) \u8bbe\u5907\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u4f60\u6709\u4e00\u4e2a\u4f4d\u4e8e /tmp/ISO.image \u7684 ISO \u955c\u50cf\uff0c\u4f60\u5c06\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\u6765\u6302\u8f7d\u8be5\u955c\u50cf\uff1a # vnconfig vnd0 /tmp/ISO.image # mount -t cd9660 /dev/vnd0c /mnt \u7531\u4e8e\u8fd9\u662f CD \u548c DVD \u4f7f\u7528\u7684 ISO 9660 \u955c\u50cf\u683c\u5f0f\uff0c\u56e0\u6b64\u5728\u5b89\u88c5\u5b83\u65f6\u5fc5\u987b\u6307\u5b9a cd9660 \u7684\u7c7b\u578b\u3002 \u8981\u5378\u8f7d\u6620\u50cf\u5e76\u53d6\u6d88\u914d\u7f6e vnd(4) \u8bbe\u5907\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # umount /mnt # vnconfig -u vnd0 \u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 vnconfig(8) \u548c mount(8) \u3002","title":"\u6302\u8f7d\u78c1\u76d8\u955c\u50cf"},{"location":"openbsd-faq/faq14/#\u78c1\u76d8\u5206\u533a\u6269\u5bb9","text":"\u5982\u679c\u73b0\u6709\u5206\u533a\u540e\u8ddf\u672a\u5206\u914d\u7684\u53ef\u7528\u7a7a\u95f4\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 growfs(8) \u5b9e\u7528\u7a0b\u5e8f\u589e\u52a0\u5176\u5927\u5c0f\u3002\u786e\u4fdd\u5f53\u524d\u672a\u6302\u8f7d\u8be5\u5206\u533a\u3002\u4f7f\u7528 disklabel -E sd0 \u4ee5\u4ea4\u4e92\u65b9\u5f0f\u7f16\u8f91\u4f60\u7684\u5206\u533a\u8868\uff0c\u5e76\u4f7f\u7528 m \u547d\u4ee4\u4fee\u6539\u5206\u533a\u7684\u5927\u5c0f\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 growfs(8) \u8c03\u6574\u6587\u4ef6\u7cfb\u7edf\u4ee5\u4f7f\u7528\u6574\u4e2a\u5206\u533a\uff1a # growfs sd0h \u5728\u518d\u6b21\u6302\u8f7d\u5206\u533a\u4e4b\u524d\uff0c\u5fc5\u987b\u4f7f\u7528 fsck(8) \u68c0\u67e5\u5176\u5b8c\u6574\u6027\uff1a # fsck /dev/sd0h","title":"\u78c1\u76d8\u5206\u533a\u6269\u5bb9"},{"location":"openbsd-faq/faq14/#raid-\u548c\u78c1\u76d8\u52a0\u5bc6","text":"bioctl(8) \u547d\u4ee4\u901a\u8fc7 bio(4) \u5c42\u7ba1\u7406\u786c\u4ef6\u548c\u8f6f\u4ef6 RAID \u8bbe\u5907\u3002 softraid(4) \u5b50\u7cfb\u7edf\u5141\u8bb8\u5c06\u591a\u4e2a OpenBSD disklabel(8) \u5206\u533a\u7ec4\u5408\u6210\u4e00\u4e2a\u865a\u62df sd(4) \u78c1\u76d8\u3002\u8fd9\u4e2a\u865a\u62df\u78c1\u76d8\u88ab\u89c6\u4e3a\u548c\u4efb\u4f55\u5176\u4ed6\u78c1\u76d8\u4e00\u6837\u7684\u78c1\u76d8\uff0c\u9996\u5148\u7528 fdisk \uff08\u5728\u652f\u6301 fdisk \u7684\u5e73\u53f0\u4e0a\uff09\u5206\u533a\uff0c\u7136\u540e\u50cf\u5f80\u5e38\u4e00\u6837\u521b\u5efa BSD \u76d8\u6807\u3002 \u652f\u6301\u7684 softraid \u89c4\u5219\u5305\u62ec\uff1a RAID0\uff08\u5e26\u533a\u96c6\uff09 RAID1\uff08\u955c\u50cf\uff09 RAID1C\uff08\u4f7f\u7528\u78c1\u76d8\u52a0\u5bc6\u955c\u50cf\uff09 RAID5\uff08\u5e26\u6d6e\u52a8\u5947\u5076\u6821\u9a8c\u7684\u5e26\u533a\u96c6\uff09 CONCAT\uff08\u65e0\u5197\u4f59\u8fde\u63a5\uff0c\u7c7b\u4f3c\u4e8e JBOD\uff09 CRYPTO\uff08\u78c1\u76d8\u52a0\u5bc6\uff09 \u78c1\u76d8\u8bbe\u7f6e\u53ef\u80fd\u56e0\u5e73\u53f0\u800c\u5f02\uff0c\u5e76\u4e14 \u5e76\u975e\u6240\u6709\u5e73\u53f0\u90fd\u652f\u6301\u4ece softraid \u8bbe\u5907\u542f\u52a8 \u3002 \u76ee\u524d\u53ea\u80fd\u4ece i386\u3001amd64\u3001arm64 \u548c sparc64 \u4e0a\u7684 RAID1 \u548c\u52a0\u5bc6\u5377\u542f\u52a8 softraid\u3002","title":"RAID \u548c\u78c1\u76d8\u52a0\u5bc6"},{"location":"openbsd-faq/faq14/#\u5b89\u88c5\u81f3\u955c\u50cf","text":"\u672c\u8282\u4ecb\u7ecd\u5c06 OpenBSD \u5b89\u88c5\u5230\u4e00\u5bf9\u955c\u50cf\u786c\u76d8\u9a71\u52a8\u5668\uff0c\u5e76\u5047\u8bbe\u4f60\u719f\u6089 \u5b89\u88c5\u8fc7\u7a0b \u3002 \u5728\u4f7f\u7528\u5b89\u88c5\u811a\u672c\u4e4b\u524d\uff0c\u4f60\u5c06\u8fdb\u5165\u4e00\u4e2a shell \u5e76\u8bbe\u7f6e\u4e00\u4e2a softraid(4) \u8bbe\u5907\u3002 \u5b89\u88c5\u5185\u6838\u5728\u542f\u52a8\u65f6\u53ea\u6709\u6709\u9650\u6570\u91cf\u7684 /dev \u6761\u76ee\uff0c\u56e0\u6b64\u4f60\u9700\u8981\u4e3a\u4f60\u7684 softraid \u8bbe\u7f6e\u624b\u52a8\u521b\u5efa\u6240\u9700\u7684\u78c1\u76d8\u8bbe\u5907\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u9700\u8981\u652f\u6301\u4e09\u4e2a sd(4) \u8bbe\u5907\uff0c\u5219\u53ef\u4ee5\u4ece shell \u63d0\u793a\u7b26\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a Welcome to the OpenBSD/amd64 7.0 installation program. (I)nstall, (U)pgrade, (A)utoinstall or (S)hell? s # cd /dev # sh MAKEDEV sd0 sd1 sd2 \u5b89\u88c5\u7a0b\u5e8f\u73b0\u5728\u5c06\u5b8c\u5168\u652f\u6301 sd0 \u3001 sd1 \u548c sd2 \u8bbe\u5907\u3002\u5982\u679c\u8981\u4ece USB \u9a71\u52a8\u5668\u5b89\u88c5\u8fd9\u4e9b \u5957\u4ef6 \uff0c\u4e5f\u4e0d\u8981\u5fd8\u8bb0\u8003\u8651\u8be5\u8bbe\u5907\u3002 \u63a5\u4e0b\u6765\uff0c\u4f7f\u7528 fdisk(8) \u521d\u59cb\u5316\u78c1\u76d8\u5e76\u4f7f\u7528 disklabel(8) \u521b\u5efa RAID \u5206\u533a\u3002 \u5982\u679c\u4f60\u4ece MBR \u542f\u52a8\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # fdisk -iy sd0 # fdisk -iy sd1 \u5982\u679c\u4f60\u4f7f\u7528 GPT \u8fdb\u884c UEFI \u5f15\u5bfc\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # fdisk -iy -g -b 960 sd0 # fdisk -iy -g -b 960 sd1 \u5728\u7b2c\u4e00\u53f0\u8bbe\u5907\u4e0a\u521b\u5efa\u5206\u533a\u5e03\u5c40\uff08partition layout\uff09\uff1a # disklabel -E sd0 Label editor (enter '?' for help at any prompt) sd0> a a offset: [64] size: [39825135] * FS type: [4.2BSD] RAID sd0*> w sd0> q No label changes. \u5c06\u5206\u533a\u5e03\u5c40\u590d\u5236\u5230\u7b2c\u4e8c\u4e2a\u8bbe\u5907\uff1a # disklabel sd0 > layout # disklabel -R sd1 layout # rm layout \u4f7f\u7528 bioctl(8) \u547d\u4ee4\u7ec4\u88c5\u955c\u50cf\uff1a # bioctl -c 1 -l sd0a,sd1a softraid0 scsibus1 at softraid0: 1 targets sd2 at scsibus2 targ 0 lun 0: <OPENBSD, SR RAID 1, 005> SCSI2 0/direct fixed sd2: 10244MB, 512 bytes/sec, 20980362 sec total \u8fd9\u8868\u660e\u6211\u4eec\u73b0\u5728\u6709\u4e00\u4e2a\u65b0\u7684 SCSI \u603b\u7ebf\u548c\u4e00\u4e2a\u65b0\u7684\u78c1\u76d8 sd2\u3002\u7cfb\u7edf\u542f\u52a8\u65f6\u5c06\u81ea\u52a8\u68c0\u6d4b\u5e76\u7ec4\u88c5\u6b64\u5377\u3002 \u5373\u4f7f\u4f60\u521b\u5efa\u4e86\u591a\u4e2a RAID \u9635\u5217\uff0c\u8bbe\u5907\u540d\u79f0\u4e5f\u5c06\u59cb\u7ec8\u4e3a softraid0 \u3002\u4e0d\u4f1a\u6709 softraid1 \u6216\u5176\u4ed6\u4efb\u4f55\u4e1c\u897f\u3002 \u56e0\u4e3a\u65b0\u8bbe\u5907\u53ef\u80fd\u6709\u5f88\u591a\u65e0\u7528\u6570\u636e\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u4e3b\u5f15\u5bfc\u8bb0\u5f55\u548c\u78c1\u76d8\u6807\u7b7e\uff0c\u6240\u4ee5\u5f3a\u70c8\u5efa\u8bae\u5c06\u5b83\u7684\u7b2c\u4e00\u4e2a\u5757\u6e05\u96f6\u3002\u4f7f\u7528\u6b64\u547d\u4ee4\u8981 \u975e\u5e38\u5c0f\u5fc3 \uff1b\u5728\u9519\u8bef\u7684\u8bbe\u5907\u4e0a\u5e94\u7528\u5b83\u53ef\u80fd\u4f1a\u5bfc\u81f4\u975e\u5e38\u7cdf\u7cd5\u7684\u4e00\u5929\u3002\u8fd9\u5047\u8bbe\u65b0\u7684 softraid \u8bbe\u5907\u521b\u5efa\u4e3a sd2 \u3002 # dd if=/dev/zero of=/dev/rsd2c bs=1m count=1 \u4f60\u73b0\u5728\u5df2\u51c6\u5907\u597d\u5728\u4f60\u7684\u7cfb\u7edf\u4e0a\u5b89\u88c5 OpenBSD\u3002\u901a\u8fc7\u5728\u542f\u52a8\u4ecb\u8d28\u63a7\u5236\u53f0\u4e0a\u8c03\u7528 \u201c\u5b89\u88c5\u201d \u6216 \u201c\u9000\u51fa\u201d \u6765\u6b63\u5e38\u6267\u884c\u5b89\u88c5\u3002\u5728\u65b0\u7684 softraid \u78c1\u76d8\uff08\u6b64\u5904\u793a\u4f8b\u4e2d\u7684 sd2\uff09\u4e0a\u521b\u5efa\u6240\u6709\u5206\u533a\uff0c\u800c\u4e0d\u662f\u5728 sd0 \u6216 sd1 \uff08\u975e RAID \u78c1\u76d8\uff09\u4e0a\u3002 \u8981\u68c0\u67e5\u955c\u50cf\u7684\u72b6\u6001\uff0c\u8bf7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a # bioctl sd2 \u6bcf\u665a\u68c0\u67e5\u72b6\u6001\u7684 cron \u4f5c\u4e1a\u53ef\u80fd\u662f\u4e2a\u597d\u4e3b\u610f\u3002","title":"\u5b89\u88c5\u81f3\u955c\u50cf"},{"location":"openbsd-faq/faq14/#\u91cd\u5efa\u955c\u50cf","text":"\u5f53\u9a71\u52a8\u5668\u53d1\u751f\u6545\u969c\u65f6\uff0c\u4f60\u5c06\u66f4\u6362\u6545\u969c\u9a71\u52a8\u5668\uff0c\u521b\u5efa RAID \u548c\u5176\u4ed6 BSD \u76d8\u6807\u5206\u533a\uff0c\u7136\u540e\u91cd\u5efa\u955c\u50cf\u3002\u5047\u8bbe\u4f60\u7684 RAID \u5377\u662f sd2 \u5e76\u4e14\u4f60\u6b63\u5728\u7528 sd1m \u66ff\u6362\u51fa\u73b0\u6545\u969c\u7684\u8bbe\u5907\uff0c\u4ee5\u4e0b\u547d\u4ee4\u5e94\u8be5\u53ef\u4ee5\u5de5\u4f5c\uff1a # bioctl -R /dev/sd1m sd2 \u8fd9\u4e5f\u53ef\u4ee5\u5728 \u5355\u7528\u6237\u6a21\u5f0f \u4e0b\u6216\u4ece \u5b89\u88c5\u5185\u6838 \u6267\u884c\u3002","title":"\u91cd\u5efa\u955c\u50cf"},{"location":"openbsd-faq/faq14/#\u5168\u76d8\u52a0\u5bc6","text":"\u4e0e RAID \u975e\u5e38\u76f8\u4f3c\uff0cOpenBSD \u4e2d\u7684\u5168\u76d8\u52a0\u5bc6\u7531 softraid(4) \u5b50\u7cfb\u7edf\u548c bioctl(8) \u547d\u4ee4\u5904\u7406\u3002\u672c\u8282\u4ecb\u7ecd\u4e86\u5c06 OpenBSD \u5b89\u88c5\u5230\u5355\u4e2a\u52a0\u5bc6\u78c1\u76d8\u7684\u8fc7\u7a0b\uff0c\u8fd9\u4e0e\u4e0a\u4e00\u8282\u975e\u5e38\u76f8\u4f3c\u3002\u8bf7\u6ce8\u610f\uff0c\u6b64\u65f6 \u4e0d\u652f\u6301 \u201c\u5806\u53e0\u201d \u8f6f RAID \u6a21\u5f0f\u3002 \u5728\u521d\u59cb\u63d0\u793a\u4e0b\u9009\u62e9 (S)hell\uff1a Welcome to the OpenBSD/amd64 7.0 installation program. (I)nstall, (U)pgrade, (A)utoinstall or (S)hell? s \u4ece\u8fd9\u91cc\u5f00\u59cb\uff0c\u4f60\u5c06\u5728\u5b9e\u65f6\uff08live\uff09\u73af\u5883\u4e2d\u83b7\u5f97\u4e00\u4e2a shell \u6765\u64cd\u4f5c\u78c1\u76d8\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c06\u5b89\u88c5\u5230 sd0 SATA \u9a71\u52a8\u5668\uff0c\u64e6\u9664\u5b83\u4e4b\u524d\u7684\u6240\u6709\u5185\u5bb9\u3002 \u7531\u4e8e\u5b89\u88c5\u7a0b\u5e8f\u9ed8\u8ba4\u6ca1\u6709\u5f88\u591a\u8bbe\u5907\u8282\u70b9\uff0c\u8bf7\u786e\u4fdd /dev/sd0 \u8bbe\u5907\u5b58\u5728\uff1a # cd /dev && sh MAKEDEV sd0 \u9996\u5148\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u4ee5\u4e0b\u5185\u5bb9\u5c06\u968f\u673a\u6570\u636e\u5199\u5165\u9a71\u52a8\u5668\uff1a # dd if=/dev/urandom of=/dev/rsd0c bs=1m \u8fd9\u53ef\u80fd\u662f\u4e00\u4e2a\u975e\u5e38\u8017\u65f6\u7684\u8fc7\u7a0b\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e CPU \u548c\u78c1\u76d8\u7684\u901f\u5ea6\u4ee5\u53ca\u78c1\u76d8\u7684\u5927\u5c0f\u3002 \u5982\u679c\u4f60\u4e0d\u5411\u6574\u4e2a\u8bbe\u5907\u5199\u5165\u968f\u673a\u6570\u636e\uff0c\u653b\u51fb\u8005\u53ef\u80fd\u4f1a\u63a8\u65ad\u51fa\u5b9e\u9645\u4f7f\u7528\u4e86\u591a\u5c11\u7a7a\u95f4\u3002 \u63a5\u4e0b\u6765\uff0c\u4f7f\u7528 fdisk(8) \u521d\u59cb\u5316\u78c1\u76d8\u5e76\u4f7f\u7528 disklabel(8) \u521b\u5efa softraid \u5206\u533a\u3002 \u5982\u679c\u4f60\u4ece MBR \u542f\u52a8\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # fdisk -iy sd0 \u5982\u679c\u4f60\u4f7f\u7528 GPT \u8fdb\u884c UEFI \u5f15\u5bfc\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # fdisk -iy -g -b 960 sd0 \u63a5\u4e0b\u6765\uff0c\u521b\u5efa\u5206\u533a\u5e03\u5c40\uff1a # disklabel -E sd0 Label editor (enter '?' for help at any prompt) sd0> a a offset: [64] size: [39825135] * FS type: [4.2BSD] RAID sd0*> w sd0> q No label changes. \u6211\u4eec\u5c06\u4f7f\u7528\u6574\u4e2a\u78c1\u76d8\uff0c\u4f46\u8bf7\u6ce8\u610f\uff0c\u52a0\u5bc6\u8bbe\u5907\u53ef\u4ee5\u62c6\u5206\u4e3a\u591a\u4e2a\u5206\u533a\uff0c\u5c31\u597d\u50cf\u5b83\u662f\u4e00\u4e2a\u666e\u901a\u7684\u786c\u76d8\u9a71\u52a8\u5668\u4e00\u6837\u3002 \u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u5728\u6211\u4eec\u7684 \u201ca\u201d \u5206\u533a\u4e0a\u6784\u5efa\u52a0\u5bc6\u8bbe\u5907\u3002 # bioctl -c C -l sd0a softraid0 New passphrase: Re-type passphrase: sd1 at scsibus2 targ 1 lun 0: <OPENBSD, SR CRYPTO, 005> SCSI2 0/direct fixed sd1: 19445MB, 512 bytes/sector, 39824607 sectors softraid0: CRYPTO volume attached as sd1 \u4f60\u53ef\u80fd\u60f3\u8981\u4f7f\u7528 \u5bc6\u94a5\u76d8 \uff08keydisk\uff09\u800c\u4e0d\u662f\u5bc6\u7801\u77ed\u8bed\uff1a \u786e\u4fdd /dev/sd1 \u8bbe\u5907\u88ab\u8003\u8651\u5728\u5185\uff1a # cd /dev && sh MAKEDEV sd1 \u5199\u5165 sd1 \u7684\u6240\u6709\u6570\u636e\u73b0\u5728\u90fd\u5c06\u5728 XTS \u6a21\u5f0f\u4e0b\u4f7f\u7528 AES \u52a0\u5bc6\u3002 \u4e0e\u524d\u9762\u7684\u793a\u4f8b\u4e00\u6837\uff0c\u6211\u4eec\u5c06\u8986\u76d6\u65b0\u7684\u4f2a\u8bbe\u5907\uff08pseudo-device\uff09\u7684\u7b2c\u4e00\u5146\u5b57\u8282\u3002 # dd if=/dev/zero of=/dev/rsd1c bs=1m count=1 \u952e\u5165 exit \u8fd4\u56de\u4e3b\u5b89\u88c5\u7a0b\u5e8f\uff0c\u7136\u540e\u9009\u62e9\u6b64\u65b0\u8bbe\u5907\u4f5c\u4e3a\u4f60\u7684\u5b89\u88c5\u8bbe\u5907\u3002 [...] Available disks are: sd0 sd1. Which disk is the root disk? ('?' for details) [sd0] sd1 \u542f\u52a8\u65f6\u5c06\u63d0\u793a\u4f60\u8f93\u5165\u5bc6\u7801\uff0c\u4f46\u6240\u6709\u5176\u4ed6\u64cd\u4f5c\u90fd\u5e94\u900f\u660e\u5904\u7406\u3002","title":"\u5168\u76d8\u52a0\u5bc6"},{"location":"openbsd-faq/faq14/#\u4f7f\u7528\u5bc6\u94a5\u76d8","text":"\u4f5c\u4e3a\u4f7f\u7528\u5bc6\u7801\u77ed\u8bed\u7684\u66ff\u4ee3\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528\u5b58\u50a8\u5728\u5355\u72ec\u8bbe\u5907\uff08\u4f8b\u5982 U \u76d8\uff09\u4e0a\u7684\u5bc6\u94a5\u6765\u89e3\u9501\u4f60\u7684\u52a0\u5bc6\u78c1\u76d8\u3002 \u4f7f\u7528 fdisk(8) \u521d\u59cb\u5316\u4f60\u7684\u5bc6\u94a5\u76d8\uff08keydisk\uff09\uff0c\u7136\u540e\u4f7f\u7528 disklabel(8) \u4e3a\u5bc6\u94a5\u6570\u636e\u521b\u5efa\u4e00\u4e2a 1 MB \u7684 RAID \u5206\u533a\u3002 \u5982\u679c\u4f60\u7684\u5bc6\u94a5\u76d8\u662f sd1 \u800c\u4f60\u8981\u52a0\u5bc6\u7684\u9a71\u52a8\u5668\u662f sd0 \uff0c\u5219\u8f93\u51fa\u5c06\u5982\u4e0b\u6240\u793a\uff1a # bioctl -c C -k sd1a -l sd0a softraid0 sd2 at scsibus3 targ 1 lun 0: <OPENBSD, SR CRYPTO, 005> SCSI2 0/direct fixed sd2: 19445MB, 512 bytes/sector, 39824607 sectors softraid0: CRYPTO volume attached as sd2 \u7cfb\u7edf\u4e0d\u4f1a\u63d0\u793a\u4f60\u8f93\u5165\u5bc6\u7801\uff0c\u56e0\u4e3a\u4f60\u4f7f\u7528\u7684\u662f\u5bc6\u94a5\u76d8\u3002\u5fc5\u987b\u5728\u542f\u52a8\u65f6\u63d2\u5165\u5bc6\u94a5\u76d8\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 dd(1) \u5907\u4efd\u548c\u6062\u590d\u4f60\u7684\u5bc6\u94a5\u76d8\uff1a # dd bs=8192 skip=1 if=/dev/rsd1a of=backup-keydisk.img # dd bs=8192 seek=1 if=backup-keydisk.img of=/dev/rsd1a","title":"\u4f7f\u7528\u5bc6\u94a5\u76d8"},{"location":"openbsd-faq/faq14/#\u52a0\u5bc6\u5916\u90e8\u78c1\u76d8","text":"\u672c\u8282\u8bf4\u660e\u5982\u4f55\u4e3a\u5916\u90e8 USB \u9a71\u52a8\u5668\u8bbe\u7f6e\u52a0\u5bc6\u8f6f RAID \u5377\u3002\u5982\u679c\u4f60\u5df2\u7ecf\u9605\u8bfb\u4e86\u6709\u5173\u5168\u76d8\u52a0\u5bc6\u7684\u90e8\u5206\uff0c\u90a3\u4e48\u5e94\u8be5\u975e\u5e38\u719f\u6089\u3002\u6b65\u9aa4\u6982\u8981\u5982\u4e0b\uff1a \u7528\u968f\u673a\u6570\u636e\u8986\u76d6\u9a71\u52a8\u5668\u7684\u5185\u5bb9 \u4f7f\u7528 disklabel(8) \u521b\u5efa\u6240\u9700\u7684 RAID \u7c7b\u578b\u5206\u533a \u4f7f\u7528 bioctl(8) \u52a0\u5bc6\u9a71\u52a8\u5668 \u5c06\u65b0\u4f2a\u5206\u533a\u7684\u7b2c\u4e00\u5146\u5b57\u8282\u5f52\u96f6 \u4f7f\u7528 newfs(8) \u5728\u4f2a\u8bbe\u5907\u4e0a\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf \u89e3\u9501\u5e76\u4f7f\u7528 mount(8) \u6302\u8f7d\u65b0\u7684\u4f2a\u8bbe\u5907 \u6839\u636e\u9700\u8981\u8bbf\u95ee\u6587\u4ef6 \u5378\u8f7d\u9a71\u52a8\u5668\u5e76\u5206\u79bb\u52a0\u5bc6\u5bb9\u5668 \u4e0b\u9762\u662f\u8fd9\u4e9b\u6b65\u9aa4\u7684\u5feb\u901f\u793a\u4f8b\uff0c\u5176\u4e2d sd3 \u662f USB \u9a71\u52a8\u5668\uff1a # dd if=/dev/urandom of=/dev/rsd3c bs=1m # fdisk -iy sd3 # disklabel -E sd3 # make an \"a\" partition of type RAID # bioctl -c C -l sd3a softraid0 New passphrase: Re-type passphrase: softraid0: CRYPTO volume attached as sd4 # dd if=/dev/zero of=/dev/rsd4c bs=1m count=1 # fdisk -iy sd4 # disklabel -E sd4 # make an \"i\" partition # newfs sd4i # mkdir -p /mnt/secretstuff # mount /dev/sd4i /mnt/secretstuff # mv somefile /mnt/secretstuff/ # umount /mnt/secretstuff # bioctl -d sd4 \u7528\u4e8e\u521b\u5efa\u5377\u7684\u76f8\u540c bioctl(8) \u547d\u4ee4\u53ef\u7528\u4e8e\u7a0d\u540e\u9644\u52a0\u5b83\u3002","title":"\u52a0\u5bc6\u5916\u90e8\u78c1\u76d8"},{"location":"openbsd-faq/faq15/","text":"OpenBSD FAQ - \u8f6f\u4ef6\u5305\u7ba1\u7406 \u00b6 \u4ecb\u7ecd \u00b6 \u5728 OpenBSD \u7cfb\u7edf\u4e0a\u53ef\u80fd\u6709\u8bb8\u591a\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u4f7f\u7528\u3002\u4e3a\u4e86\u4f7f\u8fd9\u4e2a\u8f6f\u4ef6\u66f4\u6613\u4e8e\u5b89\u88c5\u548c\u7ba1\u7406\uff0c\u5b83\u88ab\u79fb\u690d\uff08port\uff09\u5230 OpenBSD \u5e76\u6253\u5305\u3002\u8f6f\u4ef6\u5305\u7cfb\u7edf\u7684\u76ee\u7684\u662f\u8ddf\u8e2a\u5b89\u88c5\u4e86\u54ea\u4e9b\u8f6f\u4ef6\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u8f7b\u677e\u66f4\u65b0\u6216\u5220\u9664\u5b83\u3002\u501f\u52a9\u8be5\u7cfb\u7edf\u7684\u5e2e\u52a9\uff0c\u5728\u51e0\u5206\u949f\u5185\u53ef\u4ee5\u83b7\u53d6\u5e76\u5b89\u88c5\u5927\u91cf\u8f6f\u4ef6\u5305\uff0c\u5e76\u5c06\u6240\u6709\u5185\u5bb9\u653e\u5728\u6b63\u786e\u7684\u4f4d\u7f6e\u3002 Ports collections \u5e76\u6ca1\u6709\u7ecf\u8fc7\u4e0e OpenBSD \u57fa\u672c\u7cfb\u7edf\u76f8\u540c\u7684\u5168\u9762\u5b89\u5168\u5ba1\u8ba1\u3002\u5c3d\u7ba1\u6211\u4eec\u52aa\u529b\u4fdd\u6301\u8f6f\u4ef6\u5305\u7684\u9ad8\u54c1\u8d28\uff0c\u4f46\u6211\u4eec\u53ea\u662f\u6ca1\u6709\u8db3\u591f\u7684\u8d44\u6e90\u6765\u786e\u4fdd\u76f8\u540c\u6c34\u5e73\u7684\u7a33\u5065\u6027\u548c\u5b89\u5168\u6027\u3002 OpenBSD ports \u56e2\u961f\u8ba4\u4e3a\u8f6f\u4ef6\u5305\uff08package\uff09\u624d\u662f\u4ed6\u4eec\u79fb\u690d\u5de5\u4f5c\u7684\u76ee\u6807\uff0c \u800c\u4e0d\u662f port \u672c\u8eab\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u5efa\u8bae\u4f60\u4f7f\u7528\u8f6f\u4ef6\u5305\uff0c\u800c\u4e0d\u662f\u4ece ports \u6784\u5efa\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u3002 \u501f\u52a9\u591a\u4e2a\u5b9e\u7528\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u8f7b\u677e\u7ba1\u7406\u8f6f\u4ef6\u5305\uff1a pkg_add(1) - \u7528\u4e8e\u5b89\u88c5\u548c\u66f4\u65b0\u8f6f\u4ef6\u5305 pkg_check(8) - \u7528\u4e8e\u68c0\u67e5\u5df2\u5b89\u88c5\u8f6f\u4ef6\u5305\u7684\u4e00\u81f4\u6027 pkg_delete(1) - \u7528\u4e8e\u5220\u9664\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305 pkg_info(1) - \u7528\u4e8e\u663e\u793a\u6709\u5173\u5305\u7684\u4fe1\u606f \u4e3a\u4e86\u6b63\u5e38\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f X\uff0c\u53ef\u80fd\u9700\u8981\u5b89\u88c5\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f Y \u548c Z\u3002 \u5e94\u7528\u7a0b\u5e8f X \u88ab\u79f0\u4e3a\u4f9d\u8d56\u4e8e\u8fd9\u4e9b\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48 Y \u548c Z \u88ab\u79f0\u4e3a X \u7684\u4f9d\u8d56\u5173\u7cfb\u3002\u53cd\u8fc7\u6765\uff0cY \u53ef\u80fd\u9700\u8981\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f P \u548c Q\uff0c\u800c Z \u53ef\u80fd\u9700\u8981\u5e94\u7528\u7a0b\u5e8f R \u624d\u80fd\u6b63\u5e38\u8fd0\u884c\u3002\u8fd9\u6837\uff0c\u5c31\u5f62\u6210\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684\u4f9d\u8d56\u6811\u3002 \u8f6f\u4ef6\u5305\u770b\u8d77\u6765\u50cf\u7b80\u5355\u7684 .tgz \u5305\u3002\u57fa\u672c\u4e0a\u5b83\u4eec\u5c31\u662f\u8fd9\u6837\uff0c\u4f46\u6709\u4e00\u4e2a\u5173\u952e\u7684\u533a\u522b\uff1a\u5b83\u4eec\u5305\u542b\u4e00\u4e9b\u989d\u5916\u7684\u6253\u5305\u4fe1\u606f\u3002\u8fd9\u4e9b\u4fe1\u606f\u53ef\u88ab pkg_add(1) \u7528\u4e8e\u591a\u79cd\u7528\u9014\uff1a \u5dee\u5f02\u6027\u68c0\u67e5\uff1a\u8f6f\u4ef6\u5305\u662f\u5426\u5df2\u7ecf\u5b89\u88c5\uff0c\u6216\u8005\u662f\u5426\u4e0e\u5176\u4ed6\u5df2\u5b89\u88c5\u7684\u5305\u6216\u6587\u4ef6\u540d\u51b2\u7a81\uff1f \u5728\u7ee7\u7eed\u5b89\u88c5\u5305\u4e4b\u524d\uff0c\u7cfb\u7edf\u4e0a\u4e0d\u5b58\u5728\u7684\u4f9d\u8d56\u9879\u4f1a\u81ea\u52a8\u83b7\u53d6\u5e76\u5b89\u88c5\u3002 \u6709\u5173\u5305\u7684\u4fe1\u606f\u8bb0\u5f55\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f4d\u4e8e /var/db/pkg \u7684\u4e2d\u5fc3\u5b58\u50a8\u5e93\u4e2d\u3002\u9664\u5176\u4ed6\u5916\uff0c\u8fd9\u5c06\u9632\u6b62\u5728\u5305\u672c\u8eab\u88ab\u5220\u9664\u4e4b\u524d\u5220\u9664\u5305\u7684\u4f9d\u8d56\u9879\u3002\u8fd9\u6709\u52a9\u4e8e\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u4e0d\u4f1a\u88ab\u7c97\u5fc3\u7684\u7528\u6237\u610f\u5916\u7834\u574f\u3002 \u9009\u62e9\u955c\u50cf \u00b6 pkg_add(1) \u5c06\u5728\u4e24\u4e2a\u4f4d\u7f6e\u67e5\u627e\u8f6f\u4ef6\u5305\uff1a installurl(5) \u6587\u4ef6 ( /etc/installurl ) \u6216 PKG_PATH \u73af\u5883\u53d8\u91cf\u3002\u524d\u8005\u662f\u9996\u9009\u65b9\u6cd5\uff0c\u5728\u5b89\u88c5\u7cfb\u7edf\u65f6\u88ab\u914d\u7f6e\u4e3a\u9ed8\u8ba4\u65b9\u6848\u3002 \u5982\u679c\u9700\u8981\u4f7f\u7528\u591a\u4e2a\u955c\u50cf\uff0c PKG_PATH \u5141\u8bb8\u901a\u8fc7\u5192\u53f7\u5206\u9694\u7684\u5217\u8868\u6267\u884c\u6b64\u64cd\u4f5c\uff1a # export PKG_PATH=scp://user@company-build-server/usr/ports/packages/%a/all:https://trusted-public-server/%m:installpath \u867d\u7136\u9ed8\u8ba4\u8bbe\u7f6e\u5bf9\u5927\u591a\u6570\u4eba\u6765\u8bf4\u5e94\u8be5\u9002\u7528\uff0c\u4f46\u4f60\u53ef\u4ee5\u5728 \u955c\u50cf\u9875\u9762 \u4e0a\u627e\u5230\u5907\u7528\u4f4d\u7f6e\u5217\u8868\u3002 \u67e5\u8be2\u8f6f\u4ef6\u5305 \u00b6 \u5927\u91cf\u9884\u7f16\u8bd1\u5305\u53ef\u7528\u4e8e\u6700\u5e38\u89c1\u7684\u8ba1\u7b97\u673a\u67b6\u6784\u3002 \u8981\u641c\u7d22\u4efb\u4f55\u7ed9\u5b9a\u7684\u5305\u540d\u79f0\uff0c\u8bf7\u4f7f\u7528 pkg_info(1) \u7684 -Q \u6807\u5fd7\uff08flag\uff09\u3002 $ pkg_info -Q unzip lunzip-1.8 unzip-6.0p9 unzip-6.0p9-iconv \u67e5\u627e\u4f60\u8981\u67e5\u627e\u7684\u5185\u5bb9\u7684\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u4f7f\u7528 pkglocate \u547d\u4ee4\uff0c\u8be5\u547d\u4ee4\u53ef\u4ece pkglocatedb \u5305\u4e2d\u83b7\u5f97\u3002 $ pkglocate mutool mupdf-1.11p1-js:textproc/mupdf,js:/usr/local/bin/mutool mupdf-1.11p1-js:textproc/mupdf,js:/usr/local/man/man1/mutool.1 mupdf-1.11p1:textproc/mupdf:/usr/local/bin/mutool mupdf-1.11p1:textproc/mupdf:/usr/local/man/man1/mutool.1 \u5982\u679c\u4f60\u6b63\u5728\u5bfb\u627e\u7279\u5b9a\u7684\u6587\u4ef6\u540d\uff0c\u5b83\u53ef\u7528\u4e8e\u67e5\u627e\u5305\u542b\u8be5\u6587\u4ef6\u7684\u5305\u3002 \u4f60\u4f1a\u6ce8\u610f\u5230\u67d0\u4e9b\u8f6f\u4ef6\u5305\u6709\u51e0\u79cd\u4e0d\u540c\u7684\u79cd\u7c7b\u3002\u8fd9\u4e9b\u88ab\u79f0\u4e3a flavors \u3002 Ports \u5e38\u89c1\u95ee\u9898\u89e3\u7b54 \u8be6\u7ec6\u89e3\u91ca\u4e86 flavors\uff0c\u4f46\u8fd9\u57fa\u672c\u4e0a\u610f\u5473\u7740\u5b83\u4eec\u914d\u7f6e\u4e86\u4e0d\u540c\u7684\u9009\u9879\u96c6\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u5305\u53ef\u80fd\u6709\u53ef\u9009\u7684\u6570\u636e\u5e93\u652f\u6301\u3001\u5bf9\u6ca1\u6709 X11 \u7684\u7cfb\u7edf\u7684\u652f\u6301\u7b49\u3002\u4e00\u4e9b\u5305\u4e5f\u88ab\u5206\u6210\u53ef\u4ee5\u5355\u72ec\u5b89\u88c5\u7684\u5b50\u5305\uff08subpackages\uff09\u3002 \u5b89\u88c5\u8f6f\u4ef6\u5305 \u00b6 pkg_add(1) \u5b9e\u7528\u7a0b\u5e8f\u7528\u4e8e\u5b89\u88c5\u8f6f\u4ef6\u5305\u3002\u5982\u679c\u5b58\u5728\u591a\u79cd\u7248\u672c\u7684\u8f6f\u4ef6\u5305\uff0c\u7cfb\u7edf\u5c06\u63d0\u793a\u4f60\u9009\u62e9\u8981\u5b89\u88c5\u7684\u7248\u672c\u3002 # pkg_add rsync Ambiguous: choose package for rsync a 0: <None> 1: rsync-3.1.2p0 2: rsync-3.1.2p0-iconv Your choice: \u5728\u8fd9\u91cc\uff0c\u5982\u679c\u4f60\u9700\u8981\u6807\u51c6\u5305\uff0c\u8bf7\u9009\u62e9 1 \uff0c\u5982\u679c\u9700\u8981 iconv \u652f\u6301\uff0c\u8bf7\u9009\u62e9 2 \u3002 \u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 pkg_add rsync-- \uff08\u5bf9\u4e8e\u9ed8\u8ba4\u503c\uff09\u6216 pkg_add rsync--iconv \uff08\u5bf9\u4e8e iconv \u7248\u672c\uff09\u76f4\u63a5\u5728\u547d\u4ee4\u884c\u4e0a\u9009\u62e9 flavor\u3002 \u4f60\u53ef\u4ee5\u5728\u4e00\u884c\u4e2d\u6307\u5b9a\u591a\u4e2a\u5305\u540d\uff0c\u7136\u540e\u4e00\u6b21\u6027\u5b89\u88c5\u6240\u6709\u5305\u53ca\u5176\u4f9d\u8d56\u9879\u3002\u4f60\u8fd8\u53ef\u4ee5\u6307\u5b9a\u5305\u7684\u7edd\u5bf9\u4f4d\u7f6e\uff0c\u65e0\u8bba\u662f\u672c\u5730\u6587\u4ef6\u8fd8\u662f\u8fdc\u7a0b URL\u3002 \u652f\u6301\u7684 URL \u524d\u7f00\u662f http\u3001https\u3001ftp \u548c scp\u3002 \u5bf9\u4e8e\u67d0\u4e9b\u8f6f\u4ef6\u5305\uff0c\u5c06\u63d0\u4f9b\u6709\u5173\u5e94\u7528\u7a0b\u5e8f\u914d\u7f6e\u6216\u4f7f\u7528\u7684\u91cd\u8981\u9644\u52a0\u4fe1\u606f\u3002 # pkg_add jove jove-4.16.0.73p0: ok --- +jove-4.16.0.73p0 ------------------- See /usr/local/share/jove/README about changes to /etc/rc or /etc/rc.local so that the system recovers jove files on reboot after a system crash \u6b64\u5916\uff0c\u67d0\u4e9b\u8f6f\u4ef6\u5305\u5728\u4f4d\u4e8e /usr/local/share/doc/pkg-readmes \u7684\u6587\u4ef6\u4e2d\u63d0\u4f9b\u914d\u7f6e\u548c\u5176\u4ed6\u4fe1\u606f\u3002 \u4e3a\u4e86\u4f60\u7684\u5b89\u5168\uff0c\u5982\u679c\u4f60\u6b63\u5728\u5b89\u88c5\u4e4b\u524d\u5b89\u88c5\u5e76\u5220\u9664\u7684\u8f6f\u4ef6\u5305\uff0c\u5219\u4e0d\u4f1a\u8986\u76d6\u5df2\u4fee\u6539\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u66f4\u65b0\u5305\u65f6\u4e5f\u662f\u5982\u6b64\u3002 \u6709\u65f6\u4f60\u53ef\u80fd\u4f1a\u9047\u5230\u7c7b\u4f3c\u4ee5\u4e0b\u793a\u4f8b\u4e2d\u7684\u9519\u8bef\uff1a # pkg_add xv xv-3.10ap4:jpeg-6bp3: ok xv-3.10ap4:png-1.2.14p0: ok xv-3.10ap4:tiff-3.8.2p0: ok Can't install xv-3.10ap15 because of libraries |library X11.16.1 not found | not found anywhere Direct dependencies for xv-3.10ap15 resolve to png-1.6.31 jasper-1.900.1p5 tiff-4.0.8p1 jpeg-1.5.1p0v0 Full dependency tree is png-1.6.31 tiff-4.0.8p1 jasper-1.900.1p5 jpeg-1.5.1p0v0 \u8f6f\u4ef6\u5305\u4e2d\u6346\u7ed1\u7684\u6253\u5305\u4fe1\u606f\u5305\u62ec\u6709\u5173\u8be5\u5305\u5e0c\u671b\u5b89\u88c5\u7684\u5171\u4eab\u5e93\u7684\u4fe1\u606f\u3002\u5982\u679c\u627e\u4e0d\u5230\u6240\u9700\u7684\u5e93\u4e4b\u4e00\uff0c\u5219\u4e0d\u4f1a\u5b89\u88c5\u8be5\u8f6f\u4ef6\u5305\uff0c\u56e0\u4e3a\u5b83\u65e0\u8bba\u5982\u4f55\u90fd\u4e0d\u4f1a\u5de5\u4f5c\u3002 \u6709\u51e0\u4ef6\u4e8b\u8981\u68c0\u67e5\uff1a \u4f60\u7684\u7cfb\u7edf\u53ef\u80fd\u4e0d\u5b8c\u6574\uff1a\u4f60\u6ca1\u6709\u5b89\u88c5\u542b\u6709\u5f85\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\u6240\u9700\u7684\u4f9d\u8d56\u5e93\u7684\u6587\u4ef6\u96c6\u3002 \u4f60\u7684\u7cfb\u7edf\uff08\u6216\u8f6f\u4ef6\u5305\uff09\u53ef\u80fd\u5df2\u8fc7\u65f6\uff1a\u4f60\u6709\u6240\u9700\u5e93\u7684\u65e7\u7248\u672c\u3002\u786e\u4fdd\u57fa\u672c\u7cfb\u7edf\u548c\u4efb\u4f55\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\u90fd\u662f\u6700\u65b0\u7684\u3002 \u5982\u679c\u4f60\u6b63\u5728\u8fd0\u884c -current \uff0c\u57fa\u7840\u7cfb\u7edf\u548c\u5305\u5feb\u7167\u53ef\u80fd\u4f1a\u7a0d\u5fae\u4e0d\u540c\u6b65\u3002\u4f60\u53ef\u4ee5\u7b49\u5f85\u955c\u50cf\u7ad9\u540c\u6b65\u540e\u5e76\u91cd\u8bd5\u3002 \u5347\u7ea7\u8f6f\u4ef6\u5305 \u00b6 \u53ef\u4ee5\u4f7f\u7528 pkg_add(1) \u66f4\u65b0\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\uff0c\u5982\u4e0b\u6240\u793a\uff1a # pkg_add -u \u8fd9\u5c06\u5c1d\u8bd5\u66f4\u65b0\u6240\u6709\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\uff0c\u5305\u62ec\u5b83\u4eec\u7684\u4f9d\u8d56\u9879\u3002 \u79fb\u9664\u8f6f\u4ef6\u5305 \u00b6 \u8981\u5220\u9664\u5305\uff0c\u53ea\u9700\u4f7f\u7528 pkg_delete(1) \uff1a # pkg_delete screen \u540c\u6837\uff0c\u5df2\u4fee\u6539\u7684\u914d\u7f6e\u6587\u4ef6\u4e0d\u4f1a\u88ab\u5220\u9664\u3002 \u4e0d\u518d\u9700\u8981\u7684\u4f9d\u8d56\u9879\u4e4b\u540e\u53ef\u4ee5\u4f7f\u7528 -a \u6807\u5fd7\u5220\u9664\uff1a # pkg_delete -a \u5728\u53e6\u4e00\u53f0\u673a\u5668\u4e0a\u590d\u5236\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305 \u00b6 \u4f7f\u7528\u4e0e\u65e7\u673a\u5668\u76f8\u540c\u7684\u4e00\u7ec4\u8f6f\u4ef6\u5305\u5b89\u88c5\u65b0\u7684 OpenBSD \u7cfb\u7edf\u662f\u4e00\u4e2a\u76f8\u5f53\u5e38\u89c1\u7684\u7528\u4f8b\u3002 pkg_info(1) \u7684 -mz \u6807\u5fd7\u5c06\u4ea7\u751f\u9002\u5f53\u7684\u7ed3\u679c\u4ee5\u4f7f\u6b64\u4efb\u52a1\u66f4\u5bb9\u6613\u3002 -m \u6807\u5fd7\u4ec5\u9009\u62e9\u624b\u52a8\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\u3002\u4e0d\u8bb0\u5f55\u4f9d\u8d56\u9879\uff0c\u56e0\u4e3a\u5b83\u4eec\u662f\u81ea\u52a8\u62c9\u5165\u7684\u3002 -z \u6807\u5fd7\u4ece\u8f93\u51fa\u4e2d\u6392\u9664\u7248\u672c\u4fe1\u606f\u3002\u53ea\u663e\u793a flavor \u548c\u5206\u652f\uff0c\u786e\u4fdd\u672a\u6765\u7684\u8f6f\u4ef6\u5305\u5b89\u88c5\u5c06\u9009\u62e9\u9002\u5f53\u7684\u7248\u672c\u3002 \u4f8b\u5982\uff1a $ pkg_info -mz | tee list abcde-- mpv-- python--%3.6 vim--no_x11 \u5c06 \u201clist\u201d \u6587\u4ef6\u590d\u5236\u5230\u53e6\u4e00\u53f0\u673a\u5668\u4e0a\u5e76\u8fd0\u884c\uff1a # pkg_add -l list \u6bcf\u4e2a\u5305\u89c4\u8303\u90fd\u6709\u4e00\u4e2a\u9644\u52a0\u5230\u5176\u540d\u79f0\u7684 flavor\uff08 -- \u4f5c\u4e3a\u9ed8\u8ba4\u503c\uff09\uff0c\u5e76\u4e14\u5728\u591a\u4e2a\u7248\u672c\u4e2d\u5171\u5b58\u7684\u5305\u4e5f\u5177\u6709\u5206\u652f\u4fe1\u606f\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u540e\u7eed\u7684 pkg_add(1) \u547d\u4ee4\u5c06\u9009\u62e9 3.6 \u7248\u672c\u5206\u652f\u7684\u5f53\u524d python \u5305\u3002 \u4e0d\u5b8c\u6574\u7684\u8f6f\u4ef6\u5305\u5b89\u88c5\u6216\u5220\u9664 \u00b6 \u5728\u4e00\u4e9b\u5947\u602a\u7684\u60c5\u51b5\u4e0b\uff0c\u7531\u4e8e\u4e0e\u5176\u4ed6\u6587\u4ef6\u51b2\u7a81\uff0c\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u4e00\u4e2a\u5305\u6ca1\u6709\u5b8c\u5168\u6dfb\u52a0\u3002\u4e0d\u5b8c\u6574\u7684\u5b89\u88c5\u901a\u5e38\u5728\u5305\u540d\u524d\u52a0\u4e0a \u201cpartial-\u201d \u6807\u8bb0\u3002 \u4f8b\u5982\uff0c\u5f53\u4f60\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u78b0\u5de7\u6309\u4e0b CTRL+C \u7ec8\u6b62\u5b89\u88c5\u65f6\uff0c\u5c31\u4f1a\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u3002\u5b89\u88c5\u53ef\u4ee5\u7a0d\u540e\u5b8c\u6210\uff0c\u201cpartial-*\u201d \u5305\u4f1a\u6d88\u5931\uff0c\u4e5f\u53ef\u4ee5\u7528 pkg_delete(8) \u5220\u9664\u3002 \u66f4\u4e25\u91cd\u7684\u7cfb\u7edf\u6545\u969c\uff0c\u4f8b\u5982\u6587\u4ef6\u7cfb\u7edf\u95ee\u9898\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4 /var/db/pkg \u635f\u574f\u6216\u4e0d\u4e00\u81f4\u3002 pkg_check(8) \u5b9e\u7528\u7a0b\u5e8f\u53ef\u4ee5\u5e2e\u52a9\u6e05\u7406\u3002","title":"\u8f6f\u4ef6\u5305\u7ba1\u7406"},{"location":"openbsd-faq/faq15/#openbsd-faq---\u8f6f\u4ef6\u5305\u7ba1\u7406","text":"","title":"OpenBSD FAQ - \u8f6f\u4ef6\u5305\u7ba1\u7406"},{"location":"openbsd-faq/faq15/#\u4ecb\u7ecd","text":"\u5728 OpenBSD \u7cfb\u7edf\u4e0a\u53ef\u80fd\u6709\u8bb8\u591a\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u4f7f\u7528\u3002\u4e3a\u4e86\u4f7f\u8fd9\u4e2a\u8f6f\u4ef6\u66f4\u6613\u4e8e\u5b89\u88c5\u548c\u7ba1\u7406\uff0c\u5b83\u88ab\u79fb\u690d\uff08port\uff09\u5230 OpenBSD \u5e76\u6253\u5305\u3002\u8f6f\u4ef6\u5305\u7cfb\u7edf\u7684\u76ee\u7684\u662f\u8ddf\u8e2a\u5b89\u88c5\u4e86\u54ea\u4e9b\u8f6f\u4ef6\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u8f7b\u677e\u66f4\u65b0\u6216\u5220\u9664\u5b83\u3002\u501f\u52a9\u8be5\u7cfb\u7edf\u7684\u5e2e\u52a9\uff0c\u5728\u51e0\u5206\u949f\u5185\u53ef\u4ee5\u83b7\u53d6\u5e76\u5b89\u88c5\u5927\u91cf\u8f6f\u4ef6\u5305\uff0c\u5e76\u5c06\u6240\u6709\u5185\u5bb9\u653e\u5728\u6b63\u786e\u7684\u4f4d\u7f6e\u3002 Ports collections \u5e76\u6ca1\u6709\u7ecf\u8fc7\u4e0e OpenBSD \u57fa\u672c\u7cfb\u7edf\u76f8\u540c\u7684\u5168\u9762\u5b89\u5168\u5ba1\u8ba1\u3002\u5c3d\u7ba1\u6211\u4eec\u52aa\u529b\u4fdd\u6301\u8f6f\u4ef6\u5305\u7684\u9ad8\u54c1\u8d28\uff0c\u4f46\u6211\u4eec\u53ea\u662f\u6ca1\u6709\u8db3\u591f\u7684\u8d44\u6e90\u6765\u786e\u4fdd\u76f8\u540c\u6c34\u5e73\u7684\u7a33\u5065\u6027\u548c\u5b89\u5168\u6027\u3002 OpenBSD ports \u56e2\u961f\u8ba4\u4e3a\u8f6f\u4ef6\u5305\uff08package\uff09\u624d\u662f\u4ed6\u4eec\u79fb\u690d\u5de5\u4f5c\u7684\u76ee\u6807\uff0c \u800c\u4e0d\u662f port \u672c\u8eab\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u5efa\u8bae\u4f60\u4f7f\u7528\u8f6f\u4ef6\u5305\uff0c\u800c\u4e0d\u662f\u4ece ports \u6784\u5efa\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u3002 \u501f\u52a9\u591a\u4e2a\u5b9e\u7528\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u8f7b\u677e\u7ba1\u7406\u8f6f\u4ef6\u5305\uff1a pkg_add(1) - \u7528\u4e8e\u5b89\u88c5\u548c\u66f4\u65b0\u8f6f\u4ef6\u5305 pkg_check(8) - \u7528\u4e8e\u68c0\u67e5\u5df2\u5b89\u88c5\u8f6f\u4ef6\u5305\u7684\u4e00\u81f4\u6027 pkg_delete(1) - \u7528\u4e8e\u5220\u9664\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305 pkg_info(1) - \u7528\u4e8e\u663e\u793a\u6709\u5173\u5305\u7684\u4fe1\u606f \u4e3a\u4e86\u6b63\u5e38\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f X\uff0c\u53ef\u80fd\u9700\u8981\u5b89\u88c5\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f Y \u548c Z\u3002 \u5e94\u7528\u7a0b\u5e8f X \u88ab\u79f0\u4e3a\u4f9d\u8d56\u4e8e\u8fd9\u4e9b\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48 Y \u548c Z \u88ab\u79f0\u4e3a X \u7684\u4f9d\u8d56\u5173\u7cfb\u3002\u53cd\u8fc7\u6765\uff0cY \u53ef\u80fd\u9700\u8981\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f P \u548c Q\uff0c\u800c Z \u53ef\u80fd\u9700\u8981\u5e94\u7528\u7a0b\u5e8f R \u624d\u80fd\u6b63\u5e38\u8fd0\u884c\u3002\u8fd9\u6837\uff0c\u5c31\u5f62\u6210\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684\u4f9d\u8d56\u6811\u3002 \u8f6f\u4ef6\u5305\u770b\u8d77\u6765\u50cf\u7b80\u5355\u7684 .tgz \u5305\u3002\u57fa\u672c\u4e0a\u5b83\u4eec\u5c31\u662f\u8fd9\u6837\uff0c\u4f46\u6709\u4e00\u4e2a\u5173\u952e\u7684\u533a\u522b\uff1a\u5b83\u4eec\u5305\u542b\u4e00\u4e9b\u989d\u5916\u7684\u6253\u5305\u4fe1\u606f\u3002\u8fd9\u4e9b\u4fe1\u606f\u53ef\u88ab pkg_add(1) \u7528\u4e8e\u591a\u79cd\u7528\u9014\uff1a \u5dee\u5f02\u6027\u68c0\u67e5\uff1a\u8f6f\u4ef6\u5305\u662f\u5426\u5df2\u7ecf\u5b89\u88c5\uff0c\u6216\u8005\u662f\u5426\u4e0e\u5176\u4ed6\u5df2\u5b89\u88c5\u7684\u5305\u6216\u6587\u4ef6\u540d\u51b2\u7a81\uff1f \u5728\u7ee7\u7eed\u5b89\u88c5\u5305\u4e4b\u524d\uff0c\u7cfb\u7edf\u4e0a\u4e0d\u5b58\u5728\u7684\u4f9d\u8d56\u9879\u4f1a\u81ea\u52a8\u83b7\u53d6\u5e76\u5b89\u88c5\u3002 \u6709\u5173\u5305\u7684\u4fe1\u606f\u8bb0\u5f55\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f4d\u4e8e /var/db/pkg \u7684\u4e2d\u5fc3\u5b58\u50a8\u5e93\u4e2d\u3002\u9664\u5176\u4ed6\u5916\uff0c\u8fd9\u5c06\u9632\u6b62\u5728\u5305\u672c\u8eab\u88ab\u5220\u9664\u4e4b\u524d\u5220\u9664\u5305\u7684\u4f9d\u8d56\u9879\u3002\u8fd9\u6709\u52a9\u4e8e\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u4e0d\u4f1a\u88ab\u7c97\u5fc3\u7684\u7528\u6237\u610f\u5916\u7834\u574f\u3002","title":"\u4ecb\u7ecd"},{"location":"openbsd-faq/faq15/#\u9009\u62e9\u955c\u50cf","text":"pkg_add(1) \u5c06\u5728\u4e24\u4e2a\u4f4d\u7f6e\u67e5\u627e\u8f6f\u4ef6\u5305\uff1a installurl(5) \u6587\u4ef6 ( /etc/installurl ) \u6216 PKG_PATH \u73af\u5883\u53d8\u91cf\u3002\u524d\u8005\u662f\u9996\u9009\u65b9\u6cd5\uff0c\u5728\u5b89\u88c5\u7cfb\u7edf\u65f6\u88ab\u914d\u7f6e\u4e3a\u9ed8\u8ba4\u65b9\u6848\u3002 \u5982\u679c\u9700\u8981\u4f7f\u7528\u591a\u4e2a\u955c\u50cf\uff0c PKG_PATH \u5141\u8bb8\u901a\u8fc7\u5192\u53f7\u5206\u9694\u7684\u5217\u8868\u6267\u884c\u6b64\u64cd\u4f5c\uff1a # export PKG_PATH=scp://user@company-build-server/usr/ports/packages/%a/all:https://trusted-public-server/%m:installpath \u867d\u7136\u9ed8\u8ba4\u8bbe\u7f6e\u5bf9\u5927\u591a\u6570\u4eba\u6765\u8bf4\u5e94\u8be5\u9002\u7528\uff0c\u4f46\u4f60\u53ef\u4ee5\u5728 \u955c\u50cf\u9875\u9762 \u4e0a\u627e\u5230\u5907\u7528\u4f4d\u7f6e\u5217\u8868\u3002","title":"\u9009\u62e9\u955c\u50cf"},{"location":"openbsd-faq/faq15/#\u67e5\u8be2\u8f6f\u4ef6\u5305","text":"\u5927\u91cf\u9884\u7f16\u8bd1\u5305\u53ef\u7528\u4e8e\u6700\u5e38\u89c1\u7684\u8ba1\u7b97\u673a\u67b6\u6784\u3002 \u8981\u641c\u7d22\u4efb\u4f55\u7ed9\u5b9a\u7684\u5305\u540d\u79f0\uff0c\u8bf7\u4f7f\u7528 pkg_info(1) \u7684 -Q \u6807\u5fd7\uff08flag\uff09\u3002 $ pkg_info -Q unzip lunzip-1.8 unzip-6.0p9 unzip-6.0p9-iconv \u67e5\u627e\u4f60\u8981\u67e5\u627e\u7684\u5185\u5bb9\u7684\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u4f7f\u7528 pkglocate \u547d\u4ee4\uff0c\u8be5\u547d\u4ee4\u53ef\u4ece pkglocatedb \u5305\u4e2d\u83b7\u5f97\u3002 $ pkglocate mutool mupdf-1.11p1-js:textproc/mupdf,js:/usr/local/bin/mutool mupdf-1.11p1-js:textproc/mupdf,js:/usr/local/man/man1/mutool.1 mupdf-1.11p1:textproc/mupdf:/usr/local/bin/mutool mupdf-1.11p1:textproc/mupdf:/usr/local/man/man1/mutool.1 \u5982\u679c\u4f60\u6b63\u5728\u5bfb\u627e\u7279\u5b9a\u7684\u6587\u4ef6\u540d\uff0c\u5b83\u53ef\u7528\u4e8e\u67e5\u627e\u5305\u542b\u8be5\u6587\u4ef6\u7684\u5305\u3002 \u4f60\u4f1a\u6ce8\u610f\u5230\u67d0\u4e9b\u8f6f\u4ef6\u5305\u6709\u51e0\u79cd\u4e0d\u540c\u7684\u79cd\u7c7b\u3002\u8fd9\u4e9b\u88ab\u79f0\u4e3a flavors \u3002 Ports \u5e38\u89c1\u95ee\u9898\u89e3\u7b54 \u8be6\u7ec6\u89e3\u91ca\u4e86 flavors\uff0c\u4f46\u8fd9\u57fa\u672c\u4e0a\u610f\u5473\u7740\u5b83\u4eec\u914d\u7f6e\u4e86\u4e0d\u540c\u7684\u9009\u9879\u96c6\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u5305\u53ef\u80fd\u6709\u53ef\u9009\u7684\u6570\u636e\u5e93\u652f\u6301\u3001\u5bf9\u6ca1\u6709 X11 \u7684\u7cfb\u7edf\u7684\u652f\u6301\u7b49\u3002\u4e00\u4e9b\u5305\u4e5f\u88ab\u5206\u6210\u53ef\u4ee5\u5355\u72ec\u5b89\u88c5\u7684\u5b50\u5305\uff08subpackages\uff09\u3002","title":"\u67e5\u8be2\u8f6f\u4ef6\u5305"},{"location":"openbsd-faq/faq15/#\u5b89\u88c5\u8f6f\u4ef6\u5305","text":"pkg_add(1) \u5b9e\u7528\u7a0b\u5e8f\u7528\u4e8e\u5b89\u88c5\u8f6f\u4ef6\u5305\u3002\u5982\u679c\u5b58\u5728\u591a\u79cd\u7248\u672c\u7684\u8f6f\u4ef6\u5305\uff0c\u7cfb\u7edf\u5c06\u63d0\u793a\u4f60\u9009\u62e9\u8981\u5b89\u88c5\u7684\u7248\u672c\u3002 # pkg_add rsync Ambiguous: choose package for rsync a 0: <None> 1: rsync-3.1.2p0 2: rsync-3.1.2p0-iconv Your choice: \u5728\u8fd9\u91cc\uff0c\u5982\u679c\u4f60\u9700\u8981\u6807\u51c6\u5305\uff0c\u8bf7\u9009\u62e9 1 \uff0c\u5982\u679c\u9700\u8981 iconv \u652f\u6301\uff0c\u8bf7\u9009\u62e9 2 \u3002 \u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 pkg_add rsync-- \uff08\u5bf9\u4e8e\u9ed8\u8ba4\u503c\uff09\u6216 pkg_add rsync--iconv \uff08\u5bf9\u4e8e iconv \u7248\u672c\uff09\u76f4\u63a5\u5728\u547d\u4ee4\u884c\u4e0a\u9009\u62e9 flavor\u3002 \u4f60\u53ef\u4ee5\u5728\u4e00\u884c\u4e2d\u6307\u5b9a\u591a\u4e2a\u5305\u540d\uff0c\u7136\u540e\u4e00\u6b21\u6027\u5b89\u88c5\u6240\u6709\u5305\u53ca\u5176\u4f9d\u8d56\u9879\u3002\u4f60\u8fd8\u53ef\u4ee5\u6307\u5b9a\u5305\u7684\u7edd\u5bf9\u4f4d\u7f6e\uff0c\u65e0\u8bba\u662f\u672c\u5730\u6587\u4ef6\u8fd8\u662f\u8fdc\u7a0b URL\u3002 \u652f\u6301\u7684 URL \u524d\u7f00\u662f http\u3001https\u3001ftp \u548c scp\u3002 \u5bf9\u4e8e\u67d0\u4e9b\u8f6f\u4ef6\u5305\uff0c\u5c06\u63d0\u4f9b\u6709\u5173\u5e94\u7528\u7a0b\u5e8f\u914d\u7f6e\u6216\u4f7f\u7528\u7684\u91cd\u8981\u9644\u52a0\u4fe1\u606f\u3002 # pkg_add jove jove-4.16.0.73p0: ok --- +jove-4.16.0.73p0 ------------------- See /usr/local/share/jove/README about changes to /etc/rc or /etc/rc.local so that the system recovers jove files on reboot after a system crash \u6b64\u5916\uff0c\u67d0\u4e9b\u8f6f\u4ef6\u5305\u5728\u4f4d\u4e8e /usr/local/share/doc/pkg-readmes \u7684\u6587\u4ef6\u4e2d\u63d0\u4f9b\u914d\u7f6e\u548c\u5176\u4ed6\u4fe1\u606f\u3002 \u4e3a\u4e86\u4f60\u7684\u5b89\u5168\uff0c\u5982\u679c\u4f60\u6b63\u5728\u5b89\u88c5\u4e4b\u524d\u5b89\u88c5\u5e76\u5220\u9664\u7684\u8f6f\u4ef6\u5305\uff0c\u5219\u4e0d\u4f1a\u8986\u76d6\u5df2\u4fee\u6539\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u66f4\u65b0\u5305\u65f6\u4e5f\u662f\u5982\u6b64\u3002 \u6709\u65f6\u4f60\u53ef\u80fd\u4f1a\u9047\u5230\u7c7b\u4f3c\u4ee5\u4e0b\u793a\u4f8b\u4e2d\u7684\u9519\u8bef\uff1a # pkg_add xv xv-3.10ap4:jpeg-6bp3: ok xv-3.10ap4:png-1.2.14p0: ok xv-3.10ap4:tiff-3.8.2p0: ok Can't install xv-3.10ap15 because of libraries |library X11.16.1 not found | not found anywhere Direct dependencies for xv-3.10ap15 resolve to png-1.6.31 jasper-1.900.1p5 tiff-4.0.8p1 jpeg-1.5.1p0v0 Full dependency tree is png-1.6.31 tiff-4.0.8p1 jasper-1.900.1p5 jpeg-1.5.1p0v0 \u8f6f\u4ef6\u5305\u4e2d\u6346\u7ed1\u7684\u6253\u5305\u4fe1\u606f\u5305\u62ec\u6709\u5173\u8be5\u5305\u5e0c\u671b\u5b89\u88c5\u7684\u5171\u4eab\u5e93\u7684\u4fe1\u606f\u3002\u5982\u679c\u627e\u4e0d\u5230\u6240\u9700\u7684\u5e93\u4e4b\u4e00\uff0c\u5219\u4e0d\u4f1a\u5b89\u88c5\u8be5\u8f6f\u4ef6\u5305\uff0c\u56e0\u4e3a\u5b83\u65e0\u8bba\u5982\u4f55\u90fd\u4e0d\u4f1a\u5de5\u4f5c\u3002 \u6709\u51e0\u4ef6\u4e8b\u8981\u68c0\u67e5\uff1a \u4f60\u7684\u7cfb\u7edf\u53ef\u80fd\u4e0d\u5b8c\u6574\uff1a\u4f60\u6ca1\u6709\u5b89\u88c5\u542b\u6709\u5f85\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\u6240\u9700\u7684\u4f9d\u8d56\u5e93\u7684\u6587\u4ef6\u96c6\u3002 \u4f60\u7684\u7cfb\u7edf\uff08\u6216\u8f6f\u4ef6\u5305\uff09\u53ef\u80fd\u5df2\u8fc7\u65f6\uff1a\u4f60\u6709\u6240\u9700\u5e93\u7684\u65e7\u7248\u672c\u3002\u786e\u4fdd\u57fa\u672c\u7cfb\u7edf\u548c\u4efb\u4f55\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\u90fd\u662f\u6700\u65b0\u7684\u3002 \u5982\u679c\u4f60\u6b63\u5728\u8fd0\u884c -current \uff0c\u57fa\u7840\u7cfb\u7edf\u548c\u5305\u5feb\u7167\u53ef\u80fd\u4f1a\u7a0d\u5fae\u4e0d\u540c\u6b65\u3002\u4f60\u53ef\u4ee5\u7b49\u5f85\u955c\u50cf\u7ad9\u540c\u6b65\u540e\u5e76\u91cd\u8bd5\u3002","title":"\u5b89\u88c5\u8f6f\u4ef6\u5305"},{"location":"openbsd-faq/faq15/#\u5347\u7ea7\u8f6f\u4ef6\u5305","text":"\u53ef\u4ee5\u4f7f\u7528 pkg_add(1) \u66f4\u65b0\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\uff0c\u5982\u4e0b\u6240\u793a\uff1a # pkg_add -u \u8fd9\u5c06\u5c1d\u8bd5\u66f4\u65b0\u6240\u6709\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\uff0c\u5305\u62ec\u5b83\u4eec\u7684\u4f9d\u8d56\u9879\u3002","title":"\u5347\u7ea7\u8f6f\u4ef6\u5305"},{"location":"openbsd-faq/faq15/#\u79fb\u9664\u8f6f\u4ef6\u5305","text":"\u8981\u5220\u9664\u5305\uff0c\u53ea\u9700\u4f7f\u7528 pkg_delete(1) \uff1a # pkg_delete screen \u540c\u6837\uff0c\u5df2\u4fee\u6539\u7684\u914d\u7f6e\u6587\u4ef6\u4e0d\u4f1a\u88ab\u5220\u9664\u3002 \u4e0d\u518d\u9700\u8981\u7684\u4f9d\u8d56\u9879\u4e4b\u540e\u53ef\u4ee5\u4f7f\u7528 -a \u6807\u5fd7\u5220\u9664\uff1a # pkg_delete -a","title":"\u79fb\u9664\u8f6f\u4ef6\u5305"},{"location":"openbsd-faq/faq15/#\u5728\u53e6\u4e00\u53f0\u673a\u5668\u4e0a\u590d\u5236\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305","text":"\u4f7f\u7528\u4e0e\u65e7\u673a\u5668\u76f8\u540c\u7684\u4e00\u7ec4\u8f6f\u4ef6\u5305\u5b89\u88c5\u65b0\u7684 OpenBSD \u7cfb\u7edf\u662f\u4e00\u4e2a\u76f8\u5f53\u5e38\u89c1\u7684\u7528\u4f8b\u3002 pkg_info(1) \u7684 -mz \u6807\u5fd7\u5c06\u4ea7\u751f\u9002\u5f53\u7684\u7ed3\u679c\u4ee5\u4f7f\u6b64\u4efb\u52a1\u66f4\u5bb9\u6613\u3002 -m \u6807\u5fd7\u4ec5\u9009\u62e9\u624b\u52a8\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\u3002\u4e0d\u8bb0\u5f55\u4f9d\u8d56\u9879\uff0c\u56e0\u4e3a\u5b83\u4eec\u662f\u81ea\u52a8\u62c9\u5165\u7684\u3002 -z \u6807\u5fd7\u4ece\u8f93\u51fa\u4e2d\u6392\u9664\u7248\u672c\u4fe1\u606f\u3002\u53ea\u663e\u793a flavor \u548c\u5206\u652f\uff0c\u786e\u4fdd\u672a\u6765\u7684\u8f6f\u4ef6\u5305\u5b89\u88c5\u5c06\u9009\u62e9\u9002\u5f53\u7684\u7248\u672c\u3002 \u4f8b\u5982\uff1a $ pkg_info -mz | tee list abcde-- mpv-- python--%3.6 vim--no_x11 \u5c06 \u201clist\u201d \u6587\u4ef6\u590d\u5236\u5230\u53e6\u4e00\u53f0\u673a\u5668\u4e0a\u5e76\u8fd0\u884c\uff1a # pkg_add -l list \u6bcf\u4e2a\u5305\u89c4\u8303\u90fd\u6709\u4e00\u4e2a\u9644\u52a0\u5230\u5176\u540d\u79f0\u7684 flavor\uff08 -- \u4f5c\u4e3a\u9ed8\u8ba4\u503c\uff09\uff0c\u5e76\u4e14\u5728\u591a\u4e2a\u7248\u672c\u4e2d\u5171\u5b58\u7684\u5305\u4e5f\u5177\u6709\u5206\u652f\u4fe1\u606f\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u540e\u7eed\u7684 pkg_add(1) \u547d\u4ee4\u5c06\u9009\u62e9 3.6 \u7248\u672c\u5206\u652f\u7684\u5f53\u524d python \u5305\u3002","title":"\u5728\u53e6\u4e00\u53f0\u673a\u5668\u4e0a\u590d\u5236\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305"},{"location":"openbsd-faq/faq15/#\u4e0d\u5b8c\u6574\u7684\u8f6f\u4ef6\u5305\u5b89\u88c5\u6216\u5220\u9664","text":"\u5728\u4e00\u4e9b\u5947\u602a\u7684\u60c5\u51b5\u4e0b\uff0c\u7531\u4e8e\u4e0e\u5176\u4ed6\u6587\u4ef6\u51b2\u7a81\uff0c\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u4e00\u4e2a\u5305\u6ca1\u6709\u5b8c\u5168\u6dfb\u52a0\u3002\u4e0d\u5b8c\u6574\u7684\u5b89\u88c5\u901a\u5e38\u5728\u5305\u540d\u524d\u52a0\u4e0a \u201cpartial-\u201d \u6807\u8bb0\u3002 \u4f8b\u5982\uff0c\u5f53\u4f60\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u78b0\u5de7\u6309\u4e0b CTRL+C \u7ec8\u6b62\u5b89\u88c5\u65f6\uff0c\u5c31\u4f1a\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u3002\u5b89\u88c5\u53ef\u4ee5\u7a0d\u540e\u5b8c\u6210\uff0c\u201cpartial-*\u201d \u5305\u4f1a\u6d88\u5931\uff0c\u4e5f\u53ef\u4ee5\u7528 pkg_delete(8) \u5220\u9664\u3002 \u66f4\u4e25\u91cd\u7684\u7cfb\u7edf\u6545\u969c\uff0c\u4f8b\u5982\u6587\u4ef6\u7cfb\u7edf\u95ee\u9898\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4 /var/db/pkg \u635f\u574f\u6216\u4e0d\u4e00\u81f4\u3002 pkg_check(8) \u5b9e\u7528\u7a0b\u5e8f\u53ef\u4ee5\u5e2e\u52a9\u6e05\u7406\u3002","title":"\u4e0d\u5b8c\u6574\u7684\u8f6f\u4ef6\u5305\u5b89\u88c5\u6216\u5220\u9664"},{"location":"openbsd-faq/faq16/","text":"OpenBSD FAQ - \u865a\u62df\u5316 \u00b6 \u4ecb\u7ecd \u00b6 OpenBSD \u5e26\u6709 vmm(4) \u7ba1\u7406\u7a0b\u5e8f\u548c vmd(8) \u5b88\u62a4\u8fdb\u7a0b\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 vmctl(8) \u63a7\u5236\u7a0b\u5e8f\u63a7\u5236\u865a\u62df\u673a\uff0c\u4e5f\u53ef\u4f7f\u7528\u5b58\u50a8\u5728 vm.conf(5) \u6587\u4ef6\u4e2d\u7684\u914d\u7f6e\u8bbe\u7f6e\u6765\u914d\u7f6e\u865a\u62df\u673a\u3002 \u652f\u6301\u4f7f\u7528\u4ee5\u4e0b\u529f\u80fd\uff1a \u5bf9\u865a\u62df\u673a\u7684\u4e32\u884c\u63a7\u5236\u53f0\u8bbf\u95ee tap(4) \u63a5\u53e3 \u6bcf\u4e2a VM \u7528\u6237/\u7ec4\u6240\u6709\u6743 \u6743\u9650\u5206\u79bb raw\u3001qcow2 \u548c qcow2 \u6d3e\u751f\u955c\u50cf\u6587\u4ef6 \u8bbf\u5ba2\u7cfb\u7edf\uff08guest system\uff09\u5185\u5b58\u7684\u8f6c\u50a8\u548c\u6062\u590d \u865a\u62df\u4ea4\u6362\u673a\u7ba1\u7406 \u6682\u505c\u548c\u53d6\u6d88\u6682\u505c\u865a\u62df\u673a \u4ee5\u4e0b\u529f\u80fd\u6682\u4e0d\u652f\u6301\uff1a \u56fe\u5f62\u5316\u754c\u9762 \u5feb\u7167 \u8bbf\u5ba2 SMP \u652f\u6301 \u786c\u4ef6\u76f4\u901a \u8de8\u4e3b\u673a\u5b9e\u65f6\u8fc1\u79fb \u5b9e\u65f6\u786c\u4ef6\u66f4\u6539 \u652f\u6301\u7684\u8bbf\u5ba2\u64cd\u4f5c\u7cfb\u7edf\uff08guest operating system\uff09\u76ee\u524d\u4ec5\u9650\u4e8e OpenBSD \u548c Linux\u3002 \u7531\u4e8e\u5c1a\u4e0d\u652f\u6301 VGA\uff0c\u56e0\u6b64\u6765\u5bbe\u64cd\u4f5c\u7cfb\u7edf\u5fc5\u987b\u652f\u6301\u4e32\u884c\u63a7\u5236\u53f0\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u9700\u8981\u5177\u6709\u5d4c\u5957\u5206\u9875\u652f\u6301\u7684 CPU \u624d\u80fd\u4f7f\u7528 vmm(4) \u3002\u53ef\u4ee5\u901a\u8fc7\u67e5\u770b\u5904\u7406\u5668\u7279\u6027\u6807\u8bc6\u6765\u68c0\u67e5\u652f\u6301\u60c5\u51b5\uff1aSLAT \u4ee3\u8868 AMD \u6216 EPT \u4ee3\u8868 Intel\u3002 \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5fc5\u987b\u5728\u7cfb\u7edf\u7684 BIOS \u4e2d\u624b\u52a8\u542f\u7528\u865a\u62df\u5316\u529f\u80fd\u3002\u6267\u884c\u6b64\u64cd\u4f5c\u540e\uff0c\u8bf7\u52a1\u5fc5\u8fd0\u884c fw_update(8) \u547d\u4ee4\u4ee5\u83b7\u53d6\u6240\u9700\u7684 vmm-firmware \u5305\u3002 \u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u5904\u7406\u5668\u517c\u5bb9\u6027\uff1a $ dmesg | egrep '(VMX/EPT|SVM/RVI)' \u7136\u540e\u542f\u7528\u5e76\u542f\u52a8 vmd(8) \u670d\u52a1\u3002 # rcctl enable vmd # rcctl start vmd \u542f\u52a8\u4e00\u4e2a\u865a\u62df\u673a \u00b6 \u5728\u4ee5\u4e0b\u793a\u4f8b\u4e2d\uff0c\u5c06\u521b\u5efa\u4e00\u4e2a\u5177\u6709 50GB \u78c1\u76d8\u7a7a\u95f4\u548c 1GB RAM \u7684\u865a\u62df\u673a\uff08virtual machine\uff0cVM\uff09\u3002\u5b83\u5c06\u4ece install70.iso \u955c\u50cf\u6587\u4ef6\u542f\u52a8\u3002 # vmctl create -s 50G disk.qcow2 vmctl: qcow2 imagefile created # vmctl start -m 1G -L -i 1 -r install70.iso -d disk.qcow2 example vmctl: started vm 1 successfully, tty /dev/ttyp8 # vmctl show ID PID VCPUS MAXMEM CURMEM TTY OWNER NAME 1 72118 1 1.0G 88.1M ttyp8 root example \u8981\u67e5\u770b\u65b0\u521b\u5efa\u7684 VM \u7684\u63a7\u5236\u53f0\uff0c\u8bf7\u8fde\u63a5\u5230\u5176\u4e32\u884c\u63a7\u5236\u53f0\uff1a # vmctl console example Connected to /dev/ttyp8 (speed 115200) \u8981\u79bb\u5f00\u4e32\u884c\u63a7\u5236\u53f0\uff0c\u9700\u8981\u4f7f\u7528\u8f6c\u4e49\u5e8f\u5217 ~. \u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 cu(1) \u624b\u518c\u9875\u3002\u5f53\u901a\u8fc7 SSH \u4f7f\u7528 vmctl \u4e32\u884c\u63a7\u5236\u53f0\u65f6\uff0c ~ \uff08\u6ce2\u6d6a\u7b26\uff09\u5b57\u7b26\u5fc5\u987b\u88ab\u8f6c\u4e49\u4ee5\u9632\u6b62 ssh(1) \u4e22\u5f03\u8fde\u63a5\u3002\u8981\u901a\u8fc7 SSH \u9000\u51fa\u4e32\u884c\u63a7\u5236\u53f0\uff0c\u8bf7\u4f7f\u7528 ~~. \u6765\u4ee3\u66ff\u3002 \u53ef\u4ee5\u4f7f\u7528 vmctl(8) \u505c\u6b62 VM\u3002 # vmctl stop example stopping vm: requested to shutdown vm 1 \u865a\u62df\u673a\u53ef\u4ee5\u5728\u6709\u6216\u6ca1\u6709 vm.conf(5) \u6587\u4ef6\u7684\u60c5\u51b5\u4e0b\u542f\u52a8\u3002\u4ee5\u4e0b /etc/vm.conf \u793a\u4f8b\u5c06\u590d\u5236\u4e0a\u8ff0\u914d\u7f6e\uff1a vm \"example\" { memory 1G enable disk /home/user/disk.qcow2 local interface } vm.conf(5) \u4e2d\u7684\u4e00\u4e9b\u914d\u7f6e\u5c5e\u6027\u53ef\u4ee5\u7531 vmd(8) \u5728\u7cfb\u7edf\u8fd0\u884c\u65f6\u91cd\u65b0\u52a0\u8f7d\u3002\u5176\u4ed6\u53d8\u5316\uff0c\u5982\u8c03\u6574\u5185\u5b58\u6216\u78c1\u76d8\u7a7a\u95f4\u7684\u6570\u91cf\uff0c\u9700\u8981\u91cd\u65b0\u542f\u52a8\u865a\u62df\u673a\u3002 \u7f51\u7edc \u00b6 \u53ef\u4ee5\u901a\u8fc7\u591a\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\u914d\u7f6e vmm(4) \u865a\u62df\u673a\u7684\u7f51\u7edc\u8bbf\u95ee\u8bbe\u7f6e\uff0c\u672c\u8282\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u5176\u4e2d\u7684\u56db\u79cd\u3002 \u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5c06\u9488\u5bf9\u4e0d\u540c\u7684\u7528\u4f8b\u63d0\u53ca\u5404\u79cd IPv4 \u5730\u5740\u8303\u56f4\uff1a \u79c1\u6709\u4f4d\u5740 ( RFC1918 ) \u662f\u4e3a\u79c1\u6709\u7f51\u7edc\u4fdd\u7559\u7684\u5730\u5740\uff0c\u4f8b\u5982 10.0.0.0/8 \u3001 172.16.0.0/12 \u548c 192.168.0.0/16 \uff0c\u5b83\u4eec\u4e0d\u662f\u5168\u5c40\u53ef\u8def\u7531\u7684\u3002 \u5171\u4eab\u5730\u5740\uff08Shared Addresses\uff09 ( RFC6598 ) \u7c7b\u4f3c\u4e8e\u79c1\u6709\u5730\u5740\uff0c\u56e0\u4e3a\u5b83\u4eec\u4e0d\u53ef\u5168\u5c40\u8def\u7531\uff0c\u4f46\u65e8\u5728\u7528\u4e8e\u53ef\u4ee5\u6267\u884c\u5730\u5740\u8f6c\u6362\u7684\u8bbe\u5907\u4e0a\u3002\u5730\u5740\u7a7a\u95f4\u4e3a 100.64.0.0/10 \u3002 \u65b9\u6cd5\u4e00\uff1a\u865a\u62df\u673a\u53ea\u9700\u8981\u4e0e\u4e3b\u673a\u548c\u5f7c\u6b64\u4ea4\u6d41 \u00b6 \u5bf9\u4e8e\u6b64\u8bbe\u7f6e\uff0cvmm \u4f7f\u7528 \u672c\u5730\u63a5\u53e3\uff08local interfaces\uff09 \uff1a\u4f7f\u7528\u4e0a\u9762\u5b9a\u4e49\u7684\u5171\u4eab\u5730\u5740\u7a7a\u95f4\u7684\u63a5\u53e3\u3002 \u4f7f\u7528 vmctl(8) \u7684 -L \u6807\u5fd7\u5728\u865a\u62df\u673a\u4e2d\u521b\u5efa\u4e00\u4e2a\u672c\u5730\u63a5\u53e3\uff0c\u5b83\u5c06\u901a\u8fc7 DHCP \u4ece vmd \u63a5\u6536\u5730\u5740\u3002\u8fd9\u5b9e\u8d28\u4e0a\u521b\u5efa\u4e86\u4e24\u4e2a\u63a5\u53e3\uff1a\u4e00\u4e2a\u7528\u4e8e\u4e3b\u673a\uff0c\u53e6\u4e00\u4e2a\u7528\u4e8e VM\u3002 \u65b9\u6cd5\u4e8c\uff1a\u7528\u4e8e\u865a\u62df\u673a\u7684 NAT \u7f51\u7edc \u00b6 \u6b64\u8bbe\u7f6e\u5efa\u7acb\u5728\u4ee5\u524d\u7684\u57fa\u7840\u4e0a\uff0c\u5e76\u5141\u8bb8 VM \u8fde\u63a5\u5230\u4e3b\u673a\u5916\u90e8\u7684\u7f51\u7edc\u3002\u5b83\u9700\u8981 IP \u8f6c\u53d1 \u624d\u80fd\u5de5\u4f5c\u3002 /etc/pf.conf \u4e2d\u7684\u4ee5\u4e0b\u884c\u5c06\u542f\u7528 \u7f51\u7edc\u5730\u5740\u8f6c\u6362 \uff08NAT\uff09\u5e76\u5c06 DNS \u8bf7\u6c42\u91cd\u5b9a\u5411\u5230\u6307\u5b9a\u7684\u670d\u52a1\u5668\uff1a match out on egress from 100.64.0.0/10 to any nat-to (egress) pass in proto { udp tcp } from 100.64.0.0/10 to any port domain \\ rdr-to $dns_server port domain \u91cd\u65b0\u52a0\u8f7d pf \u89c4\u5219\u96c6\uff0cVM \u73b0\u5728\u53ef\u4ee5\u8fde\u63a5\u5230 Internet\u3002 \u65b9\u6cd5\u4e09\uff1a\u5bf9 VM \u7f51\u7edc\u914d\u7f6e\u7684\u989d\u5916\u63a7\u5236 \u00b6 \u6709\u65f6\uff0c\u60a8\u53ef\u80fd\u5e0c\u671b\u5bf9\u865a\u62df\u673a\u7684\u865a\u62df\u7f51\u7edc\u8fdb\u884c\u989d\u5916\u63a7\u5236\uff0c\u4f8b\u5982\u80fd\u591f\u5c06\u67d0\u4e9b\u865a\u62df\u673a\u653e\u5728\u5b83\u4eec\u81ea\u5df1\u7684\u865a\u62df\u4ea4\u6362\u673a\u4e0a\u3002\u8fd9\u53ef\u4ee5\u4f7f\u7528 bridge(4) \u548c vether(4) \u63a5\u53e3\u6765\u5b8c\u6210\u3002 \u521b\u5efa\u4e00\u4e2a vether0 \u63a5\u53e3\uff0c\u8be5\u63a5\u53e3\u5c06\u5177\u6709\u5982\u4e0a\u5b9a\u4e49\u7684\u79c1\u6709 IPv4 \u5730\u5740\u3002 \u5728\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 10.0.0.0/8 \u5b50\u7f51\u3002 # echo 'inet 10.0.0.1 255.255.255.0' > /etc/hostname.vether0 # sh /etc/netstart vether0 \u4f7f\u7528 vether0 \u63a5\u53e3\u4f5c\u4e3a\u6865\u7aef\u53e3\u521b\u5efa bridge0 \u63a5\u53e3\uff1a # echo 'add vether0' > /etc/hostname.bridge0 # sh /etc/netstart bridge0 \u5982\u679c\u865a\u62df\u7f51\u7edc\u4e0a\u7684 VM \u9700\u8981\u8bbf\u95ee\u7269\u7406\u673a\u4e4b\u5916\u7684\u7f51\u7edc\uff0c\u8bf7\u786e\u4fdd\u6b63\u786e\u8bbe\u7f6e NAT\u3002 /etc/pf.conf \u4e2d\u8c03\u6574\u540e\u7684 NAT \u884c\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a match out on egress from vether0:network to any nat-to (egress) vm.conf(5) \u4e2d\u7684\u4ee5\u4e0b\u51e0\u884c\u53ef\u7528\u4e8e\u786e\u4fdd\u5b9a\u4e49\u4e86\u865a\u62df\u4ea4\u6362\u673a\uff1a switch \"my_switch\" { interface bridge0 } vm \"my_vm\" { ... interface { switch \"my_switch\" } } \u5728 my_vm \u865a\u62df\u673a\u4e2d\uff0c\u73b0\u5728\u53ef\u4ee5\u4e3a vio0 \u5206\u914d 10.0.0.0/24 \u7f51\u7edc\u4e0a\u7684\u5730\u5740\u5e76\u5c06\u9ed8\u8ba4\u8def\u7531\u8bbe\u7f6e\u4e3a 10.0.0.1 \u3002 \u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u5728 vether0 \u4e0a\u8bbe\u7f6e\u4e00\u4e2a DHCP \u670d\u52a1\u5668 \u3002 \u65b9\u6cd5\u56db\uff1a\u865a\u62df\u673a\u4f5c\u4e3a\u540c\u4e00\u7f51\u7edc\u4e0a\u7684\u771f\u5b9e\u4e3b\u673a \u00b6 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cVM \u63a5\u53e3\u5c06\u8fde\u63a5\u5230\u4e0e\u4e3b\u673a\u76f8\u540c\u7684\u7f51\u7edc\uff0c\u56e0\u6b64\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u914d\u7f6e\uff0c\u5c31\u597d\u50cf\u5b83\u7269\u7406\u8fde\u63a5\u5230\u4e3b\u673a\u7f51\u7edc\u4e00\u6837\u3002\u6b64\u9009\u9879\u4ec5\u9002\u7528\u4e8e\u57fa\u4e8e\u4ee5\u592a\u7f51\u7684\u8bbe\u5907\uff0c\u56e0\u4e3a IEEE 802.11 \u6807\u51c6\u7981\u6b62\u65e0\u7ebf\u63a5\u53e3\u53c2\u4e0e\u7f51\u7edc\u6865\u63a5\u3002 \u4f7f\u7528\u4e3b\u673a\u7f51\u7edc\u63a5\u53e3\u4f5c\u4e3a\u6865\u7aef\u53e3\u521b\u5efa bridge0 \u63a5\u53e3\u3002\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u4e3b\u673a\u7f51\u7edc\u63a5\u53e3\u662f em0 \u2014\u2014 \u5728\u6b64\uff0c\u4f60\u5e94\u8be5\u5c06\u5176\u66ff\u6362\u4e3a\u4f60\u5e0c\u671b\u5c06 VM \u8fde\u63a5\u5230\u7684\u63a5\u53e3\u540d\u79f0\uff1a # echo 'add em0' > /etc/hostname.bridge0 # sh /etc/netstart bridge0 \u5982\u4e0a\u4f8b\u6240\u793a\uff0c\u65b0\u5efa\u6216\u4fee\u6539 vm.conf(5) \u6587\u4ef6\u4ee5\u786e\u4fdd\u5b9a\u4e49\u4e86\u865a\u62df\u4ea4\u6362\u673a\uff1a switch \"my_switch\" { interface bridge0 } vm \"my_vm\" { ... interface { switch \"my_switch\" } } my_vm \u865a\u62df\u673a\u73b0\u5728\u53ef\u4ee5\u53c2\u4e0e\u5230\u4e3b\u673a\u7f51\u7edc\u4e2d\uff0c\u5c31\u50cf\u5b83\u88ab\u7269\u7406\u8fde\u63a5\u4e00\u6837\u3002 \u6ce8\u610f \uff1a\u5982\u679c\u4e3b\u673a\u63a5\u53e3\uff08\u4e0a\u4f8b\u4e2d\u7684 em0\uff09\u4e5f\u4f7f\u7528 DHCP \u914d\u7f6e\uff0c\u5219\u5728\u8be5\u63a5\u53e3\u4e0a\u8fd0\u884c\u7684 dhcpleased(8) \u53ef\u80fd\u4f1a\u963b\u6b62 DHCP \u8bf7\u6c42\u5230\u8fbe VM\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u5e94\u8be5\u9009\u62e9\u4e00\u4e2a\u4e0d\u4f7f\u7528 DHCP \u7684\u4e0d\u540c\u4e3b\u673a\u63a5\u53e3\uff0c\u6216\u8005\u5728\u542f\u52a8 VM \u4e4b\u524d\u7ec8\u6b62\u5206\u914d\u7ed9\u8be5\u63a5\u53e3\u7684\u4efb\u4f55 dhcpleased(8) \u8fdb\u7a0b\uff0c\u6216\u8005\u4e3a VM \u4f7f\u7528\u9759\u6001 IP \u5730\u5740\u3002","title":"\u865a\u62df\u5316"},{"location":"openbsd-faq/faq16/#openbsd-faq---\u865a\u62df\u5316","text":"","title":"OpenBSD FAQ - \u865a\u62df\u5316"},{"location":"openbsd-faq/faq16/#\u4ecb\u7ecd","text":"OpenBSD \u5e26\u6709 vmm(4) \u7ba1\u7406\u7a0b\u5e8f\u548c vmd(8) \u5b88\u62a4\u8fdb\u7a0b\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 vmctl(8) \u63a7\u5236\u7a0b\u5e8f\u63a7\u5236\u865a\u62df\u673a\uff0c\u4e5f\u53ef\u4f7f\u7528\u5b58\u50a8\u5728 vm.conf(5) \u6587\u4ef6\u4e2d\u7684\u914d\u7f6e\u8bbe\u7f6e\u6765\u914d\u7f6e\u865a\u62df\u673a\u3002 \u652f\u6301\u4f7f\u7528\u4ee5\u4e0b\u529f\u80fd\uff1a \u5bf9\u865a\u62df\u673a\u7684\u4e32\u884c\u63a7\u5236\u53f0\u8bbf\u95ee tap(4) \u63a5\u53e3 \u6bcf\u4e2a VM \u7528\u6237/\u7ec4\u6240\u6709\u6743 \u6743\u9650\u5206\u79bb raw\u3001qcow2 \u548c qcow2 \u6d3e\u751f\u955c\u50cf\u6587\u4ef6 \u8bbf\u5ba2\u7cfb\u7edf\uff08guest system\uff09\u5185\u5b58\u7684\u8f6c\u50a8\u548c\u6062\u590d \u865a\u62df\u4ea4\u6362\u673a\u7ba1\u7406 \u6682\u505c\u548c\u53d6\u6d88\u6682\u505c\u865a\u62df\u673a \u4ee5\u4e0b\u529f\u80fd\u6682\u4e0d\u652f\u6301\uff1a \u56fe\u5f62\u5316\u754c\u9762 \u5feb\u7167 \u8bbf\u5ba2 SMP \u652f\u6301 \u786c\u4ef6\u76f4\u901a \u8de8\u4e3b\u673a\u5b9e\u65f6\u8fc1\u79fb \u5b9e\u65f6\u786c\u4ef6\u66f4\u6539 \u652f\u6301\u7684\u8bbf\u5ba2\u64cd\u4f5c\u7cfb\u7edf\uff08guest operating system\uff09\u76ee\u524d\u4ec5\u9650\u4e8e OpenBSD \u548c Linux\u3002 \u7531\u4e8e\u5c1a\u4e0d\u652f\u6301 VGA\uff0c\u56e0\u6b64\u6765\u5bbe\u64cd\u4f5c\u7cfb\u7edf\u5fc5\u987b\u652f\u6301\u4e32\u884c\u63a7\u5236\u53f0\u3002","title":"\u4ecb\u7ecd"},{"location":"openbsd-faq/faq16/#\u524d\u63d0\u6761\u4ef6","text":"\u9700\u8981\u5177\u6709\u5d4c\u5957\u5206\u9875\u652f\u6301\u7684 CPU \u624d\u80fd\u4f7f\u7528 vmm(4) \u3002\u53ef\u4ee5\u901a\u8fc7\u67e5\u770b\u5904\u7406\u5668\u7279\u6027\u6807\u8bc6\u6765\u68c0\u67e5\u652f\u6301\u60c5\u51b5\uff1aSLAT \u4ee3\u8868 AMD \u6216 EPT \u4ee3\u8868 Intel\u3002 \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5fc5\u987b\u5728\u7cfb\u7edf\u7684 BIOS \u4e2d\u624b\u52a8\u542f\u7528\u865a\u62df\u5316\u529f\u80fd\u3002\u6267\u884c\u6b64\u64cd\u4f5c\u540e\uff0c\u8bf7\u52a1\u5fc5\u8fd0\u884c fw_update(8) \u547d\u4ee4\u4ee5\u83b7\u53d6\u6240\u9700\u7684 vmm-firmware \u5305\u3002 \u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u5904\u7406\u5668\u517c\u5bb9\u6027\uff1a $ dmesg | egrep '(VMX/EPT|SVM/RVI)' \u7136\u540e\u542f\u7528\u5e76\u542f\u52a8 vmd(8) \u670d\u52a1\u3002 # rcctl enable vmd # rcctl start vmd","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"openbsd-faq/faq16/#\u542f\u52a8\u4e00\u4e2a\u865a\u62df\u673a","text":"\u5728\u4ee5\u4e0b\u793a\u4f8b\u4e2d\uff0c\u5c06\u521b\u5efa\u4e00\u4e2a\u5177\u6709 50GB \u78c1\u76d8\u7a7a\u95f4\u548c 1GB RAM \u7684\u865a\u62df\u673a\uff08virtual machine\uff0cVM\uff09\u3002\u5b83\u5c06\u4ece install70.iso \u955c\u50cf\u6587\u4ef6\u542f\u52a8\u3002 # vmctl create -s 50G disk.qcow2 vmctl: qcow2 imagefile created # vmctl start -m 1G -L -i 1 -r install70.iso -d disk.qcow2 example vmctl: started vm 1 successfully, tty /dev/ttyp8 # vmctl show ID PID VCPUS MAXMEM CURMEM TTY OWNER NAME 1 72118 1 1.0G 88.1M ttyp8 root example \u8981\u67e5\u770b\u65b0\u521b\u5efa\u7684 VM \u7684\u63a7\u5236\u53f0\uff0c\u8bf7\u8fde\u63a5\u5230\u5176\u4e32\u884c\u63a7\u5236\u53f0\uff1a # vmctl console example Connected to /dev/ttyp8 (speed 115200) \u8981\u79bb\u5f00\u4e32\u884c\u63a7\u5236\u53f0\uff0c\u9700\u8981\u4f7f\u7528\u8f6c\u4e49\u5e8f\u5217 ~. \u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 cu(1) \u624b\u518c\u9875\u3002\u5f53\u901a\u8fc7 SSH \u4f7f\u7528 vmctl \u4e32\u884c\u63a7\u5236\u53f0\u65f6\uff0c ~ \uff08\u6ce2\u6d6a\u7b26\uff09\u5b57\u7b26\u5fc5\u987b\u88ab\u8f6c\u4e49\u4ee5\u9632\u6b62 ssh(1) \u4e22\u5f03\u8fde\u63a5\u3002\u8981\u901a\u8fc7 SSH \u9000\u51fa\u4e32\u884c\u63a7\u5236\u53f0\uff0c\u8bf7\u4f7f\u7528 ~~. \u6765\u4ee3\u66ff\u3002 \u53ef\u4ee5\u4f7f\u7528 vmctl(8) \u505c\u6b62 VM\u3002 # vmctl stop example stopping vm: requested to shutdown vm 1 \u865a\u62df\u673a\u53ef\u4ee5\u5728\u6709\u6216\u6ca1\u6709 vm.conf(5) \u6587\u4ef6\u7684\u60c5\u51b5\u4e0b\u542f\u52a8\u3002\u4ee5\u4e0b /etc/vm.conf \u793a\u4f8b\u5c06\u590d\u5236\u4e0a\u8ff0\u914d\u7f6e\uff1a vm \"example\" { memory 1G enable disk /home/user/disk.qcow2 local interface } vm.conf(5) \u4e2d\u7684\u4e00\u4e9b\u914d\u7f6e\u5c5e\u6027\u53ef\u4ee5\u7531 vmd(8) \u5728\u7cfb\u7edf\u8fd0\u884c\u65f6\u91cd\u65b0\u52a0\u8f7d\u3002\u5176\u4ed6\u53d8\u5316\uff0c\u5982\u8c03\u6574\u5185\u5b58\u6216\u78c1\u76d8\u7a7a\u95f4\u7684\u6570\u91cf\uff0c\u9700\u8981\u91cd\u65b0\u542f\u52a8\u865a\u62df\u673a\u3002","title":"\u542f\u52a8\u4e00\u4e2a\u865a\u62df\u673a"},{"location":"openbsd-faq/faq16/#\u7f51\u7edc","text":"\u53ef\u4ee5\u901a\u8fc7\u591a\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\u914d\u7f6e vmm(4) \u865a\u62df\u673a\u7684\u7f51\u7edc\u8bbf\u95ee\u8bbe\u7f6e\uff0c\u672c\u8282\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u5176\u4e2d\u7684\u56db\u79cd\u3002 \u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5c06\u9488\u5bf9\u4e0d\u540c\u7684\u7528\u4f8b\u63d0\u53ca\u5404\u79cd IPv4 \u5730\u5740\u8303\u56f4\uff1a \u79c1\u6709\u4f4d\u5740 ( RFC1918 ) \u662f\u4e3a\u79c1\u6709\u7f51\u7edc\u4fdd\u7559\u7684\u5730\u5740\uff0c\u4f8b\u5982 10.0.0.0/8 \u3001 172.16.0.0/12 \u548c 192.168.0.0/16 \uff0c\u5b83\u4eec\u4e0d\u662f\u5168\u5c40\u53ef\u8def\u7531\u7684\u3002 \u5171\u4eab\u5730\u5740\uff08Shared Addresses\uff09 ( RFC6598 ) \u7c7b\u4f3c\u4e8e\u79c1\u6709\u5730\u5740\uff0c\u56e0\u4e3a\u5b83\u4eec\u4e0d\u53ef\u5168\u5c40\u8def\u7531\uff0c\u4f46\u65e8\u5728\u7528\u4e8e\u53ef\u4ee5\u6267\u884c\u5730\u5740\u8f6c\u6362\u7684\u8bbe\u5907\u4e0a\u3002\u5730\u5740\u7a7a\u95f4\u4e3a 100.64.0.0/10 \u3002","title":"\u7f51\u7edc"},{"location":"openbsd-faq/faq16/#\u65b9\u6cd5\u4e00\u865a\u62df\u673a\u53ea\u9700\u8981\u4e0e\u4e3b\u673a\u548c\u5f7c\u6b64\u4ea4\u6d41","text":"\u5bf9\u4e8e\u6b64\u8bbe\u7f6e\uff0cvmm \u4f7f\u7528 \u672c\u5730\u63a5\u53e3\uff08local interfaces\uff09 \uff1a\u4f7f\u7528\u4e0a\u9762\u5b9a\u4e49\u7684\u5171\u4eab\u5730\u5740\u7a7a\u95f4\u7684\u63a5\u53e3\u3002 \u4f7f\u7528 vmctl(8) \u7684 -L \u6807\u5fd7\u5728\u865a\u62df\u673a\u4e2d\u521b\u5efa\u4e00\u4e2a\u672c\u5730\u63a5\u53e3\uff0c\u5b83\u5c06\u901a\u8fc7 DHCP \u4ece vmd \u63a5\u6536\u5730\u5740\u3002\u8fd9\u5b9e\u8d28\u4e0a\u521b\u5efa\u4e86\u4e24\u4e2a\u63a5\u53e3\uff1a\u4e00\u4e2a\u7528\u4e8e\u4e3b\u673a\uff0c\u53e6\u4e00\u4e2a\u7528\u4e8e VM\u3002","title":"\u65b9\u6cd5\u4e00\uff1a\u865a\u62df\u673a\u53ea\u9700\u8981\u4e0e\u4e3b\u673a\u548c\u5f7c\u6b64\u4ea4\u6d41"},{"location":"openbsd-faq/faq16/#\u65b9\u6cd5\u4e8c\u7528\u4e8e\u865a\u62df\u673a\u7684-nat-\u7f51\u7edc","text":"\u6b64\u8bbe\u7f6e\u5efa\u7acb\u5728\u4ee5\u524d\u7684\u57fa\u7840\u4e0a\uff0c\u5e76\u5141\u8bb8 VM \u8fde\u63a5\u5230\u4e3b\u673a\u5916\u90e8\u7684\u7f51\u7edc\u3002\u5b83\u9700\u8981 IP \u8f6c\u53d1 \u624d\u80fd\u5de5\u4f5c\u3002 /etc/pf.conf \u4e2d\u7684\u4ee5\u4e0b\u884c\u5c06\u542f\u7528 \u7f51\u7edc\u5730\u5740\u8f6c\u6362 \uff08NAT\uff09\u5e76\u5c06 DNS \u8bf7\u6c42\u91cd\u5b9a\u5411\u5230\u6307\u5b9a\u7684\u670d\u52a1\u5668\uff1a match out on egress from 100.64.0.0/10 to any nat-to (egress) pass in proto { udp tcp } from 100.64.0.0/10 to any port domain \\ rdr-to $dns_server port domain \u91cd\u65b0\u52a0\u8f7d pf \u89c4\u5219\u96c6\uff0cVM \u73b0\u5728\u53ef\u4ee5\u8fde\u63a5\u5230 Internet\u3002","title":"\u65b9\u6cd5\u4e8c\uff1a\u7528\u4e8e\u865a\u62df\u673a\u7684 NAT \u7f51\u7edc"},{"location":"openbsd-faq/faq16/#\u65b9\u6cd5\u4e09\u5bf9-vm-\u7f51\u7edc\u914d\u7f6e\u7684\u989d\u5916\u63a7\u5236","text":"\u6709\u65f6\uff0c\u60a8\u53ef\u80fd\u5e0c\u671b\u5bf9\u865a\u62df\u673a\u7684\u865a\u62df\u7f51\u7edc\u8fdb\u884c\u989d\u5916\u63a7\u5236\uff0c\u4f8b\u5982\u80fd\u591f\u5c06\u67d0\u4e9b\u865a\u62df\u673a\u653e\u5728\u5b83\u4eec\u81ea\u5df1\u7684\u865a\u62df\u4ea4\u6362\u673a\u4e0a\u3002\u8fd9\u53ef\u4ee5\u4f7f\u7528 bridge(4) \u548c vether(4) \u63a5\u53e3\u6765\u5b8c\u6210\u3002 \u521b\u5efa\u4e00\u4e2a vether0 \u63a5\u53e3\uff0c\u8be5\u63a5\u53e3\u5c06\u5177\u6709\u5982\u4e0a\u5b9a\u4e49\u7684\u79c1\u6709 IPv4 \u5730\u5740\u3002 \u5728\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 10.0.0.0/8 \u5b50\u7f51\u3002 # echo 'inet 10.0.0.1 255.255.255.0' > /etc/hostname.vether0 # sh /etc/netstart vether0 \u4f7f\u7528 vether0 \u63a5\u53e3\u4f5c\u4e3a\u6865\u7aef\u53e3\u521b\u5efa bridge0 \u63a5\u53e3\uff1a # echo 'add vether0' > /etc/hostname.bridge0 # sh /etc/netstart bridge0 \u5982\u679c\u865a\u62df\u7f51\u7edc\u4e0a\u7684 VM \u9700\u8981\u8bbf\u95ee\u7269\u7406\u673a\u4e4b\u5916\u7684\u7f51\u7edc\uff0c\u8bf7\u786e\u4fdd\u6b63\u786e\u8bbe\u7f6e NAT\u3002 /etc/pf.conf \u4e2d\u8c03\u6574\u540e\u7684 NAT \u884c\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a match out on egress from vether0:network to any nat-to (egress) vm.conf(5) \u4e2d\u7684\u4ee5\u4e0b\u51e0\u884c\u53ef\u7528\u4e8e\u786e\u4fdd\u5b9a\u4e49\u4e86\u865a\u62df\u4ea4\u6362\u673a\uff1a switch \"my_switch\" { interface bridge0 } vm \"my_vm\" { ... interface { switch \"my_switch\" } } \u5728 my_vm \u865a\u62df\u673a\u4e2d\uff0c\u73b0\u5728\u53ef\u4ee5\u4e3a vio0 \u5206\u914d 10.0.0.0/24 \u7f51\u7edc\u4e0a\u7684\u5730\u5740\u5e76\u5c06\u9ed8\u8ba4\u8def\u7531\u8bbe\u7f6e\u4e3a 10.0.0.1 \u3002 \u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u5728 vether0 \u4e0a\u8bbe\u7f6e\u4e00\u4e2a DHCP \u670d\u52a1\u5668 \u3002","title":"\u65b9\u6cd5\u4e09\uff1a\u5bf9 VM \u7f51\u7edc\u914d\u7f6e\u7684\u989d\u5916\u63a7\u5236"},{"location":"openbsd-faq/faq16/#\u65b9\u6cd5\u56db\u865a\u62df\u673a\u4f5c\u4e3a\u540c\u4e00\u7f51\u7edc\u4e0a\u7684\u771f\u5b9e\u4e3b\u673a","text":"\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cVM \u63a5\u53e3\u5c06\u8fde\u63a5\u5230\u4e0e\u4e3b\u673a\u76f8\u540c\u7684\u7f51\u7edc\uff0c\u56e0\u6b64\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u914d\u7f6e\uff0c\u5c31\u597d\u50cf\u5b83\u7269\u7406\u8fde\u63a5\u5230\u4e3b\u673a\u7f51\u7edc\u4e00\u6837\u3002\u6b64\u9009\u9879\u4ec5\u9002\u7528\u4e8e\u57fa\u4e8e\u4ee5\u592a\u7f51\u7684\u8bbe\u5907\uff0c\u56e0\u4e3a IEEE 802.11 \u6807\u51c6\u7981\u6b62\u65e0\u7ebf\u63a5\u53e3\u53c2\u4e0e\u7f51\u7edc\u6865\u63a5\u3002 \u4f7f\u7528\u4e3b\u673a\u7f51\u7edc\u63a5\u53e3\u4f5c\u4e3a\u6865\u7aef\u53e3\u521b\u5efa bridge0 \u63a5\u53e3\u3002\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u4e3b\u673a\u7f51\u7edc\u63a5\u53e3\u662f em0 \u2014\u2014 \u5728\u6b64\uff0c\u4f60\u5e94\u8be5\u5c06\u5176\u66ff\u6362\u4e3a\u4f60\u5e0c\u671b\u5c06 VM \u8fde\u63a5\u5230\u7684\u63a5\u53e3\u540d\u79f0\uff1a # echo 'add em0' > /etc/hostname.bridge0 # sh /etc/netstart bridge0 \u5982\u4e0a\u4f8b\u6240\u793a\uff0c\u65b0\u5efa\u6216\u4fee\u6539 vm.conf(5) \u6587\u4ef6\u4ee5\u786e\u4fdd\u5b9a\u4e49\u4e86\u865a\u62df\u4ea4\u6362\u673a\uff1a switch \"my_switch\" { interface bridge0 } vm \"my_vm\" { ... interface { switch \"my_switch\" } } my_vm \u865a\u62df\u673a\u73b0\u5728\u53ef\u4ee5\u53c2\u4e0e\u5230\u4e3b\u673a\u7f51\u7edc\u4e2d\uff0c\u5c31\u50cf\u5b83\u88ab\u7269\u7406\u8fde\u63a5\u4e00\u6837\u3002 \u6ce8\u610f \uff1a\u5982\u679c\u4e3b\u673a\u63a5\u53e3\uff08\u4e0a\u4f8b\u4e2d\u7684 em0\uff09\u4e5f\u4f7f\u7528 DHCP \u914d\u7f6e\uff0c\u5219\u5728\u8be5\u63a5\u53e3\u4e0a\u8fd0\u884c\u7684 dhcpleased(8) \u53ef\u80fd\u4f1a\u963b\u6b62 DHCP \u8bf7\u6c42\u5230\u8fbe VM\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u5e94\u8be5\u9009\u62e9\u4e00\u4e2a\u4e0d\u4f7f\u7528 DHCP \u7684\u4e0d\u540c\u4e3b\u673a\u63a5\u53e3\uff0c\u6216\u8005\u5728\u542f\u52a8 VM \u4e4b\u524d\u7ec8\u6b62\u5206\u914d\u7ed9\u8be5\u63a5\u53e3\u7684\u4efb\u4f55 dhcpleased(8) \u8fdb\u7a0b\uff0c\u6216\u8005\u4e3a VM \u4f7f\u7528\u9759\u6001 IP \u5730\u5740\u3002","title":"\u65b9\u6cd5\u56db\uff1a\u865a\u62df\u673a\u4f5c\u4e3a\u540c\u4e00\u7f51\u7edc\u4e0a\u7684\u771f\u5b9e\u4e3b\u673a"},{"location":"openbsd-faq/faq17/","text":"OpenBSD FAQ - \u865a\u62df\u4e13\u7528\u7f51\u7edc\uff08VPN\uff09 \u00b6 \u4ecb\u7ecd \u00b6 OpenBSD \u5e26\u6709 iked(8) \uff0c\u8fd9\u662f\u4e00\u4e2a\u73b0\u4ee3\u7684\u3001\u6743\u9650\u5206\u79bb\u7684 IKEv2 \u670d\u52a1\u5668\u3002\u5b83\u53ef\u4ee5\u540c\u65f6\u5145\u5f53\u54cd\u5e94\u8005\uff08responder\uff09\uff0c\u4f8b\u5982\u63a5\u6536\u8fde\u63a5\u8bf7\u6c42\u7684\u670d\u52a1\u5668\uff1b\u6216\u53d1\u8d77\u8005\uff08initiator\uff09\uff0c\u4f8b\u5982\u5ba2\u6237\u7aef\u53d1\u8d77\u4e0e\u54cd\u5e94\u8005\u7684\u8fde\u63a5\u3002 ikectl(8) \u5b9e\u7528\u7a0b\u5e8f\u7528\u4e8e\u63a7\u5236\u670d\u52a1\u5668\uff0c\u5b83\u4ece iked.conf(5) \u6587\u4ef6\u4e2d\u83b7\u53d6\u5176\u914d\u7f6e\u3002 ikectl(8) \u5b9e\u7528\u7a0b\u5e8f\u8fd8\u5141\u8bb8\u60a8\u4e3a IKEv2 \u5bf9\u7b49\u65b9\u7ef4\u62a4\u4e00\u4e2a\u7b80\u5355\u7684 X.509 \u6570\u5b57\u8bc1\u4e66\u8ba4\u8bc1\u673a\u6784 (CA)\u3002 IKEv1 \u670d\u52a1\u5668 ( isakmpd(8) ) \u4e5f\u53ef\u7528\uff0c\u7ed3\u5408 npppd(8) \uff0c\u5b83\u5141\u8bb8\u60a8\u6784\u5efa IKEv1/L2TP VPN\uff0c\u5176\u4e2d IKEv2 \u65e0\u6cd5\u90e8\u7f72\u3002 \u4e5f\u53ef\u901a\u8fc7 wg(4) \u8bbe\u5907\u83b7\u5f97\u539f\u751f\u7684 WireGuard \u652f\u6301\u3002\u6b63\u5982\u624b\u518c\u6240\u89e3\u91ca\u7684\uff0c\u5b83\u53ef\u4ee5\u50cf OpenBSD \u4e2d\u7684\u6240\u6709\u5176\u4ed6 \u7f51\u7edc\u63a5\u53e3 \u4e00\u6837\u8fdb\u884c\u914d\u7f6e\u3002 \u8eab\u4efd\u9a8c\u8bc1 \u00b6 iked(8) \u652f\u6301\u4ee5\u4e0b\u8ba4\u8bc1\u65b9\u6cd5\uff1a \u9884\u5171\u4eab\u5bc6\u94a5\uff08\u4e0d\u63a8\u8350\uff09 RSA \u548c ECDSA \u516c\u94a5\uff1a\u8fde\u63a5\u5230 iked\u3001RouterOS \u548c\u5176\u4ed6\u4e00\u4e9b\u5b9e\u73b0\u65f6\u8f7b\u677e\u8bbe\u7f6e EAP MSCHAPv2\uff08\u670d\u52a1\u7aef\u5e26\u6709 X.509 \u8bc1\u4e66\uff09\uff1aiked \u4ec5\u5728\u201c\u54cd\u5e94\u8005\u201d\uff08\u670d\u52a1\u5668\uff09\u7aef\u652f\u6301\u6b64\u529f\u80fd X.509 \u8bc1\u4e66\uff1aWindows\u3001Android \u548c Apple \u5ba2\u6237\u7aef\u901a\u5e38\u9700\u8981 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cRSA \u516c\u94a5\u5728\u542f\u52a8\u65f6\u5728 /etc/iked/local.pub \u4e2d\u751f\u6210\uff0c\u79c1\u94a5\u5b58\u50a8\u5728 /etc/iked/private/local.key \u4e2d\u3002 \u914d\u7f6e IKEv2 \u670d\u52a1\u5668 \u00b6 \u6784\u5efa\u70b9\u5bf9\u70b9 VPN \u00b6 \u8fd9\u53ef\u4ee5\u901a\u8fc7\u4ea4\u6362\u9ed8\u8ba4\u63d0\u4f9b\u7684 RSA \u516c\u94a5\u6765\u5b9e\u73b0\uff1a\u5e94\u8be5\u5c06\u7b2c\u4e00\u4e2a\u7cfb\u7edf\uff08\u201cserver1\u201d\uff09\u4e0a\u7684 /etc/iked/local.pub \u590d\u5236\u5230\u7b2c\u4e8c\u4e2a\u7cfb\u7edf\u4e0a\u7684 /etc/iked/pubkeys/fqdn/server1.domain \u7cfb\u7edf\uff08\u201cserver2\u201d\uff09\u3002 \u7136\u540e\uff0c\u5e94\u8be5\u5c06\u7b2c\u4e8c\u4e2a\u7cfb\u7edf\u4e0a\u7684 /etc/iked/local.pub \u590d\u5236\u5230\u7b2c\u4e00\u4e2a\u7cfb\u7edf\u4e0a\u7684 /etc/iked/pubkeys/fqdn/server2.domain \u3002 \u5c06 \u201cserverX.domain\u201d \u66ff\u6362\u4e3a\u4f60\u81ea\u5df1\u7684 FQDN\u3002 \u4ece\u8fd9\u65f6\u8d77\uff0c\u6211\u4eec\u5047\u8bbe server1 \u7684\u516c\u5171 IP \u4e3a 192.0.2.1 \uff0c\u5185\u7f51 IP \u4e3a 10.0.1.0/24 \uff0c\u800c server2 \u7684\u516c\u5171 IP \u4e3a 198.51.100.1 \uff0c\u5185\u7f51 IP \u4e3a 10.0.2.0/24 \u3002 \u8981\u4f7f\u53d1\u8d77\u65b9\u80fd\u591f\u5230\u8fbe\u54cd\u5e94\u65b9\uff0c\u5e94\u5728\u54cd\u5e94\u65b9\u4e0a\u6253\u5f00 isakmp UDP \u7aef\u53e3\u3002\u5982\u679c\u5bf9\u7b49\u65b9\u4e4b\u4e00\u5728 NAT \u4e4b\u540e\uff0c\u5219 ipsec-nat-t UDP \u7aef\u53e3\u4e5f\u5e94\u5728\u54cd\u5e94\u65b9\u4e0a\u6253\u5f00\u3002\u5982\u679c\u4e24\u4e2a\u5bf9\u7b49\u70b9\u90fd\u6709\u516c\u5171 IP\uff0c\u5219\u5e94\u8be5\u5141\u8bb8 ESP \u534f\u8bae\u3002 pass in log on $ext_if proto udp from 198.51.100.1 to 192.0.2.1 port {isakmp, ipsec-nat-t} tag IKED pass in log on $ext_if proto esp from 198.51.100.1 to 192.0.2.1 tag IKED \uff08\u5145\u5f53\u54cd\u5e94\u8005\u7684\uff09server1 \u7684\u793a\u4f8b /etc/iked.conf \u914d\u7f6e\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a ikev2 'server1_rsa' passive esp \\ from 10.0.1.0/24 to 10.0.2.0/24 \\ local 192.0.2.1 peer 198.51.100.1 \\ srcid server1.domain \u4ee5\u53ca\u4f5c\u4e3a\u53d1\u8d77\u8005\u7684 server2 \u7684\u7b80\u5355\u914d\u7f6e\uff1a ikev2 'server2_rsa' active esp \\ from 10.0.2.0/24 to 10.0.1.0/24 \\ peer 192.0.2.1 \\ srcid server2.domain \u4f7f\u7528 iked -dv \u53ef\u4ee5\u5e2e\u52a9\u4f60\u4e86\u89e3\u4ea4\u6362\u8fc7\u7a0b\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u54cd\u5e94\u8005\u5904\u4e8e NAT \u7f51\u7edc\u4e2d\uff1a server1# iked -dv ... ikev2_recv: IKE_SA_INIT request from initiator 198.51.100.1:500 to 192.0.2.1:500 policy 'server1_rsa' id 0, 510 bytes ikev2_msg_send: IKE_SA_INIT response from 192.0.2.1:500 to 198.51.100.1:500 msgid 0, 451 bytes ikev2_recv: IKE_AUTH request from initiator 198.51.100.1:4500 to 192.0.2.1:4500 policy 'server1_rsa' id 1, 800 bytes ikev2_msg_send: IKE_AUTH response from 192.0.2.1:4500 to 198.51.100.1:4500 msgid 1, 720 bytes, NAT-T sa_state: VALID -> ESTABLISHED from 198.51.100.1:4500 to 192.0.2.1:4500 policy 'server1_rsa' \u5728\u53d1\u8d77\u8005\uff1a server2# iked -dv ... ikev2_msg_send: IKE_SA_INIT request from 0.0.0.0:500 to 192.0.2.1:500 msgid 0, 510 bytes ikev2_recv: IKE_SA_INIT response from responder 192.0.2.1:500 to 198.51.100.1:500 policy 'server2_rsa' id 0, 451 bytes ikev2_msg_send: IKE_AUTH request from 198.51.100.1:4500 to 192.0.2.1:4500 msgid 1, 800 bytes, NAT-T ikev2_recv: IKE_AUTH response from responder 192.0.2.1:4500 to 198.51.100.1:4500 policy 'server2_rsa' id 1, 720 bytes sa_state: VALID -> ESTABLISHED from 192.0.2.1:4500 to 198.51.100.1:4500 policy 'server2_rsa' \u53ef\u4ee5\u4f7f\u7528 ipsecctl(8) \u67e5\u770b IPsec \u6d41\uff1a server1# ipsecctl -sa FLOWS: flow esp in from 10.0.2.0/24 to 10.0.1.0/24 peer 198.51.100.1 srcid FQDN/server1.domain dstid FQDN/server2.domain type use flow esp out from 10.0.1.0/24 to 10.0.2.0/24 peer 198.51.100.1 srcid FQDN/server1.domain dstid FQDN/server2.domain type require flow esp out from ::/0 to ::/0 type deny SAD: esp tunnel from 192.0.2.1 to 198.51.100.1 spi 0xabb5968a auth hmac-sha2-256 enc aes-256 esp tunnel from 198.51.100.1 to 192.0.2.1 spi 0xb1fc90b8 auth hmac-sha2-256 enc aes-256 server2# ipsecctl -sa FLOWS: flow esp in from 10.0.1.0/24 to 10.0.2.0/24 peer 192.0.2.1 srcid FQDN/server2.domain dstid FQDN/server1.domain type use flow esp out from 10.0.2.0/24 to 10.0.1.0/24 peer 192.0.2.1 srcid FQDN/server2.domain dstid FQDN/server1.domain type require flow esp out from ::/0 to ::/0 type deny SAD: esp tunnel from 192.0.2.1 to 198.51.100.1 spi 0xabb5968a auth hmac-sha2-256 enc aes-256 esp tunnel from 198.51.100.1 to 192.0.2.1 spi 0xb1fc90b8 auth hmac-sha2-256 enc aes-256 \u8fd9\u6837\uff0c\u4e24\u4e2a\u5185\u90e8\u7f51\u7edc\u5e94\u8be5\u80fd\u591f\u76f8\u4e92\u8bbf\u95ee\u3002 \u5b83\u4eec\u4e4b\u95f4\u7684\u6d41\u91cf\u5e94\u8be5\u5728 enc0 \u63a5\u53e3\u4e0a\u89e3\u5c01\u88c5\u540e\u51fa\u73b0\uff0c\u5e76\u4e14\u53ef\u4ee5\u8fd9\u6837\u8fc7\u6ee4\u3002\u5728\u8be5\u793a\u4f8b\u4e2d\uff0c tag VPN \u5df2\u6dfb\u52a0\u5230\u7b56\u7565\u4e2d\uff1a # pfctl -vvsr|grep VPN @16 pass log on enc0 tagged VPN # tcpdump -nei pflog0 rnr 16 00:03:26.793522 rule 16/(match) pass in on enc0: 10.0.2.24 > 10.0.1.13: icmp: echo request \u4e00\u4e9b\u8b66\u544a\u7684\u8bdd\uff1a \u5982\u679c\u54cd\u5e94\u8005\u672a\u8bbe\u7f6e srcid \uff0c\u5219 iked \u5c06\u9ed8\u8ba4\u5c1d\u8bd5\u4f7f\u7528\u4e0e\u5176 FQDN \u5339\u914d\u7684\u5bc6\u94a5\u3002 \u54cd\u5e94\u8005 \u4e0d\u9700\u8981 \u8bbe\u7f6e local \uff0c\u5b83\u53ea\u662f\u786e\u4fdd iked \u5728\u6b63\u786e\u7684\u63a5\u53e3\u4e0a\u76d1\u542c\u3002 \u54cd\u5e94\u8005 \u4e0d\u9700\u8981 \u8bbe\u7f6e peer \uff0c\u5b83\u53ea\u662f\u786e\u4fdd\u8fde\u63a5\u6765\u81ea\u53d7\u4fe1\u4efb\u7684 IP\u3002 \u5982\u679c VPN \u7aef\u70b9\u9700\u8981\u5230\u8fbe\u8fdc\u7a0b\u5185\u90e8\u7f51\u7edc\uff0c\u6216\u8005\u5185\u90e8\u7f51\u7edc\u9700\u8981\u5230\u8fbe\u8fdc\u7a0b VPN \u7aef\u70b9\uff0c\u5219\u5fc5\u987b\u5728\u4e24\u7aef\u8bbe\u7f6e\u989d\u5916\u7684\u6d41\uff1a \u4ece\u672c\u5730\u516c\u7f51 IP \u5230\u8fdc\u7a0b\u7f51\u7edc \u4ece\u5185\u7f51\u5230\u8fdc\u7a0b\u516c\u7f51 IP \u54cd\u5e94\u8005\u914d\u7f6e\u5c06\u5982\u4e0b\u6240\u793a\uff1a ikev2 'server1_rsa' passive esp \\ from 10.0.1.0/24 to 10.0.2.0/24 \\ from 10.0.1.0/24 to 198.51.100.1 \\ from 192.0.2.1 to 10.0.2.0/24 \\ local 192.0.2.1 peer 198.51.100.1 \\ srcid server1.domain \u53d1\u8d77\u8005\u7684\u914d\u7f6e\u5c06\u662f\uff1a ikev2 'server2_rsa' active esp \\ from 10.0.2.0/24 to 10.0.1.0/24 \\ from 10.0.2.0/24 to 192.0.2.1 \\ from 198.51.100.1 to 10.0.1.0/24 \\ peer 192.0.2.1 \\ srcid server2.domain \u8fde\u63a5\u5230 IKEv2 OpenBSD VPN \u00b6 \u4f5c\u4e3a road warrior \u8fde\u63a5\u5230 IKEv2 VPN \u4e0e\u524d\u4e00\u79cd\u60c5\u51b5\u7c7b\u4f3c\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u53d1\u8d77\u8005\u901a\u5e38\u8ba1\u5212\u901a\u8fc7\u54cd\u5e94\u8005\u8def\u7531\u5176\u4e92\u8054\u7f51\u6d41\u91cf\uff0c\u54cd\u5e94\u8005\u5c06\u5bf9\u5176\u5e94\u7528 NAT\uff0c\u56e0\u6b64\u53d1\u8d77\u8005\u6d41\u91cf\u4f3c\u4e4e\u6765\u81ea\u54cd\u5e94\u8005\u7684 \u516c\u7f51IP\u3002 \u6839\u636e\u7528\u4f8b\uff0c\u7531\u4e8e\u6240\u6709\u6d41\u91cf\u90fd\u5c06\u901a\u8fc7\u54cd\u5e94\u65b9\uff0c\u56e0\u6b64\u5fc5\u987b\u786e\u4fdd\u5c06\u53d1\u8d77\u65b9\u914d\u7f6e\u4e3a\u4f7f\u7528\u5b83\u53ef\u4ee5\u8bbf\u95ee\u7684 DNS \u670d\u52a1\u5668\uff08\u53ef\u80fd\u662f\u54cd\u5e94\u65b9\u4e0a\u7684\u4e00\u4e2a\uff09\u3002 \u4f7f\u7528 OpenBSD \u5ba2\u6237\u7aef \u00b6 \u5728\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\uff0c 10.0.5.0/24 \u7f51\u7edc\u7528\u4e8e\u652f\u6301 VPN\u3002\u5b9e\u9645\u7684\u5185\u90e8 IP \u5730\u5740\u5c06\u7531 iked \u81ea\u52a8\u5b89\u88c5\u5728 lo1 \u63a5\u53e3\u4e0a\u3002\u6211\u4eec\u5047\u8bbe\u5ba2\u6237\u7aef\u7684\u516c\u5171 IP \u662f 203.0.113.2 \u3002 \u4e0e\u524d\u9762\u7684\u793a\u4f8b\u4e00\u6837\uff0c\u4ea4\u6362\u9ed8\u8ba4\u63d0\u4f9b\u7684 RSA \u516c\u94a5\u8db3\u4ee5\u5728\u54cd\u5e94\u8005\u548c\u53d1\u8d77\u8005\u4e4b\u95f4\u8bbe\u7f6e\u7b80\u5355\u7684\u8eab\u4efd\u9a8c\u8bc1\uff1a\u7b2c\u4e00\u4e2a\u7cfb\u7edf\uff08\u201cserver1\u201d\uff09\u4e0a\u7684 /etc/iked/local.pub \u5e94\u590d\u5236\u5230 \u7b2c\u4e8c\u4e2a\u7cfb\u7edf\uff08\u201croadwarrior\u201d\uff09\u4e0a\u7684 /etc/iked/pubkeys/fqdn/server1.domain \u3002\u7136\u540e\uff0c\u5e94\u8be5\u9996\u5148\u5c06\u7b2c\u4e8c\u4e2a\u7cfb\u7edf\u4e0a\u7684 /etc/iked/local.pub \u590d\u5236\u5230 /etc/iked/pubkeys/fqdn/roadwarrior \u3002 \u5c06 \u201cserverX.domain\u201d \u66ff\u6362\u4e3a\u4f60\u81ea\u5df1\u7684 FQDN\u3002 \u54cd\u5e94\u8005\u7684 iked.conf(5) \u521b\u5efa\u4ece\u4efb\u4f55\u76ee\u7684\u5730\u5230\u5730\u5740\u6c60\u4e2d\u7684\u52a8\u6001 IP \u79df\u7528\u7684\u6d41\uff0c\u8fd9\u5c06\u5728\u8fd0\u884c\u65f6\u51b3\u5b9a\uff0c\u5e76\u7528 ROADW \u6807\u8bb0\u6570\u636e\u5305\uff1a ikev2 'responder_rsa' passive esp \\ from any to dynamic \\ local 192.0.2.1 peer any \\ srcid server1.domain \\ config address 10.0.5.0/24 \\ tag \"ROADW\" \u54cd\u5e94\u8005\u9700\u8981\u5411\u53d1\u8d77\u8005\u63d0\u4f9b\u4e00\u4e2a IP \u5730\u5740\u3002\u8fd9\u662f\u901a\u8fc7 config \u6307\u4ee4\u5b9e\u73b0\u7684\u3002\u4f7f\u7528 config address \u9009\u9879\u65f6\uff0c to dynamic \u5c06\u66ff\u6362\u4e3a\u5206\u914d\u7684\u52a8\u6001 IP \u5730\u5740\u3002 \u5b83\u8fd8\u9700\u8981\u5141\u8bb8\u6765\u81ea\u4efb\u4f55\u4e3b\u673a\u7684 IPsec\uff08\u56e0\u4e3a\u5ba2\u6237\u7aef\u53ef\u80fd\u4ece\u4efb\u4f55\u5730\u65b9\u8fde\u63a5\uff09\uff0c\u5141\u8bb8\u5728 enc0 \u4e0a\u6807\u8bb0\u4e3a ROADW \u7684\u6d41\u91cf\u5e76\u5bf9\u5176\u5e94\u7528 NAT\uff1a pass in log on $ext_if proto udp from any to 192.0.2.1 port {isakmp, ipsec-nat-t} tag IKED pass in log on $ext_if proto esp from any to 192.0.2.1 tag IKED pass log on enc0 tagged ROADW match out log on $ext_if inet tagged ROADW nat-to $ext_if \u53d1\u8d77\u8005\u914d\u7f6e\u4e00\u4e2a\u5168\u5c40\u6d41\u4ee5\u5c06\u5176\u6240\u6709\u6d41\u91cf\u53d1\u9001\u7ed9\u54cd\u5e94\u8005\uff0c\u544a\u8bc9\u5b83\u4f7f\u7528\u540d\u4e3a \u201croadwarrior\u201d \u7684\u5bc6\u94a5\u6765\u6807\u8bc6\u81ea\u5df1\uff1a ikev2 'roadwarrior' active esp \\ from dynamic to any \\ peer 192.0.2.1 \\ srcid roadwarrior \\ dstid server1.domain \\ request address any \\ iface lo1 \u53d1\u8d77\u8005\u4f7f\u7528 request address any \u9009\u9879\u5411\u54cd\u5e94\u65b9\u8bf7\u6c42\u52a8\u6001 IP \u5730\u5740\u3002 iface lo1 \u9009\u9879\u6307\u5b9a\u5c06\u5b89\u88c5\u63a5\u6536\u5730\u5740\u548c\u76f8\u5e94\u8def\u7531\u7684\u63a5\u53e3\u3002\u54cd\u5e94\u8005\u5e94\u8be5\u4e3a road warrior \u5ba2\u6237\u7aef\u6b63\u786e\u914d\u7f6e NAT\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 ikectl decouple \uff08 iked \u4ecd\u5728\u8fd0\u884c\uff0c\u6302\u8d77 ikectl Couple \u4ee5\u4fbf\u5b83\u91cd\u65b0\u8fde\u63a5\u5230\u54cd\u5e94\u8005\uff09\u6216\u4f7f\u7528 ikectl reset sa && rcctl stop iked \u6c38\u4e45\u505c\u6b62 iked \u5e76\u786e\u4fdd\u6ca1\u6709\u88ab\u9057\u5f03\u7684\u6570\u636e\u6d41\uff0c\u4ece\u800c\u4f18\u96c5\u5730\u505c\u6b62\u542f\u52a8\u5668\u4e0a\u7684 VPN . \u4f7f\u7528 Android \u5ba2\u6237\u7aef \u00b6 \u9ed8\u8ba4\u7684 Android VPN \u5ba2\u6237\u7aef\u4ec5\u652f\u6301 IKEv1\u3002 \u8981\u4f7f\u7528 IKEv2\uff0c\u53ef\u4ee5\u9009\u62e9 strongSwan \u3002 \u4f60\u8fd8\u9700\u8981\u8bbe\u7f6e PKI \u548c X.509 \u8bc1\u4e66\uff0c\u4ee5\u4fbf\u53d1\u8d77\u65b9\u53ef\u4ee5\u9a8c\u8bc1\u54cd\u5e94\u65b9\u901a\u544a\u7684\u8bc1\u4e66\uff1a server1# ikectl ca vpn create server1# ikectl ca vpn install certificate for CA 'vpn' installed into /etc/iked/ca/ca.crt CRL for CA 'vpn' installed to /etc/iked/crls/ca.crl server1# ikectl ca vpn certificate server1.domain create server1# ikectl ca vpn certificate server1.domain install writing RSA key server1# cp /etc/iked/ca/ca.crt /var/www/htdocs/ \u5728 android \u8bbe\u5907\u4e0a\uff0c\u8fdb\u5165 http://192.0.2.1/ca.crt \u5e76\u5728 strongSwan \u5ba2\u6237\u7aef\u4e2d\u5bfc\u5165 CA \u8bc1\u4e66\u3002\u73b0\u5728\u6709\u51e0\u79cd\u9009\u62e9\u53ef\u4ee5\u5411\u54cd\u5e94\u8005\u9a8c\u8bc1\u53d1\u8d77\u8005\uff1a \u5e26\u6709\u7528\u6237\u540d/\u5bc6\u7801\u7684 EAP X.509 \u8bc1\u4e66 \u4f7f\u7528 MSCHAP-V2 \u8fdb\u884c EAP \u8eab\u4efd\u9a8c\u8bc1 \u00b6 \u54cd\u5e94\u8005\u914d\u7f6e\u9700\u8981\u4e00\u4efd\u6307\u5b9a\u7528\u6237\u540d/\u5bc6\u7801\u5217\u8868\uff0c\u5e76\u4e14\u5b83\u5c06\u4f7f\u7528 eap \"mschap-v2\" \uff08\u8fd9\u662f\u76ee\u524d\u552f\u4e00\u652f\u6301\u7684 EAP \u65b9\u6cd5\uff09\uff0c\u5982\u4e0b\u6240\u793a\uff1a user 'android' 'password' ikev2 'responder_eap' passive esp \\ from any to dynamic \\ local 192.0.2.1 peer any \\ srcid server1.domain \\ eap \"mschap-v2\" \\ config address 10.0.5.0/24 \\ config name-server 192.0.2.1 \\ tag \"ROADW\" \u5728 strongSwan \u5ba2\u6237\u7aef\u4e2d\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u914d\u7f6e\u65b0\u914d\u7f6e\u6587\u4ef6\uff1a VPN \u7c7b\u578b\u7684 IKEv2 EAP 192.0.2.1 \u4e3a \u670d\u52a1\u5668 \u9886\u57df \u5728\u54cd\u5e94\u8005\u914d\u7f6e\u4e2d\u8bbe\u7f6e\u7684\u767b\u5f55\u540d/\u5bc6\u7801\u503c\uff08login/password\uff09 CA \u8bc1\u4e66 \uff08CA certificate\uff09\u5b57\u6bb5\u65b0\u5bfc\u5165\u7684 CN=VPN CA \u8bc1\u4e66 \u7528\u6237\u8eab\u4efd \uff08User identity\uff09\u5b57\u6bb5\u7684 client1.domain \u670d\u52a1\u5668\u6807\u8bc6 \uff08Server identity\uff09\u5b57\u6bb5\u4e2d\u7684 server1.domain\uff08\u5728\u201c\u9ad8\u7ea7\u8bbe\u7f6e\u201d\u4e0b\uff09 \u8fd9\u6837\uff0cAndroid \u8bbe\u5907\u5c31\u53ef\u4ee5\u8fde\u63a5\u5230\u54cd\u5e94\u8005\uff0c\u4f7f\u7528 CA \u8bc1\u4e66\u9a8c\u8bc1\u54cd\u5e94\u8005\u8bc1\u4e66\uff0c\u4f7f\u7528 EAP \u767b\u5f55\u540d/\u5bc6\u7801\u5411\u54cd\u5e94\u8005\u9a8c\u8bc1\u81ea\u8eab\uff0c\u83b7\u53d6 10.0.5.0/24 \u7f51\u7edc\u4e2d\u7684\u5730\u5740\uff0c\u800c\u5b83\u7684\u6240\u6709\u6d41\u91cf\u90fd\u901a\u8fc7 VPN\uff0c\u4f7f\u7528 192.0.2.1 \u4f5c\u4e3a\u5176 DNS \u670d\u52a1\u5668\u3002 \u4f7f\u7528 X.509 \u8bc1\u4e66\u8ba4\u8bc1 \u00b6 \u5bf9\u4e8e\u8fd9\u79cd\u65b9\u6cd5\uff0c\u4f1a\u4e3a\u5ba2\u6237\u7aef\u751f\u6210\u4e00\u4e2a\u8bc1\u4e66\uff0c\u5b89\u88c5\u5728 iked ca \u4e2d\uff0c\u5bfc\u51fa\u4e3a\u5f52\u6863\u6587\u4ef6\uff0c\u5e76\u4e14 .pfx \u6587\u4ef6\u5e94\u8be5\u5728\u7ebf\u53ef\u7528\uff0c\u4ee5\u4fbf\u5ba2\u6237\u7aef\u53ef\u4ee5\u5b89\u88c5\u5b83\u3002 .pfx \u6587\u4ef6\u5305\u542b\u4e86\uff1a X.509 \u8bc1\u4e66 \u4f7f\u7528 RSA \u52a0\u5bc6\u7684 X.509 \u79c1\u94a5\uff0c \u7528\u4e8e\u52a0\u5bc6 X.509 \u79c1\u94a5\u7684 RSA \u79c1\u94a5 RSA \u516c\u94a5 server1# ikectl ca vpn certificate client1.domain create server1# cp /etc/ssl/vpn/client1.domain.crt /etc/iked/certs/ server1# ikectl ca vpn certificate client1.domain export server1# tar -C /tmp -xzf client1.domain.tgz *pfx server1# cp /tmp/export/client1.domain.pfx /var/www/htdocs/client1.domain.pfx \u914d\u7f6e\u65b0\u914d\u7f6e\u6587\u4ef6\u65f6\uff0c\u5fc5\u987b\u5728 strongSwan \u5ba2\u6237\u7aef\u4e2d\u5bfc\u5165 CA \u516c\u5171\u8bc1\u4e66\u548c\u5ba2\u6237\u7aef\u8bc1\u4e66\u5305\u3002 \u54cd\u5e94\u8005\u914d\u7f6e\u7a0d\u5fae\u7b80\u5355\u4e00\u4e9b\uff0c\u56e0\u4e3a\u4e0d\u9700\u8981\u6307\u5b9a eap \u4e5f\u4e0d\u9700\u8981\u8bbe\u7f6e\u7528\u6237\u540d/\u5bc6\u7801\uff1a ikev2 'responder_x509' passive esp \\ from any to dynamic \\ local 192.0.2.1 peer any \\ srcid server1.domain \\ config address 10.0.5.0/24 \\ config name-server 192.0.2.1 \\ tag \"ROADW\" \u5728 strongSwan \u5ba2\u6237\u7aef\u4e2d\uff0c\u914d\u7f6e\u4e00\u4e2a\u65b0\u7684\u914d\u7f6e\u6587\u4ef6\u9700\u8981\u4f7f\u7528\uff1a VPN \u7c7b\u578b\u7684 IKEv2 \u8bc1\u4e66 192.0.2.1 \u4e3a\u670d\u52a1\u5668\u9886\u57df \u7528\u6237\u8bc1\u4e66 \u5b57\u6bb5\u65b0\u5bfc\u5165\u7684 CN=client1.domain \u8bc1\u4e66 \u7528\u6237\u8eab\u4efd \u5b57\u6bb5\u7684 client1.domain \u670d\u52a1\u5668\u6807\u8bc6 \u5b57\u6bb5\u4e2d\u7684 server1.domain \uff08\u5728\u201c\u9ad8\u7ea7\u8bbe\u7f6e\u201d\u4e0b\uff09 \u4e0e EAP \u6848\u4f8b\u4e00\u6837\uff0cAndroid \u8bbe\u5907\u73b0\u5728\u53ef\u4ee5\u8fde\u63a5\u5230\u54cd\u5e94\u8005\u5e76\u4f7f\u7528 VPN\u3002 \u4f7f\u7528 Windows \u5ba2\u6237\u7aef \u00b6 Windows 7 \u53ca\u66f4\u9ad8\u7248\u672c\u63d0\u4f9b IKEv2 \u542f\u52a8\u5668\uff0c\u8be5\u542f\u52a8\u5668\u4e5f\u9700\u8981\u4f7f\u7528 X.509 \u8bc1\u4e66\uff0c\u9700\u8981\u5c06\u5176\u5bfc\u51fa\u4e3a .pfx/.p12 \u5305\u5e76\u5bfc\u5165\u5230\u672c\u5730\u8ba1\u7b97\u673a\uff08\u800c\u4e0d\u662f\u7528\u6237\u5e10\u6237\uff09\u8bc1\u4e66\u5b58\u50a8\u4e2d\uff0c\u4e24\u8005\u5747\u7528\u4e8e CA \u548c\u5ba2\u6237\u7aef\uff0c\u4f7f\u7528\u56fe\u5f62\u5316 Microsoft \u7ba1\u7406\u63a7\u5236\u53f0\uff08\u5728\u547d\u4ee4\u884c\u4e2d\u952e\u5165 mmc \u5e76\u5c06\u8bc1\u4e66\u7ba1\u7406\u5355\u5143\u6dfb\u52a0\u4e3a\u8ba1\u7b97\u673a\u5e10\u6237\uff09\u6216\u4f7f\u7528 Windows 10 \u7684 certutil \u547d\u4ee4\u3002\u5728 certificate authority \u5b58\u50a8\u4e2d\u5bfc\u5165 ca.crt \u548c\u5728 personal \u5b58\u50a8\u4e2d\u5bfc\u5165 ClientIP .p12 \u3002 StrongSwan \u9879\u76ee\u6709\u4e00\u4e2a\u5e26\u6709\u622a\u56fe\u7684\uff0c\u5173\u4e8e\u8fd9\u4e2a\u4e3b\u9898\u7684\u5f88\u597d\u7684\u6587\u6863\u3002 Windows \u4e0d\u5141\u8bb8\u4e3a\u5ba2\u6237\u7aef\u8bbe\u7f6e srcid \u53c2\u6570\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef\u8bc1\u4e66\u7684 CN \u5b57\u6bb5\u5fc5\u987b\u4e0e\u53d1\u9001\u5230\u54cd\u5e94\u8005\u7684\u5ba2\u6237\u7aef FQDN \u6216\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u7684 IP \u5339\u914d\u3002 \u8fd8\u8981\u6c42\u54cd\u5e94\u8005\u4e0a\u7684 srcid \u4e0e\u54cd\u5e94\u8005 FQDN\uff08\u6216\u5b83\u7684 IP\uff0c\u5982\u679c\u4e0d\u4f7f\u7528 FQDN\uff09\u76f8\u5339\u914d \u2014\u2014 \u5426\u5219\u53ef\u80fd\u4f1a\u9047\u5230\u53ef\u6015\u7684 error 3801 \u3002Libreswan \u9879\u76ee\u6709\u6709\u5173\u4e8e\u8fd9\u4e9b \u8981\u6c42 \u7684 \u5b9d\u8d35\u7ec6\u8282 \u3002 \u5bfc\u5165\u8bc1\u4e66\u540e\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u914d\u7f6e\u65b0\u7684 VPN \u8fde\u63a5\uff1a \u5e38\u89c4\u9009\u9879\u5361\u4e2d\u586b\u5165\u76ee\u6807\u4e3b\u673a\u540d\u7684\u54cd\u5e94\u8005 FQDN \u5b89\u5168\u9009\u9879\u5361\u4e2d\u7684\u7c7b\u578b\u8bbe\u7f6e\u4e3a IKEv2 \u8eab\u4efd\u9a8c\u8bc1\u9009\u62e9 \u201c\u673a\u5668\u8bc1\u4e66\uff08machine certificate\uff09\u201d \u6216 \u201cEAP \u8eab\u4efd\u9a8c\u8bc1\uff08EAP authentication\uff09\u201d \u5982\u679c\u4f7f\u7528 EAP\uff0c\u8fde\u63a5\u65f6\u4f1a\u63d0\u793a\u767b\u5f55\u540d/\u5bc6\u7801 \u54cd\u5e94\u8005\u7684\u914d\u7f6e\u6587\u4ef6\u5c06\u7c7b\u4f3c\u4e8e\u524d\u6587\u7684 Android \u6848\u4f8b\u3002 user 'windows' 'password' ikev2 'responder_eap' passive esp \\ from any to dynamic \\ local 192.0.2.1 peer any \\ srcid server1.domain.fqdn \\ eap \"mschap-v2\" \\ config address 10.0.5.0/24 \\ config name-server 192.0.2.1 \\ tag \"ROADW\" \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709 Windows \u6d41\u91cf\u73b0\u5728\u90fd\u5c06\u901a\u8fc7 IKEv2 VPN\u3002 \u5728\u64b0\u5199\u672c\u6587\u65f6\uff0c\u5f53\u524d\u7248\u672c\u7684 Windows \u9ed8\u8ba4\u4f7f\u7528\u5f31\u52a0\u5bc6 (3DES/SHA1)\u3002 \u53ef\u4ee5\u4f7f\u7528 PowerShell \u547d\u4ee4 Set-VpnConnectionIPsecConfiguration \u66f4\u6b63\u6b64\u95ee\u9898\u3002 \u8fde\u63a5\u5230 IKEv1/L2TP OpenBSD VPN \u00b6 \u6709\u65f6\uff0c\u4eba\u4eec\u65e0\u6cd5\u63a7\u5236 VPN \u670d\u52a1\u5668\uff0c\u53ea\u80fd\u9009\u62e9\u8fde\u63a5\u5230 IKEv1 \u670d\u52a1\u5668\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9700\u8981 xl2tpd \u7b2c\u4e09\u65b9\u5305\u4f5c\u4e3a L2TP \u5ba2\u6237\u7aef\u3002 \u9996\u5148\u9700\u8981\u542f\u7528 isakmpd(8) \u548c ipsec \u670d\u52a1\uff0c\u4ee5\u4fbf\u542f\u52a8\u5b88\u62a4\u8fdb\u7a0b\u5e76\u5728\u542f\u52a8\u65f6\u52a0\u8f7d ipsec.conf(5) \u914d\u7f6e\u6587\u4ef6\uff1a # rcctl enable ipsec # rcctl enable isakmpd # rcctl set isakmpd flags -K \u4ee5\u4e0b ipsec.conf(5) \u914d\u7f6e\u5e94\u8be5\u5141\u8bb8\u4f7f\u7528\u63d0\u4f9b\u7684 PSK \u8fde\u63a5\u5230 A.B.C.D \u7684 IKEv1 \u670d\u52a1\u5668\uff0c\u53ea\u5141\u8bb8 L2TP \u7684 UDP \u7aef\u53e3 1701\uff1a ike dynamic esp transport proto udp from egress to A.B.C.D port l2tp \\ psk mekmitasdigoat \u542f\u52a8 isakmpd(8) \u5e76\u4f7f\u7528 ipsecctl(8) \u52a0\u8f7d ipsec.conf(5) \u5e94\u8be5\u5141\u8bb8\u60a8\u53ef\u89c6\u5316\u914d\u7f6e\u7684\u5b89\u5168\u5173\u8054 (Security Associations, SA) \u548c\u6d41\uff1a # rcctl start isakmpd # ipsecctl -f /etc/ipsec.conf # ipsecctl -sa FLOWS: flow esp in proto udp from A.B.C.D port l2tp to W.X.Y.Z peer A.B.C.D srcid my.client.fqdn dstid A.B.C.D/32 type use flow esp out proto udp from W.X.Y.Z to A.B.C.D port l2tp peer A.B.C.D srcid my.client.fqdn dstid A.B.C.D/32 type require SAD: esp transport from A.B.C.D to W.X.Y.Z spi 0x0d16ad1c auth hmac-sha1 enc aes esp transport from W.X.Y.Z to A.B.C.D spi 0xcd0549ba auth hmac-sha1 enc aes \u5982\u679c\u4e0d\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u5f53\u53cc\u65b9\u4ea4\u6362\u52a0\u5bc6\u53c2\u6570\u4ee5\u5546\u5b9a\u53ef\u7528\u7684\u6700\u4f73\u7ec4\u5408\u65f6\uff0c\u53ef\u80fd\u9700\u8981\u8c03\u6574\u9636\u6bb5 1\uff08\u4e3b\u8981\uff09\u548c\u9636\u6bb5 2\uff08\u5feb\u901f\uff09\u53c2\u6570\u3002 \u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9b\u53c2\u6570\u5e94\u8be5\u7531\u8fdc\u7a0b\u670d\u52a1\u5668\u7ba1\u7406\u5458\u63d0\u4f9b\uff0c\u5e76\u4e14\u5e94\u8be5\u5728 ipsec.conf(5) \u4e2d\u4f7f\u7528\uff1a ike dynamic esp transport proto udp from egress to A.B.C.D port l2tp \\ main auth \"hmac-sha1\" enc \"3des\" group modp1024 \\ quick auth \"hmac-sha1\" enc \"aes\" \\ psk mekmitasdigoat \u4e00\u65e6 IKEv1 \u96a7\u9053\u542f\u52a8\u5e76\u8fd0\u884c\uff0c\u5c31\u9700\u8981\u914d\u7f6e L2TP \u96a7\u9053\u3002OpenBSD \u9ed8\u8ba4\u4e0d\u63d0\u4f9b L2TP \u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u9700\u8981\u5b89\u88c5 xl2tpd \u3002 # pkg_add xl2tpd \u6709\u5173\u5982\u4f55\u6b63\u786e\u8bbe\u7f6e L2TP \u5ba2\u6237\u7aef\u7684\u8bf4\u660e\uff0c\u8bf7\u53c2\u9605 /usr/local/share/doc/pkg-readmes/xl2tpd \u3002","title":"\u865a\u62df\u4e13\u7528\u7f51\u7edc"},{"location":"openbsd-faq/faq17/#openbsd-faq---\u865a\u62df\u4e13\u7528\u7f51\u7edcvpn","text":"","title":"OpenBSD FAQ - \u865a\u62df\u4e13\u7528\u7f51\u7edc\uff08VPN\uff09"},{"location":"openbsd-faq/faq17/#\u4ecb\u7ecd","text":"OpenBSD \u5e26\u6709 iked(8) \uff0c\u8fd9\u662f\u4e00\u4e2a\u73b0\u4ee3\u7684\u3001\u6743\u9650\u5206\u79bb\u7684 IKEv2 \u670d\u52a1\u5668\u3002\u5b83\u53ef\u4ee5\u540c\u65f6\u5145\u5f53\u54cd\u5e94\u8005\uff08responder\uff09\uff0c\u4f8b\u5982\u63a5\u6536\u8fde\u63a5\u8bf7\u6c42\u7684\u670d\u52a1\u5668\uff1b\u6216\u53d1\u8d77\u8005\uff08initiator\uff09\uff0c\u4f8b\u5982\u5ba2\u6237\u7aef\u53d1\u8d77\u4e0e\u54cd\u5e94\u8005\u7684\u8fde\u63a5\u3002 ikectl(8) \u5b9e\u7528\u7a0b\u5e8f\u7528\u4e8e\u63a7\u5236\u670d\u52a1\u5668\uff0c\u5b83\u4ece iked.conf(5) \u6587\u4ef6\u4e2d\u83b7\u53d6\u5176\u914d\u7f6e\u3002 ikectl(8) \u5b9e\u7528\u7a0b\u5e8f\u8fd8\u5141\u8bb8\u60a8\u4e3a IKEv2 \u5bf9\u7b49\u65b9\u7ef4\u62a4\u4e00\u4e2a\u7b80\u5355\u7684 X.509 \u6570\u5b57\u8bc1\u4e66\u8ba4\u8bc1\u673a\u6784 (CA)\u3002 IKEv1 \u670d\u52a1\u5668 ( isakmpd(8) ) \u4e5f\u53ef\u7528\uff0c\u7ed3\u5408 npppd(8) \uff0c\u5b83\u5141\u8bb8\u60a8\u6784\u5efa IKEv1/L2TP VPN\uff0c\u5176\u4e2d IKEv2 \u65e0\u6cd5\u90e8\u7f72\u3002 \u4e5f\u53ef\u901a\u8fc7 wg(4) \u8bbe\u5907\u83b7\u5f97\u539f\u751f\u7684 WireGuard \u652f\u6301\u3002\u6b63\u5982\u624b\u518c\u6240\u89e3\u91ca\u7684\uff0c\u5b83\u53ef\u4ee5\u50cf OpenBSD \u4e2d\u7684\u6240\u6709\u5176\u4ed6 \u7f51\u7edc\u63a5\u53e3 \u4e00\u6837\u8fdb\u884c\u914d\u7f6e\u3002","title":"\u4ecb\u7ecd"},{"location":"openbsd-faq/faq17/#\u8eab\u4efd\u9a8c\u8bc1","text":"iked(8) \u652f\u6301\u4ee5\u4e0b\u8ba4\u8bc1\u65b9\u6cd5\uff1a \u9884\u5171\u4eab\u5bc6\u94a5\uff08\u4e0d\u63a8\u8350\uff09 RSA \u548c ECDSA \u516c\u94a5\uff1a\u8fde\u63a5\u5230 iked\u3001RouterOS \u548c\u5176\u4ed6\u4e00\u4e9b\u5b9e\u73b0\u65f6\u8f7b\u677e\u8bbe\u7f6e EAP MSCHAPv2\uff08\u670d\u52a1\u7aef\u5e26\u6709 X.509 \u8bc1\u4e66\uff09\uff1aiked \u4ec5\u5728\u201c\u54cd\u5e94\u8005\u201d\uff08\u670d\u52a1\u5668\uff09\u7aef\u652f\u6301\u6b64\u529f\u80fd X.509 \u8bc1\u4e66\uff1aWindows\u3001Android \u548c Apple \u5ba2\u6237\u7aef\u901a\u5e38\u9700\u8981 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cRSA \u516c\u94a5\u5728\u542f\u52a8\u65f6\u5728 /etc/iked/local.pub \u4e2d\u751f\u6210\uff0c\u79c1\u94a5\u5b58\u50a8\u5728 /etc/iked/private/local.key \u4e2d\u3002","title":"\u8eab\u4efd\u9a8c\u8bc1"},{"location":"openbsd-faq/faq17/#\u914d\u7f6e-ikev2-\u670d\u52a1\u5668","text":"","title":"\u914d\u7f6e IKEv2 \u670d\u52a1\u5668"},{"location":"openbsd-faq/faq17/#\u6784\u5efa\u70b9\u5bf9\u70b9-vpn","text":"\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4ea4\u6362\u9ed8\u8ba4\u63d0\u4f9b\u7684 RSA \u516c\u94a5\u6765\u5b9e\u73b0\uff1a\u5e94\u8be5\u5c06\u7b2c\u4e00\u4e2a\u7cfb\u7edf\uff08\u201cserver1\u201d\uff09\u4e0a\u7684 /etc/iked/local.pub \u590d\u5236\u5230\u7b2c\u4e8c\u4e2a\u7cfb\u7edf\u4e0a\u7684 /etc/iked/pubkeys/fqdn/server1.domain \u7cfb\u7edf\uff08\u201cserver2\u201d\uff09\u3002 \u7136\u540e\uff0c\u5e94\u8be5\u5c06\u7b2c\u4e8c\u4e2a\u7cfb\u7edf\u4e0a\u7684 /etc/iked/local.pub \u590d\u5236\u5230\u7b2c\u4e00\u4e2a\u7cfb\u7edf\u4e0a\u7684 /etc/iked/pubkeys/fqdn/server2.domain \u3002 \u5c06 \u201cserverX.domain\u201d \u66ff\u6362\u4e3a\u4f60\u81ea\u5df1\u7684 FQDN\u3002 \u4ece\u8fd9\u65f6\u8d77\uff0c\u6211\u4eec\u5047\u8bbe server1 \u7684\u516c\u5171 IP \u4e3a 192.0.2.1 \uff0c\u5185\u7f51 IP \u4e3a 10.0.1.0/24 \uff0c\u800c server2 \u7684\u516c\u5171 IP \u4e3a 198.51.100.1 \uff0c\u5185\u7f51 IP \u4e3a 10.0.2.0/24 \u3002 \u8981\u4f7f\u53d1\u8d77\u65b9\u80fd\u591f\u5230\u8fbe\u54cd\u5e94\u65b9\uff0c\u5e94\u5728\u54cd\u5e94\u65b9\u4e0a\u6253\u5f00 isakmp UDP \u7aef\u53e3\u3002\u5982\u679c\u5bf9\u7b49\u65b9\u4e4b\u4e00\u5728 NAT \u4e4b\u540e\uff0c\u5219 ipsec-nat-t UDP \u7aef\u53e3\u4e5f\u5e94\u5728\u54cd\u5e94\u65b9\u4e0a\u6253\u5f00\u3002\u5982\u679c\u4e24\u4e2a\u5bf9\u7b49\u70b9\u90fd\u6709\u516c\u5171 IP\uff0c\u5219\u5e94\u8be5\u5141\u8bb8 ESP \u534f\u8bae\u3002 pass in log on $ext_if proto udp from 198.51.100.1 to 192.0.2.1 port {isakmp, ipsec-nat-t} tag IKED pass in log on $ext_if proto esp from 198.51.100.1 to 192.0.2.1 tag IKED \uff08\u5145\u5f53\u54cd\u5e94\u8005\u7684\uff09server1 \u7684\u793a\u4f8b /etc/iked.conf \u914d\u7f6e\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a ikev2 'server1_rsa' passive esp \\ from 10.0.1.0/24 to 10.0.2.0/24 \\ local 192.0.2.1 peer 198.51.100.1 \\ srcid server1.domain \u4ee5\u53ca\u4f5c\u4e3a\u53d1\u8d77\u8005\u7684 server2 \u7684\u7b80\u5355\u914d\u7f6e\uff1a ikev2 'server2_rsa' active esp \\ from 10.0.2.0/24 to 10.0.1.0/24 \\ peer 192.0.2.1 \\ srcid server2.domain \u4f7f\u7528 iked -dv \u53ef\u4ee5\u5e2e\u52a9\u4f60\u4e86\u89e3\u4ea4\u6362\u8fc7\u7a0b\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u54cd\u5e94\u8005\u5904\u4e8e NAT \u7f51\u7edc\u4e2d\uff1a server1# iked -dv ... ikev2_recv: IKE_SA_INIT request from initiator 198.51.100.1:500 to 192.0.2.1:500 policy 'server1_rsa' id 0, 510 bytes ikev2_msg_send: IKE_SA_INIT response from 192.0.2.1:500 to 198.51.100.1:500 msgid 0, 451 bytes ikev2_recv: IKE_AUTH request from initiator 198.51.100.1:4500 to 192.0.2.1:4500 policy 'server1_rsa' id 1, 800 bytes ikev2_msg_send: IKE_AUTH response from 192.0.2.1:4500 to 198.51.100.1:4500 msgid 1, 720 bytes, NAT-T sa_state: VALID -> ESTABLISHED from 198.51.100.1:4500 to 192.0.2.1:4500 policy 'server1_rsa' \u5728\u53d1\u8d77\u8005\uff1a server2# iked -dv ... ikev2_msg_send: IKE_SA_INIT request from 0.0.0.0:500 to 192.0.2.1:500 msgid 0, 510 bytes ikev2_recv: IKE_SA_INIT response from responder 192.0.2.1:500 to 198.51.100.1:500 policy 'server2_rsa' id 0, 451 bytes ikev2_msg_send: IKE_AUTH request from 198.51.100.1:4500 to 192.0.2.1:4500 msgid 1, 800 bytes, NAT-T ikev2_recv: IKE_AUTH response from responder 192.0.2.1:4500 to 198.51.100.1:4500 policy 'server2_rsa' id 1, 720 bytes sa_state: VALID -> ESTABLISHED from 192.0.2.1:4500 to 198.51.100.1:4500 policy 'server2_rsa' \u53ef\u4ee5\u4f7f\u7528 ipsecctl(8) \u67e5\u770b IPsec \u6d41\uff1a server1# ipsecctl -sa FLOWS: flow esp in from 10.0.2.0/24 to 10.0.1.0/24 peer 198.51.100.1 srcid FQDN/server1.domain dstid FQDN/server2.domain type use flow esp out from 10.0.1.0/24 to 10.0.2.0/24 peer 198.51.100.1 srcid FQDN/server1.domain dstid FQDN/server2.domain type require flow esp out from ::/0 to ::/0 type deny SAD: esp tunnel from 192.0.2.1 to 198.51.100.1 spi 0xabb5968a auth hmac-sha2-256 enc aes-256 esp tunnel from 198.51.100.1 to 192.0.2.1 spi 0xb1fc90b8 auth hmac-sha2-256 enc aes-256 server2# ipsecctl -sa FLOWS: flow esp in from 10.0.1.0/24 to 10.0.2.0/24 peer 192.0.2.1 srcid FQDN/server2.domain dstid FQDN/server1.domain type use flow esp out from 10.0.2.0/24 to 10.0.1.0/24 peer 192.0.2.1 srcid FQDN/server2.domain dstid FQDN/server1.domain type require flow esp out from ::/0 to ::/0 type deny SAD: esp tunnel from 192.0.2.1 to 198.51.100.1 spi 0xabb5968a auth hmac-sha2-256 enc aes-256 esp tunnel from 198.51.100.1 to 192.0.2.1 spi 0xb1fc90b8 auth hmac-sha2-256 enc aes-256 \u8fd9\u6837\uff0c\u4e24\u4e2a\u5185\u90e8\u7f51\u7edc\u5e94\u8be5\u80fd\u591f\u76f8\u4e92\u8bbf\u95ee\u3002 \u5b83\u4eec\u4e4b\u95f4\u7684\u6d41\u91cf\u5e94\u8be5\u5728 enc0 \u63a5\u53e3\u4e0a\u89e3\u5c01\u88c5\u540e\u51fa\u73b0\uff0c\u5e76\u4e14\u53ef\u4ee5\u8fd9\u6837\u8fc7\u6ee4\u3002\u5728\u8be5\u793a\u4f8b\u4e2d\uff0c tag VPN \u5df2\u6dfb\u52a0\u5230\u7b56\u7565\u4e2d\uff1a # pfctl -vvsr|grep VPN @16 pass log on enc0 tagged VPN # tcpdump -nei pflog0 rnr 16 00:03:26.793522 rule 16/(match) pass in on enc0: 10.0.2.24 > 10.0.1.13: icmp: echo request \u4e00\u4e9b\u8b66\u544a\u7684\u8bdd\uff1a \u5982\u679c\u54cd\u5e94\u8005\u672a\u8bbe\u7f6e srcid \uff0c\u5219 iked \u5c06\u9ed8\u8ba4\u5c1d\u8bd5\u4f7f\u7528\u4e0e\u5176 FQDN \u5339\u914d\u7684\u5bc6\u94a5\u3002 \u54cd\u5e94\u8005 \u4e0d\u9700\u8981 \u8bbe\u7f6e local \uff0c\u5b83\u53ea\u662f\u786e\u4fdd iked \u5728\u6b63\u786e\u7684\u63a5\u53e3\u4e0a\u76d1\u542c\u3002 \u54cd\u5e94\u8005 \u4e0d\u9700\u8981 \u8bbe\u7f6e peer \uff0c\u5b83\u53ea\u662f\u786e\u4fdd\u8fde\u63a5\u6765\u81ea\u53d7\u4fe1\u4efb\u7684 IP\u3002 \u5982\u679c VPN \u7aef\u70b9\u9700\u8981\u5230\u8fbe\u8fdc\u7a0b\u5185\u90e8\u7f51\u7edc\uff0c\u6216\u8005\u5185\u90e8\u7f51\u7edc\u9700\u8981\u5230\u8fbe\u8fdc\u7a0b VPN \u7aef\u70b9\uff0c\u5219\u5fc5\u987b\u5728\u4e24\u7aef\u8bbe\u7f6e\u989d\u5916\u7684\u6d41\uff1a \u4ece\u672c\u5730\u516c\u7f51 IP \u5230\u8fdc\u7a0b\u7f51\u7edc \u4ece\u5185\u7f51\u5230\u8fdc\u7a0b\u516c\u7f51 IP \u54cd\u5e94\u8005\u914d\u7f6e\u5c06\u5982\u4e0b\u6240\u793a\uff1a ikev2 'server1_rsa' passive esp \\ from 10.0.1.0/24 to 10.0.2.0/24 \\ from 10.0.1.0/24 to 198.51.100.1 \\ from 192.0.2.1 to 10.0.2.0/24 \\ local 192.0.2.1 peer 198.51.100.1 \\ srcid server1.domain \u53d1\u8d77\u8005\u7684\u914d\u7f6e\u5c06\u662f\uff1a ikev2 'server2_rsa' active esp \\ from 10.0.2.0/24 to 10.0.1.0/24 \\ from 10.0.2.0/24 to 192.0.2.1 \\ from 198.51.100.1 to 10.0.1.0/24 \\ peer 192.0.2.1 \\ srcid server2.domain","title":"\u6784\u5efa\u70b9\u5bf9\u70b9 VPN"},{"location":"openbsd-faq/faq17/#\u8fde\u63a5\u5230-ikev2-openbsd-vpn","text":"\u4f5c\u4e3a road warrior \u8fde\u63a5\u5230 IKEv2 VPN \u4e0e\u524d\u4e00\u79cd\u60c5\u51b5\u7c7b\u4f3c\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u53d1\u8d77\u8005\u901a\u5e38\u8ba1\u5212\u901a\u8fc7\u54cd\u5e94\u8005\u8def\u7531\u5176\u4e92\u8054\u7f51\u6d41\u91cf\uff0c\u54cd\u5e94\u8005\u5c06\u5bf9\u5176\u5e94\u7528 NAT\uff0c\u56e0\u6b64\u53d1\u8d77\u8005\u6d41\u91cf\u4f3c\u4e4e\u6765\u81ea\u54cd\u5e94\u8005\u7684 \u516c\u7f51IP\u3002 \u6839\u636e\u7528\u4f8b\uff0c\u7531\u4e8e\u6240\u6709\u6d41\u91cf\u90fd\u5c06\u901a\u8fc7\u54cd\u5e94\u65b9\uff0c\u56e0\u6b64\u5fc5\u987b\u786e\u4fdd\u5c06\u53d1\u8d77\u65b9\u914d\u7f6e\u4e3a\u4f7f\u7528\u5b83\u53ef\u4ee5\u8bbf\u95ee\u7684 DNS \u670d\u52a1\u5668\uff08\u53ef\u80fd\u662f\u54cd\u5e94\u65b9\u4e0a\u7684\u4e00\u4e2a\uff09\u3002","title":"\u8fde\u63a5\u5230 IKEv2 OpenBSD VPN"},{"location":"openbsd-faq/faq17/#\u4f7f\u7528-openbsd-\u5ba2\u6237\u7aef","text":"\u5728\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\uff0c 10.0.5.0/24 \u7f51\u7edc\u7528\u4e8e\u652f\u6301 VPN\u3002\u5b9e\u9645\u7684\u5185\u90e8 IP \u5730\u5740\u5c06\u7531 iked \u81ea\u52a8\u5b89\u88c5\u5728 lo1 \u63a5\u53e3\u4e0a\u3002\u6211\u4eec\u5047\u8bbe\u5ba2\u6237\u7aef\u7684\u516c\u5171 IP \u662f 203.0.113.2 \u3002 \u4e0e\u524d\u9762\u7684\u793a\u4f8b\u4e00\u6837\uff0c\u4ea4\u6362\u9ed8\u8ba4\u63d0\u4f9b\u7684 RSA \u516c\u94a5\u8db3\u4ee5\u5728\u54cd\u5e94\u8005\u548c\u53d1\u8d77\u8005\u4e4b\u95f4\u8bbe\u7f6e\u7b80\u5355\u7684\u8eab\u4efd\u9a8c\u8bc1\uff1a\u7b2c\u4e00\u4e2a\u7cfb\u7edf\uff08\u201cserver1\u201d\uff09\u4e0a\u7684 /etc/iked/local.pub \u5e94\u590d\u5236\u5230 \u7b2c\u4e8c\u4e2a\u7cfb\u7edf\uff08\u201croadwarrior\u201d\uff09\u4e0a\u7684 /etc/iked/pubkeys/fqdn/server1.domain \u3002\u7136\u540e\uff0c\u5e94\u8be5\u9996\u5148\u5c06\u7b2c\u4e8c\u4e2a\u7cfb\u7edf\u4e0a\u7684 /etc/iked/local.pub \u590d\u5236\u5230 /etc/iked/pubkeys/fqdn/roadwarrior \u3002 \u5c06 \u201cserverX.domain\u201d \u66ff\u6362\u4e3a\u4f60\u81ea\u5df1\u7684 FQDN\u3002 \u54cd\u5e94\u8005\u7684 iked.conf(5) \u521b\u5efa\u4ece\u4efb\u4f55\u76ee\u7684\u5730\u5230\u5730\u5740\u6c60\u4e2d\u7684\u52a8\u6001 IP \u79df\u7528\u7684\u6d41\uff0c\u8fd9\u5c06\u5728\u8fd0\u884c\u65f6\u51b3\u5b9a\uff0c\u5e76\u7528 ROADW \u6807\u8bb0\u6570\u636e\u5305\uff1a ikev2 'responder_rsa' passive esp \\ from any to dynamic \\ local 192.0.2.1 peer any \\ srcid server1.domain \\ config address 10.0.5.0/24 \\ tag \"ROADW\" \u54cd\u5e94\u8005\u9700\u8981\u5411\u53d1\u8d77\u8005\u63d0\u4f9b\u4e00\u4e2a IP \u5730\u5740\u3002\u8fd9\u662f\u901a\u8fc7 config \u6307\u4ee4\u5b9e\u73b0\u7684\u3002\u4f7f\u7528 config address \u9009\u9879\u65f6\uff0c to dynamic \u5c06\u66ff\u6362\u4e3a\u5206\u914d\u7684\u52a8\u6001 IP \u5730\u5740\u3002 \u5b83\u8fd8\u9700\u8981\u5141\u8bb8\u6765\u81ea\u4efb\u4f55\u4e3b\u673a\u7684 IPsec\uff08\u56e0\u4e3a\u5ba2\u6237\u7aef\u53ef\u80fd\u4ece\u4efb\u4f55\u5730\u65b9\u8fde\u63a5\uff09\uff0c\u5141\u8bb8\u5728 enc0 \u4e0a\u6807\u8bb0\u4e3a ROADW \u7684\u6d41\u91cf\u5e76\u5bf9\u5176\u5e94\u7528 NAT\uff1a pass in log on $ext_if proto udp from any to 192.0.2.1 port {isakmp, ipsec-nat-t} tag IKED pass in log on $ext_if proto esp from any to 192.0.2.1 tag IKED pass log on enc0 tagged ROADW match out log on $ext_if inet tagged ROADW nat-to $ext_if \u53d1\u8d77\u8005\u914d\u7f6e\u4e00\u4e2a\u5168\u5c40\u6d41\u4ee5\u5c06\u5176\u6240\u6709\u6d41\u91cf\u53d1\u9001\u7ed9\u54cd\u5e94\u8005\uff0c\u544a\u8bc9\u5b83\u4f7f\u7528\u540d\u4e3a \u201croadwarrior\u201d \u7684\u5bc6\u94a5\u6765\u6807\u8bc6\u81ea\u5df1\uff1a ikev2 'roadwarrior' active esp \\ from dynamic to any \\ peer 192.0.2.1 \\ srcid roadwarrior \\ dstid server1.domain \\ request address any \\ iface lo1 \u53d1\u8d77\u8005\u4f7f\u7528 request address any \u9009\u9879\u5411\u54cd\u5e94\u65b9\u8bf7\u6c42\u52a8\u6001 IP \u5730\u5740\u3002 iface lo1 \u9009\u9879\u6307\u5b9a\u5c06\u5b89\u88c5\u63a5\u6536\u5730\u5740\u548c\u76f8\u5e94\u8def\u7531\u7684\u63a5\u53e3\u3002\u54cd\u5e94\u8005\u5e94\u8be5\u4e3a road warrior \u5ba2\u6237\u7aef\u6b63\u786e\u914d\u7f6e NAT\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 ikectl decouple \uff08 iked \u4ecd\u5728\u8fd0\u884c\uff0c\u6302\u8d77 ikectl Couple \u4ee5\u4fbf\u5b83\u91cd\u65b0\u8fde\u63a5\u5230\u54cd\u5e94\u8005\uff09\u6216\u4f7f\u7528 ikectl reset sa && rcctl stop iked \u6c38\u4e45\u505c\u6b62 iked \u5e76\u786e\u4fdd\u6ca1\u6709\u88ab\u9057\u5f03\u7684\u6570\u636e\u6d41\uff0c\u4ece\u800c\u4f18\u96c5\u5730\u505c\u6b62\u542f\u52a8\u5668\u4e0a\u7684 VPN .","title":"\u4f7f\u7528 OpenBSD \u5ba2\u6237\u7aef"},{"location":"openbsd-faq/faq17/#\u4f7f\u7528-android-\u5ba2\u6237\u7aef","text":"\u9ed8\u8ba4\u7684 Android VPN \u5ba2\u6237\u7aef\u4ec5\u652f\u6301 IKEv1\u3002 \u8981\u4f7f\u7528 IKEv2\uff0c\u53ef\u4ee5\u9009\u62e9 strongSwan \u3002 \u4f60\u8fd8\u9700\u8981\u8bbe\u7f6e PKI \u548c X.509 \u8bc1\u4e66\uff0c\u4ee5\u4fbf\u53d1\u8d77\u65b9\u53ef\u4ee5\u9a8c\u8bc1\u54cd\u5e94\u65b9\u901a\u544a\u7684\u8bc1\u4e66\uff1a server1# ikectl ca vpn create server1# ikectl ca vpn install certificate for CA 'vpn' installed into /etc/iked/ca/ca.crt CRL for CA 'vpn' installed to /etc/iked/crls/ca.crl server1# ikectl ca vpn certificate server1.domain create server1# ikectl ca vpn certificate server1.domain install writing RSA key server1# cp /etc/iked/ca/ca.crt /var/www/htdocs/ \u5728 android \u8bbe\u5907\u4e0a\uff0c\u8fdb\u5165 http://192.0.2.1/ca.crt \u5e76\u5728 strongSwan \u5ba2\u6237\u7aef\u4e2d\u5bfc\u5165 CA \u8bc1\u4e66\u3002\u73b0\u5728\u6709\u51e0\u79cd\u9009\u62e9\u53ef\u4ee5\u5411\u54cd\u5e94\u8005\u9a8c\u8bc1\u53d1\u8d77\u8005\uff1a \u5e26\u6709\u7528\u6237\u540d/\u5bc6\u7801\u7684 EAP X.509 \u8bc1\u4e66","title":"\u4f7f\u7528 Android \u5ba2\u6237\u7aef"},{"location":"openbsd-faq/faq17/#\u4f7f\u7528-mschap-v2-\u8fdb\u884c-eap-\u8eab\u4efd\u9a8c\u8bc1","text":"\u54cd\u5e94\u8005\u914d\u7f6e\u9700\u8981\u4e00\u4efd\u6307\u5b9a\u7528\u6237\u540d/\u5bc6\u7801\u5217\u8868\uff0c\u5e76\u4e14\u5b83\u5c06\u4f7f\u7528 eap \"mschap-v2\" \uff08\u8fd9\u662f\u76ee\u524d\u552f\u4e00\u652f\u6301\u7684 EAP \u65b9\u6cd5\uff09\uff0c\u5982\u4e0b\u6240\u793a\uff1a user 'android' 'password' ikev2 'responder_eap' passive esp \\ from any to dynamic \\ local 192.0.2.1 peer any \\ srcid server1.domain \\ eap \"mschap-v2\" \\ config address 10.0.5.0/24 \\ config name-server 192.0.2.1 \\ tag \"ROADW\" \u5728 strongSwan \u5ba2\u6237\u7aef\u4e2d\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u914d\u7f6e\u65b0\u914d\u7f6e\u6587\u4ef6\uff1a VPN \u7c7b\u578b\u7684 IKEv2 EAP 192.0.2.1 \u4e3a \u670d\u52a1\u5668 \u9886\u57df \u5728\u54cd\u5e94\u8005\u914d\u7f6e\u4e2d\u8bbe\u7f6e\u7684\u767b\u5f55\u540d/\u5bc6\u7801\u503c\uff08login/password\uff09 CA \u8bc1\u4e66 \uff08CA certificate\uff09\u5b57\u6bb5\u65b0\u5bfc\u5165\u7684 CN=VPN CA \u8bc1\u4e66 \u7528\u6237\u8eab\u4efd \uff08User identity\uff09\u5b57\u6bb5\u7684 client1.domain \u670d\u52a1\u5668\u6807\u8bc6 \uff08Server identity\uff09\u5b57\u6bb5\u4e2d\u7684 server1.domain\uff08\u5728\u201c\u9ad8\u7ea7\u8bbe\u7f6e\u201d\u4e0b\uff09 \u8fd9\u6837\uff0cAndroid \u8bbe\u5907\u5c31\u53ef\u4ee5\u8fde\u63a5\u5230\u54cd\u5e94\u8005\uff0c\u4f7f\u7528 CA \u8bc1\u4e66\u9a8c\u8bc1\u54cd\u5e94\u8005\u8bc1\u4e66\uff0c\u4f7f\u7528 EAP \u767b\u5f55\u540d/\u5bc6\u7801\u5411\u54cd\u5e94\u8005\u9a8c\u8bc1\u81ea\u8eab\uff0c\u83b7\u53d6 10.0.5.0/24 \u7f51\u7edc\u4e2d\u7684\u5730\u5740\uff0c\u800c\u5b83\u7684\u6240\u6709\u6d41\u91cf\u90fd\u901a\u8fc7 VPN\uff0c\u4f7f\u7528 192.0.2.1 \u4f5c\u4e3a\u5176 DNS \u670d\u52a1\u5668\u3002","title":"\u4f7f\u7528 MSCHAP-V2 \u8fdb\u884c EAP \u8eab\u4efd\u9a8c\u8bc1"},{"location":"openbsd-faq/faq17/#\u4f7f\u7528-x509-\u8bc1\u4e66\u8ba4\u8bc1","text":"\u5bf9\u4e8e\u8fd9\u79cd\u65b9\u6cd5\uff0c\u4f1a\u4e3a\u5ba2\u6237\u7aef\u751f\u6210\u4e00\u4e2a\u8bc1\u4e66\uff0c\u5b89\u88c5\u5728 iked ca \u4e2d\uff0c\u5bfc\u51fa\u4e3a\u5f52\u6863\u6587\u4ef6\uff0c\u5e76\u4e14 .pfx \u6587\u4ef6\u5e94\u8be5\u5728\u7ebf\u53ef\u7528\uff0c\u4ee5\u4fbf\u5ba2\u6237\u7aef\u53ef\u4ee5\u5b89\u88c5\u5b83\u3002 .pfx \u6587\u4ef6\u5305\u542b\u4e86\uff1a X.509 \u8bc1\u4e66 \u4f7f\u7528 RSA \u52a0\u5bc6\u7684 X.509 \u79c1\u94a5\uff0c \u7528\u4e8e\u52a0\u5bc6 X.509 \u79c1\u94a5\u7684 RSA \u79c1\u94a5 RSA \u516c\u94a5 server1# ikectl ca vpn certificate client1.domain create server1# cp /etc/ssl/vpn/client1.domain.crt /etc/iked/certs/ server1# ikectl ca vpn certificate client1.domain export server1# tar -C /tmp -xzf client1.domain.tgz *pfx server1# cp /tmp/export/client1.domain.pfx /var/www/htdocs/client1.domain.pfx \u914d\u7f6e\u65b0\u914d\u7f6e\u6587\u4ef6\u65f6\uff0c\u5fc5\u987b\u5728 strongSwan \u5ba2\u6237\u7aef\u4e2d\u5bfc\u5165 CA \u516c\u5171\u8bc1\u4e66\u548c\u5ba2\u6237\u7aef\u8bc1\u4e66\u5305\u3002 \u54cd\u5e94\u8005\u914d\u7f6e\u7a0d\u5fae\u7b80\u5355\u4e00\u4e9b\uff0c\u56e0\u4e3a\u4e0d\u9700\u8981\u6307\u5b9a eap \u4e5f\u4e0d\u9700\u8981\u8bbe\u7f6e\u7528\u6237\u540d/\u5bc6\u7801\uff1a ikev2 'responder_x509' passive esp \\ from any to dynamic \\ local 192.0.2.1 peer any \\ srcid server1.domain \\ config address 10.0.5.0/24 \\ config name-server 192.0.2.1 \\ tag \"ROADW\" \u5728 strongSwan \u5ba2\u6237\u7aef\u4e2d\uff0c\u914d\u7f6e\u4e00\u4e2a\u65b0\u7684\u914d\u7f6e\u6587\u4ef6\u9700\u8981\u4f7f\u7528\uff1a VPN \u7c7b\u578b\u7684 IKEv2 \u8bc1\u4e66 192.0.2.1 \u4e3a\u670d\u52a1\u5668\u9886\u57df \u7528\u6237\u8bc1\u4e66 \u5b57\u6bb5\u65b0\u5bfc\u5165\u7684 CN=client1.domain \u8bc1\u4e66 \u7528\u6237\u8eab\u4efd \u5b57\u6bb5\u7684 client1.domain \u670d\u52a1\u5668\u6807\u8bc6 \u5b57\u6bb5\u4e2d\u7684 server1.domain \uff08\u5728\u201c\u9ad8\u7ea7\u8bbe\u7f6e\u201d\u4e0b\uff09 \u4e0e EAP \u6848\u4f8b\u4e00\u6837\uff0cAndroid \u8bbe\u5907\u73b0\u5728\u53ef\u4ee5\u8fde\u63a5\u5230\u54cd\u5e94\u8005\u5e76\u4f7f\u7528 VPN\u3002","title":"\u4f7f\u7528 X.509 \u8bc1\u4e66\u8ba4\u8bc1"},{"location":"openbsd-faq/faq17/#\u4f7f\u7528-windows-\u5ba2\u6237\u7aef","text":"Windows 7 \u53ca\u66f4\u9ad8\u7248\u672c\u63d0\u4f9b IKEv2 \u542f\u52a8\u5668\uff0c\u8be5\u542f\u52a8\u5668\u4e5f\u9700\u8981\u4f7f\u7528 X.509 \u8bc1\u4e66\uff0c\u9700\u8981\u5c06\u5176\u5bfc\u51fa\u4e3a .pfx/.p12 \u5305\u5e76\u5bfc\u5165\u5230\u672c\u5730\u8ba1\u7b97\u673a\uff08\u800c\u4e0d\u662f\u7528\u6237\u5e10\u6237\uff09\u8bc1\u4e66\u5b58\u50a8\u4e2d\uff0c\u4e24\u8005\u5747\u7528\u4e8e CA \u548c\u5ba2\u6237\u7aef\uff0c\u4f7f\u7528\u56fe\u5f62\u5316 Microsoft \u7ba1\u7406\u63a7\u5236\u53f0\uff08\u5728\u547d\u4ee4\u884c\u4e2d\u952e\u5165 mmc \u5e76\u5c06\u8bc1\u4e66\u7ba1\u7406\u5355\u5143\u6dfb\u52a0\u4e3a\u8ba1\u7b97\u673a\u5e10\u6237\uff09\u6216\u4f7f\u7528 Windows 10 \u7684 certutil \u547d\u4ee4\u3002\u5728 certificate authority \u5b58\u50a8\u4e2d\u5bfc\u5165 ca.crt \u548c\u5728 personal \u5b58\u50a8\u4e2d\u5bfc\u5165 ClientIP .p12 \u3002 StrongSwan \u9879\u76ee\u6709\u4e00\u4e2a\u5e26\u6709\u622a\u56fe\u7684\uff0c\u5173\u4e8e\u8fd9\u4e2a\u4e3b\u9898\u7684\u5f88\u597d\u7684\u6587\u6863\u3002 Windows \u4e0d\u5141\u8bb8\u4e3a\u5ba2\u6237\u7aef\u8bbe\u7f6e srcid \u53c2\u6570\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef\u8bc1\u4e66\u7684 CN \u5b57\u6bb5\u5fc5\u987b\u4e0e\u53d1\u9001\u5230\u54cd\u5e94\u8005\u7684\u5ba2\u6237\u7aef FQDN \u6216\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u7684 IP \u5339\u914d\u3002 \u8fd8\u8981\u6c42\u54cd\u5e94\u8005\u4e0a\u7684 srcid \u4e0e\u54cd\u5e94\u8005 FQDN\uff08\u6216\u5b83\u7684 IP\uff0c\u5982\u679c\u4e0d\u4f7f\u7528 FQDN\uff09\u76f8\u5339\u914d \u2014\u2014 \u5426\u5219\u53ef\u80fd\u4f1a\u9047\u5230\u53ef\u6015\u7684 error 3801 \u3002Libreswan \u9879\u76ee\u6709\u6709\u5173\u4e8e\u8fd9\u4e9b \u8981\u6c42 \u7684 \u5b9d\u8d35\u7ec6\u8282 \u3002 \u5bfc\u5165\u8bc1\u4e66\u540e\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u914d\u7f6e\u65b0\u7684 VPN \u8fde\u63a5\uff1a \u5e38\u89c4\u9009\u9879\u5361\u4e2d\u586b\u5165\u76ee\u6807\u4e3b\u673a\u540d\u7684\u54cd\u5e94\u8005 FQDN \u5b89\u5168\u9009\u9879\u5361\u4e2d\u7684\u7c7b\u578b\u8bbe\u7f6e\u4e3a IKEv2 \u8eab\u4efd\u9a8c\u8bc1\u9009\u62e9 \u201c\u673a\u5668\u8bc1\u4e66\uff08machine certificate\uff09\u201d \u6216 \u201cEAP \u8eab\u4efd\u9a8c\u8bc1\uff08EAP authentication\uff09\u201d \u5982\u679c\u4f7f\u7528 EAP\uff0c\u8fde\u63a5\u65f6\u4f1a\u63d0\u793a\u767b\u5f55\u540d/\u5bc6\u7801 \u54cd\u5e94\u8005\u7684\u914d\u7f6e\u6587\u4ef6\u5c06\u7c7b\u4f3c\u4e8e\u524d\u6587\u7684 Android \u6848\u4f8b\u3002 user 'windows' 'password' ikev2 'responder_eap' passive esp \\ from any to dynamic \\ local 192.0.2.1 peer any \\ srcid server1.domain.fqdn \\ eap \"mschap-v2\" \\ config address 10.0.5.0/24 \\ config name-server 192.0.2.1 \\ tag \"ROADW\" \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709 Windows \u6d41\u91cf\u73b0\u5728\u90fd\u5c06\u901a\u8fc7 IKEv2 VPN\u3002 \u5728\u64b0\u5199\u672c\u6587\u65f6\uff0c\u5f53\u524d\u7248\u672c\u7684 Windows \u9ed8\u8ba4\u4f7f\u7528\u5f31\u52a0\u5bc6 (3DES/SHA1)\u3002 \u53ef\u4ee5\u4f7f\u7528 PowerShell \u547d\u4ee4 Set-VpnConnectionIPsecConfiguration \u66f4\u6b63\u6b64\u95ee\u9898\u3002","title":"\u4f7f\u7528 Windows \u5ba2\u6237\u7aef"},{"location":"openbsd-faq/faq17/#\u8fde\u63a5\u5230-ikev1l2tp-openbsd-vpn","text":"\u6709\u65f6\uff0c\u4eba\u4eec\u65e0\u6cd5\u63a7\u5236 VPN \u670d\u52a1\u5668\uff0c\u53ea\u80fd\u9009\u62e9\u8fde\u63a5\u5230 IKEv1 \u670d\u52a1\u5668\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9700\u8981 xl2tpd \u7b2c\u4e09\u65b9\u5305\u4f5c\u4e3a L2TP \u5ba2\u6237\u7aef\u3002 \u9996\u5148\u9700\u8981\u542f\u7528 isakmpd(8) \u548c ipsec \u670d\u52a1\uff0c\u4ee5\u4fbf\u542f\u52a8\u5b88\u62a4\u8fdb\u7a0b\u5e76\u5728\u542f\u52a8\u65f6\u52a0\u8f7d ipsec.conf(5) \u914d\u7f6e\u6587\u4ef6\uff1a # rcctl enable ipsec # rcctl enable isakmpd # rcctl set isakmpd flags -K \u4ee5\u4e0b ipsec.conf(5) \u914d\u7f6e\u5e94\u8be5\u5141\u8bb8\u4f7f\u7528\u63d0\u4f9b\u7684 PSK \u8fde\u63a5\u5230 A.B.C.D \u7684 IKEv1 \u670d\u52a1\u5668\uff0c\u53ea\u5141\u8bb8 L2TP \u7684 UDP \u7aef\u53e3 1701\uff1a ike dynamic esp transport proto udp from egress to A.B.C.D port l2tp \\ psk mekmitasdigoat \u542f\u52a8 isakmpd(8) \u5e76\u4f7f\u7528 ipsecctl(8) \u52a0\u8f7d ipsec.conf(5) \u5e94\u8be5\u5141\u8bb8\u60a8\u53ef\u89c6\u5316\u914d\u7f6e\u7684\u5b89\u5168\u5173\u8054 (Security Associations, SA) \u548c\u6d41\uff1a # rcctl start isakmpd # ipsecctl -f /etc/ipsec.conf # ipsecctl -sa FLOWS: flow esp in proto udp from A.B.C.D port l2tp to W.X.Y.Z peer A.B.C.D srcid my.client.fqdn dstid A.B.C.D/32 type use flow esp out proto udp from W.X.Y.Z to A.B.C.D port l2tp peer A.B.C.D srcid my.client.fqdn dstid A.B.C.D/32 type require SAD: esp transport from A.B.C.D to W.X.Y.Z spi 0x0d16ad1c auth hmac-sha1 enc aes esp transport from W.X.Y.Z to A.B.C.D spi 0xcd0549ba auth hmac-sha1 enc aes \u5982\u679c\u4e0d\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u5f53\u53cc\u65b9\u4ea4\u6362\u52a0\u5bc6\u53c2\u6570\u4ee5\u5546\u5b9a\u53ef\u7528\u7684\u6700\u4f73\u7ec4\u5408\u65f6\uff0c\u53ef\u80fd\u9700\u8981\u8c03\u6574\u9636\u6bb5 1\uff08\u4e3b\u8981\uff09\u548c\u9636\u6bb5 2\uff08\u5feb\u901f\uff09\u53c2\u6570\u3002 \u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9b\u53c2\u6570\u5e94\u8be5\u7531\u8fdc\u7a0b\u670d\u52a1\u5668\u7ba1\u7406\u5458\u63d0\u4f9b\uff0c\u5e76\u4e14\u5e94\u8be5\u5728 ipsec.conf(5) \u4e2d\u4f7f\u7528\uff1a ike dynamic esp transport proto udp from egress to A.B.C.D port l2tp \\ main auth \"hmac-sha1\" enc \"3des\" group modp1024 \\ quick auth \"hmac-sha1\" enc \"aes\" \\ psk mekmitasdigoat \u4e00\u65e6 IKEv1 \u96a7\u9053\u542f\u52a8\u5e76\u8fd0\u884c\uff0c\u5c31\u9700\u8981\u914d\u7f6e L2TP \u96a7\u9053\u3002OpenBSD \u9ed8\u8ba4\u4e0d\u63d0\u4f9b L2TP \u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u9700\u8981\u5b89\u88c5 xl2tpd \u3002 # pkg_add xl2tpd \u6709\u5173\u5982\u4f55\u6b63\u786e\u8bbe\u7f6e L2TP \u5ba2\u6237\u7aef\u7684\u8bf4\u660e\uff0c\u8bf7\u53c2\u9605 /usr/local/share/doc/pkg-readmes/xl2tpd \u3002","title":"\u8fde\u63a5\u5230 IKEv1/L2TP OpenBSD VPN"},{"location":"openbsd-faq/faq4/","text":"OpenBSD FAQ - \u5b89\u88c5\u6307\u5357 \u00b6 \u5b89\u88c5\u8fc7\u7a0b\u603b\u89c8 \u00b6 OpenBSD \u5b89\u88c5\u7a0b\u5e8f\u4f7f\u7528\u4e00\u4e2a\u7279\u6b8a\u7684 ramdisk \u5185\u6838\uff08 bsd.rd \uff09\uff0c\u751f\u6210\u4e00\u4e2a\u5b8c\u5168\u5728\u5185\u5b58\u4e2d\u8fd0\u884c\u7684\u5b9e\u65f6\u73af\u5883\u3002\u5b83\u5305\u542b\u4e86\u5b89\u88c5\u811a\u672c\u548c\u5c11\u91cf\u6267\u884c\u5b8c\u6574\u5b89\u88c5\u6240\u9700\u7684\u5de5\u5177\u3002\u8fd9\u4e9b\u5b9e\u7528\u7a0b\u5e8f\u4e5f\u53ef\u7528\u4e8e\u707e\u96be\u6062\u590d\u3002 \u53ef\u4ee5\u4ece\u8bb8\u591a\u4e0d\u540c\u7684\u6765\u6e90\u5f15\u5bfc ramdisk \u5185\u6838\uff1a CD/DVD USB \u9a71\u52a8\u5668 \u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u5206\u533a \u901a\u8fc7\u7f51\u7edc\uff08 PXE \u6216\u5176\u4ed6 \u7f51\u7edc\u542f\u52a8\u9009\u9879 \uff09 \u8f6f\u76d8 \u5e76\u975e\u6bcf\u4e2a \u5e73\u53f0 \u90fd\u652f\u6301\u6240\u6709\u8fd9\u4e9b\u9009\u9879\u3002 \u5982\u679c\u4f60\u6709\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684 OpenBSD \u7cfb\u7edf\uff0c bsd.rd \u662f\u4f60\u91cd\u65b0\u5b89\u88c5\u6216\u5347\u7ea7\u5230\u66f4\u65b0\u7248\u672c\u6240\u9700\u7684\u5168\u90e8\u5185\u5bb9\u3002\u4e3a\u6b64\uff0c\u8bf7 \u4e0b\u8f7d\u5e76\u9a8c\u8bc1 \u65b0\u7684 bsd.rd \uff0c\u5c06\u5176\u653e\u7f6e\u5728\u73b0\u6709\u6587\u4ef6\u7cfb\u7edf\u4e0a\uff0c\u7136\u540e\u4ece\u4e2d\u542f\u52a8\u3002\u5f15\u5bfc bsd.rd \u7684\u4e00\u822c\u65b9\u6cd5\u662f\u901a\u8fc7\u5e73\u53f0\u4e0a\u4f7f\u7528\u7684\u4efb\u4f55\u65b9\u5f0f\u5c06\u5f15\u5bfc\u5185\u6838\u4ece /bsd \u66f4\u6539\u4e3a /bsd.rd \u3002 \u5728 amd64 \u7cfb\u7edf\u4e0a\u4ece bsd.rd \u5f15\u5bfc\u53ef\u4ee5\u8fd9\u6837\u5b8c\u6210\uff1a Using drive 0, partition 3. Loading...... probing: pc0 com0 com1 mem[638K 1918M a20=on] disk: hd0+ hd1+ >> OpenBSD/amd64 BOOT 3.33 boot> bsd.rd \u8fd9\u5c06\u4ece\u7b2c\u4e00\u4e2a\u8bc6\u522b\u7684\u786c\u76d8\u7684\u7b2c\u4e00\u4e2a\u5206\u533a\u5f15\u5bfc\u540d\u4e3a bsd.rd \u7684\u5185\u6838\u3002 \u5982\u679c\u4f60\u9700\u8981\u6307\u5b9a\u4e0d\u540c\u7684\u9a71\u52a8\u5668\u6216\u5206\u533a\uff0c\u53ea\u9700\u5728\u5185\u6838\u540d\u79f0\u524d\u52a0\u4e0a\u5176\u4f4d\u7f6e\u5373\u53ef\u3002\u4ee5\u4e0b\u793a\u4f8b\u5c06\u4ece\u7b2c\u4e8c\u4e2a\u786c\u76d8\u9a71\u52a8\u5668\u7684\u7b2c\u56db\u4e2a\u5206\u533a\u542f\u52a8\uff1a Using drive 0, partition 3. Loading...... probing: pc0 com0 com1 mem[638K 1918M a20=on] disk: hd0+ hd1+ >> OpenBSD/amd64 BOOT 3.33 boot> boot hd1d:/bsd.rd OpenBSD \u5f15\u5bfc\u52a0\u8f7d\u5668\uff08boot loaders\uff09\u5728\u7279\u5b9a\u67b6\u6784\u7684 boot(8) \u624b\u518c\u9875\u9762\u4e2d\u6709\u8bb0\u5f55\u3002 \u5b89\u88c5\u524d\u68c0\u67e5\u6e05\u5355 \u00b6 \u5728\u5f00\u59cb\u4e4b\u524d\uff0c\u60a8\u5e94\u8be5\u5bf9\u81ea\u5df1\u60f3\u8981\u7684\u7ed3\u679c\u6709\u6240\u4e86\u89e3\u3002\u4e00\u4e9b\u503c\u5f97\u4e8b\u5148\u8003\u8651\u7684\u4e8b\u60c5\uff1a \u4e3b\u673a\u540d \u5df2\u5b89\u88c5\u5e76\u53ef\u7528\u7684\u786c\u4ef6\uff1a \u9a8c\u8bc1 OpenBSD \u4e0e\u4f60\u7684\u786c\u4ef6\u7684\u517c\u5bb9\u6027\u3002\u4f60\u53ef\u80fd\u9700\u8981\u67e5\u9605\u7279\u5b9a\u4e8e\u5e73\u53f0\u7684\u5b89\u88c5\u8bf4\u660e\uff0c\u5c24\u5176\u662f\u5f53\u4f60\u4f7f\u7528\u975e x86 CPU \u67b6\u6784\u65f6\u3002\u5b83\u4eec\u5305\u542b\u8be6\u7ec6\u8bf4\u660e\u548c\u4efb\u4f55\u53ef\u80fd\u7684\u8b66\u544a\uff1a [ alpha ] [ amd64 ] [ arm64 ] [ armv7 ] [ hppa ] [ i386 ] [ landisk ] [ luna88k ] [ macppc ] [ octeon ] [ powerpc64 ] [ riscv64 ] [ sparc64 ] \u5982\u679c\u65e0\u7ebf\u4e92\u8054\u7f51\u662f\u4f60\u63a5\u5165\u7f51\u7edc\u552f\u4e00\u7684\u9009\u62e9\uff0c\u4f60\u7684\u7f51\u5361\u662f\u5426\u9700\u8981 \u989d\u5916\u7684\u56fa\u4ef6 \uff1f\u5982\u679c\u662f\u8fd9\u6837\uff0c\u4f60\u9700\u8981\u624b\u52a8\u5c06\u5176\u4e0b\u8f7d\u5230 USB \u9a71\u52a8\u5668\u6216\u7c7b\u4f3c\u8bbe\u5907\uff0c\u7136\u540e\u5728\u5b89\u88c5 OpenBSD \u540e\u4f7f\u7528 fw_update(1) \u542f\u7528\u5b83\u3002 \u8981\u4f7f\u7528\u7684\u5b89\u88c5\u65b9\u6cd5 \u6240\u9700\u7684\u78c1\u76d8\u5e03\u5c40\uff1a \u73b0\u6709\u6570\u636e\u662f\u5426\u9700\u8981\u4fdd\u5b58\u81f3\u522b\u5904\uff1f OpenBSD \u4f1a\u5728\u8fd9\u4e2a\u7cfb\u7edf\u4e0a\u4e0e\u53e6\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u5171\u5b58\u5417\uff1f\u5982\u679c\u662f\u8fd9\u6837\uff0c\u6bcf\u4e2a\u7cfb\u7edf\u5c06\u5982\u4f55\u542f\u52a8\uff1f\u4f60\u9700\u8981\u5b89\u88c5\u5f15\u5bfc\u7ba1\u7406\u5668\u5417\uff1f \u5c06\u6574\u4e2a\u78c1\u76d8\u7528\u4e8e\u5b89\u88c5 OpenBSD\uff0c\u8fd8\u662f\u8981\u4fdd\u7559\u73b0\u6709\u5206\u533a/\u64cd\u4f5c\u7cfb\u7edf\uff08\u6216\u672a\u6765\u5212\u5206\u7684\u78c1\u76d8\u7a7a\u95f4\uff09\uff1f \u4f60\u5e0c\u671b\u5982\u4f55\u5bf9\u78c1\u76d8\u7684 OpenBSD \u90e8\u5206\u8fdb\u884c\u5b50\u5206\u533a\uff1f \u4f60\u9700\u8981 \u78c1\u76d8\u52a0\u5bc6 \u5417\uff1f \u7f51\u7edc\u8bbe\u7f6e\uff08\u5982\u679c\u4e0d\u4f7f\u7528 DHCP\uff09\uff1a \u57df\u540d\u548c DNS \u5730\u5740 \u6bcf\u4e2a NIC \u7684 IP \u5730\u5740\u548c\u5b50\u7f51\u63a9\u7801 \u7f51\u5173\u5730\u5740 \u4e0b\u8f7d OpenBSD \u00b6 \u6587\u4ef6\u540d \u4e0b\u8f7d\u65b9\u5f0f install70.img \u53ef\u4ee5\u5199\u5165 USB \u95ea\u5b58\u9a71\u52a8\u5668\u6216\u7c7b\u4f3c\u8bbe\u5907\u7684\u78c1\u76d8\u6620\u50cf\u3002\u5305\u62ec \u6587\u4ef6\u96c6\uff08File Sets\uff09 \u3002 amd64 \u3001 arm64 \u3001 i386 \u3001 octeon \u3001 powerpc64 \u3001 riscv64 \u3001 sparc64 miniroot70.img \u540c\u4e0a\uff0c\u4f46\u4e0d\u5305\u62ec\u6587\u4ef6\u96c6\u3002\u5b83\u4eec\u53ef\u4ee5\u4ece Internet \u6216\u672c\u5730\u78c1\u76d8\u4e0b\u8f7d\u3002 alpha \u3001 amd64 \u3001 arm64 \u3001 armv7 \u3001 i386 \u3001 landisk \u3001 luna88k \u3001 octeon \u3001 powerpc64 \u3001 riscv64 \u3001 sparc64 install70.iso \u53ef\u7528\u4e8e\u521b\u5efa\u5b89\u88c5 CD/DVD \u7684 ISO 9660 \u955c\u50cf\u6587\u4ef6\u3002\u5305\u62ec\u6587\u4ef6\u96c6\u3002 alpha \u3001 amd64 \u3001 hppa \u3001 i386 \u3001 macppc \u3001 powerpc64 \u3001 sparc64 cd70.iso \u540c\u4e0a\uff0c\u4f46\u4e0d\u5305\u62ec\u6587\u4ef6\u96c6\u3002 alpha \u3001 amd64 \u3001 hppa \u3001 i386 \u3001 macppc \u3001 sparc64 floppy70.img \u652f\u6301\u4e00\u4e9b\u7f3a\u5c11\u5176\u4ed6\u542f\u52a8\u9009\u9879\u7684\u65e7\u673a\u5668\u3002 amd64 \u3001 i386 \u3001 sparc64 \u4f60\u4e5f\u53ef\u4ee5\u4ece\u8bb8\u591a\u5907\u7528 \u955c\u50cf\u7ad9\u70b9 \u4e0b\u8f7d\u955c\u50cf\u6587\u4ef6\u3002 \u5305\u542b\u6821\u9a8c\u548c\u7684 SHA256 \u6587\u4ef6\u53ef\u4ee5\u5728\u4e0e\u5b89\u88c5\u6587\u4ef6\u76f8\u540c\u7684\u76ee\u5f55\u4e2d\u627e\u5230\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 sha256(1) \u547d\u4ee4\u786e\u8ba4\u4e0b\u8f7d\u7684\u6587\u4ef6\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u90fd\u6ca1\u6709\u88ab\u7834\u574f\u3002 $ sha256 -C SHA256 miniroot*.img (SHA256) miniroot70.img: OK \u6216\u8005\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u5e26\u6709 GNU coreutils \u7684\u64cd\u4f5c\u7cfb\u7edf\uff1a $ sha256sum -c --ignore-missing SHA256 miniroot70.img: OK \u4f46\u662f\uff0c\u8fd9\u53ea\u68c0\u67e5\u610f\u5916\u635f\u574f\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 signify(1) \u548c SHA256.sig \u6587\u4ef6\u5bf9\u4e0b\u8f7d\u7684\u955c\u50cf\u6587\u4ef6\u8fdb\u884c\u52a0\u5bc6\u9a8c\u8bc1\u3002 $ signify -Cp /etc/signify/openbsd-70-base.pub -x SHA256.sig miniroot*.img Signature Verified miniroot70.img: OK \u8bf7\u6ce8\u610f\uff0c\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684 signify \u5305\u53ef\u80fd\u4e0d\u5305\u542b\u6240\u9700\u7684\u516c\u94a5\uff0c\u6216\u8005\u5b83\u53ef\u80fd\u5b89\u88c5\u5728\u5176\u4ed6\u4f4d\u7f6e\u3002 install70.iso \u548c install70.img \u6620\u50cf\u4e0d\u5305\u542b SHA256.sig \u6587\u4ef6\uff0c\u56e0\u6b64\u5b89\u88c5\u7a0b\u5e8f\u4f1a\u63d0\u793a\u5b83\u65e0\u6cd5\u68c0\u67e5\u5305\u542b\u96c6\u7684\u7b7e\u540d\uff1a Directory does not contain SHA256.sig. Continue without verification? [no] \u8fd9\u662f\u56e0\u4e3a\u5b89\u88c5\u7a0b\u5e8f\u9a8c\u8bc1\u5b83\u4eec\u6beb\u65e0\u610f\u4e49\u3002\u5982\u679c\u6709\u4eba\u8981\u5236\u4f5c\u6d41\u6c13\u5b89\u88c5\u6620\u50cf\uff0c\u4ed6\u4eec\u5f53\u7136\u53ef\u4ee5\u66f4\u6539\u5b89\u88c5\u7a0b\u5e8f\u4ee5\u8bf4\u660e\u6587\u4ef6\u662f\u5408\u6cd5\u7684\u3002\u5982\u679c\u4f60\u4e8b\u5148\u9a8c\u8bc1\u4e86\u955c\u50cf\u7684\u7b7e\u540d\uff0c\u5219\u5728\u8be5\u63d0\u793a\u4e0b\u56de\u7b54 \u201cYes\u201d \uff0c\u8868\u793a\u662f\u5b89\u5168\u7684\u3002 \u521b\u5efa\u5b89\u88c5\u4ecb\u8d28 \u00b6 \u95ea\u5b58\u9a71\u52a8\u5668 \u00b6 \u4f60\u53ef\u4ee5\u901a\u8fc7\u8fde\u63a5\u76ee\u6807\u8bbe\u5907\u5e76\u4f7f\u7528 dd(1) \u590d\u5236\u955c\u50cf\u6765\u521b\u5efa\u53ef\u5f15\u5bfc\u7684 USB \u95ea\u5b58\u9a71\u52a8\u5668\u3002 \u5047\u5b9a\u4f60\u4f7f\u7528 OpenBSD \uff0c\u4e14\u8bbe\u5907\u88ab\u8bc6\u522b\u4e3a sd6\uff1a # dd if=install*.img of=/dev/rsd6c bs=1m \u8bf7\u6ce8\u610f\uff0c\u4f7f\u7528\u7684\u662f \u539f\u59cb I/O \u8bbe\u5907 \uff1a rsd6c \u800c\u4e0d\u662f sd6c \u3002 \u5176\u4ed6\u5e73\u53f0\u4e0a\u7684\u64cd\u4f5c\u7ec6\u8282\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u5982 GNU \u7248\u672c\u7684 dd \u5c06\u9700\u8981 bs=1M \uff08\u6ce8\u610f\u5927\u5199\u7684 M\uff09\u3002 \u5982\u679c\u60a8\u4f7f\u7528\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u8bf7\u52a1\u5fc5\u9009\u62e9\u9002\u5f53\u7684\u8bbe\u5907\u540d\u79f0\uff1a\u4f8b\u5982\uff0cLinux \u4e0a\u7684 /dev/sdX \u6216 macOS \u4e0a\u7684 /dev/rdiskX \u3002 CD-ROMs \u00b6 \u4f60\u53ef\u4ee5\u4f7f\u7528 cdio(1) \u5728 OpenBSD \u4e0a\u521b\u5efa\u53ef\u5f15\u5bfc CD-ROM\u3002 # cdio tao cd*.iso \u6267\u884c\u7b80\u5355\u5b89\u88c5 \u00b6 \u5982\u679c\u4f60\u9700\u8981\u6709\u5173\u4ece\u4f60\u504f\u597d\u7684\u5b89\u88c5\u4ecb\u8d28\u542f\u52a8\u7684\u8bf4\u660e\uff0c\u8bf7\u67e5\u770b\u4f60\u7684\u673a\u5668\u7684\u76f8\u5173 \u5e73\u53f0\u9875\u9762 \u3002 \u5b89\u88c5\u7a0b\u5e8f\u65e8\u5728\u4ee5\u975e\u5e38\u6709\u7528\u7684\u9ed8\u8ba4\u914d\u7f6e\u5b89\u88c5 OpenBSD\uff0c\u5e76\u4e14\u9700\u8981\u6700\u5c11\u7684\u7528\u6237\u5e72\u9884\u3002\u4e8b\u5b9e\u4e0a\uff0c\u4f60\u901a\u5e38\u53ea\u9700\u6309 Enter \u952e\u5373\u53ef\u83b7\u5f97\u826f\u597d\u5b89\u88c5\u7684 OpenBSD\uff0c\u4ec5\u5728\u8f93\u5165 root \u5bc6\u7801\u65f6\u9700\u5c06\u624b\u79fb\u5230\u952e\u76d8\u7684\u5176\u4f59\u90e8\u5206\u5373\u53ef\u3002 \u663e\u793a dmesg(8) \u540e\uff0c\u4f60\u5c06\u770b\u5230\u7b2c\u4e00\u4e2a\u5b89\u88c5\u7a0b\u5e8f\u95ee\u9898\uff1a ... root on rd0a swap on rd0b dump on rd0b erase ^?, werase ^W, kill ^U, intr ^C, status ^T Welcome to the OpenBSD/amd64 7.0 installation program. (I)nstall, (U)pgrade, (A)utoinstall or (S)hell? \u9009\u62e9 (I)nstall \u5e76\u6309\u7167\u8bf4\u660e\u8fdb\u884c\u64cd\u4f5c\u3002 \u6587\u4ef6\u96c6 \u00b6 \u5b8c\u6574\u7684 OpenBSD \u5b89\u88c5\u5206\u4e3a\u591a\u4e2a\u6587\u4ef6\u96c6\uff08File Sets\uff09\uff1a \u540d\u79f0 \u7528\u9014 bsd \u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\uff08\u5fc5\u9700\u7684\uff09 bsd.mp \u591a\u5904\u7406\u5668\u5185\u6838\uff08\u4ec5\u5728\u67d0\u4e9b\u5e73\u53f0\u4e0a\uff09 bsd.rd ramdisk \u5185\u6838 base70.tgz \u57fa\u7840\u7cfb\u7edf\uff08\u5fc5\u9700\u7684\uff09 comp70.tgz \u7f16\u8bd1\u5668\u96c6\u5408\u3001\u5934\u6587\u4ef6\u548c\u5e93 man70.tgz \u624b\u518c\u9875 game70.tgz \u6587\u5b57\u6e38\u620f xbase70.tgz X11 \u7684\u57fa\u7840\u5e93\u548c\u5b9e\u7528\u7a0b\u5e8f\uff08\u9700\u8981 xshare70.tgz \uff09 xfont70.tgz X11 \u4f7f\u7528\u7684\u5b57\u4f53 xserv70.tgz X11 \u7684 X \u670d\u52a1\u5668 xshare70.tgz X11 \u7684\u624b\u518c\u9875\u3001\u672c\u5730\u5316\u8bbe\u7f6e\u548c\u5934\u6587\u4ef6 \u5efa\u8bae\u65b0\u7528\u6237\u5168\u90e8\u5b89\u88c5\u3002 \u4e00\u4e9b\u6765\u81ea xbase70.tgz \u7684\u5e93\uff0c\u5982 freetype \u6216 fontconfig\uff0c\u53ef\u4ee5\u5728 X \u4e4b\u5916\u7531\u64cd\u4f5c\u6587\u672c\u6216\u56fe\u5f62\u7684\u7a0b\u5e8f\u4f7f\u7528\u3002\u6b64\u7c7b\u7a0b\u5e8f\u901a\u5e38\u9700\u8981\u6765\u81ea xfont70.tgz \u6216\u5b57\u4f53\u5305\u7684\u5b57\u4f53\u3002\u4e3a\u7b80\u5355\u8d77\u89c1\uff0c\u5f00\u53d1\u4eba\u5458\u51b3\u5b9a\u4e0d\u7ef4\u62a4\u5141\u8bb8\u5927\u591a\u6570\u975e X \u7aef\u53e3\u8fd0\u884c\u7684\u6700\u5c0f xbase70.tgz \u96c6\u3002 \u5b89\u88c5\u540e\u6dfb\u52a0\u6587\u4ef6\u96c6 \u00b6 \u5982\u679c\u4f60\u9009\u62e9\u5728\u5b89\u88c5\u65f6\u8df3\u8fc7\u67d0\u4e9b\u6587\u4ef6\u96c6\uff0c\u4f60\u53ef\u80fd\u7a0d\u540e\u4f1a\u610f\u8bc6\u5230\u4f60\u786e\u5b9e\u786e\u5b9e\u9700\u8981\u5b83\u4eec\u3002\u8981\u5b89\u88c5\u989d\u5916\u7684\u6587\u4ef6\u96c6\uff0c\u53ea\u9700\u4ece\u4f60\u7684\u6839\u6587\u4ef6\u7cfb\u7edf\u542f\u52a8 bsd.rd \u5e76\u9009\u62e9 (U)pgrade \u3002\u5f53\u4f60\u8fdb\u5165\u6587\u4ef6\u96c6\u5217\u8868\u65f6\uff0c\u9009\u62e9\u4f60\u9700\u8981\u7684\u6587\u4ef6\u96c6\u3002 \u78c1\u76d8\u5206\u533a \u00b6 OpenBSD \u53ef\u4ee5\u5b89\u88c5\u5728 512MB \u7684\u5c0f\u7a7a\u95f4\u4e2d\uff0c\u4f46\u662f\u4f7f\u7528\u8fd9\u4e48\u5c0f\u7684\u8bbe\u5907\u662f\u4e00\u4e2a\u53ea\u9002\u5408\u6709\u7ecf\u9a8c\u7684\u9ad8\u7ea7\u7528\u6237\u7684\u65b9\u6848\u3002\u5728\u4f60\u6709\u4e00\u5b9a\u7ecf\u9a8c\u4e4b\u524d\uff0c\u5efa\u8bae\u4f7f\u7528 8GB \u6216\u66f4\u591a\u78c1\u76d8\u7a7a\u95f4\u3002 \u4e0e\u5176\u4ed6\u4e00\u4e9b\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u540c\uff0cOpenBSD \u9f13\u52b1\u7528\u6237\u5c06\u4ed6\u4eec\u7684\u78c1\u76d8\u5206\u6210\u591a\u4e2a\u5206\u533a\uff0c\u800c\u4e0d\u662f\u4e00\u4e24\u4e2a\u5927\u7684\u5206\u533a\u3002\u8fd9\u6837\u505a\u7684\u4e00\u4e9b\u539f\u56e0\u662f\uff1a \u5b89\u5168\u6027\uff1aOpenBSD \u7684\u4e00\u4e9b\u9ed8\u8ba4\u5b89\u5168\u529f\u80fd\u4f9d\u8d56\u4e8e\u6587\u4ef6\u7cfb\u7edf \u6302\u8f7d\u9009\u9879 \uff0c\u4f8b\u5982 nosuid \u3001 nodev \u3001 noexec \u6216 wxallowed \u3002 \u7a33\u5b9a\u6027\uff1a\u5982\u679c\u7528\u6237\u6216\u884c\u4e3a\u4e0d\u7aef\u7684\u7a0b\u5e8f\u5177\u6709\u5199\u5165\u6743\u9650\uff0c\u5219\u4ed6\u4eec\u53ef\u4ee5\u7528\u5783\u573e\u586b\u6ee1\u6587\u4ef6\u7cfb\u7edf\u3002 \u4f60\u6240\u5e0c\u671b\u80fd\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u7cfb\u7edf\u4e0a\u8fd0\u884c\u7684\u5173\u952e\u7a0b\u5e8f\u4e0d\u4f1a\u56e0\u6b64\u88ab\u6253\u65ad\u3002 fsck(8) \uff1a\u4f60\u53ef\u4ee5\u628a\u4ece\u6765\u4e0d\u9700\u8981\u6216\u5f88\u5c11\u9700\u8981\u5199\u5165\u7684\u5206\u533a\u6302\u8f7d\u4e3a readonly \uff08\u53ea\u8bfb\uff09\uff0c\u8fd9\u5c06\u6d88\u9664\u5728\u5d29\u6e83\u6216\u7535\u6e90\u4e2d\u65ad\u540e\u8fdb\u884c\u6587\u4ef6\u7cfb\u7edf\u68c0\u67e5\u7684\u9700\u8981\u3002 \u5b89\u88c5\u7a0b\u5e8f\u5c06\u6839\u636e\u4f60\u7684\u786c\u76d8\u5927\u5c0f\u521b\u5efa\u5206\u533a\u8ba1\u5212\u3002\u867d\u7136\u8fd9\u4e0d\u662f\u9002\u5408\u6240\u6709\u4eba\u7684\u5b8c\u7f8e\u5e03\u5c40\uff0c\u4f46\u5b83\u4e3a\u5f04\u6e05\u695a\u4f60\u7684\u9700\u6c42\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5f88\u597d\u7684\u8d77\u70b9\u3002\u5728\u505a\u51fa\u5173\u4e8e\u81ea\u5b9a\u4e49\u5206\u533a\u65b9\u6848\u7684\u51b3\u5b9a\u4e4b\u524d\uff0c\u8bf7\u9605\u8bfb disklabel \u7684 \u81ea\u52a8\u78c1\u76d8\u5206\u914d \u7684\u9ed8\u8ba4\u503c\u548c hier(7) \u624b\u518c\u9875\u3002 \u7531\u4e8e\u4e00\u4e9b \u5305 \u9700\u8981\u4ece wxallowed \u6587\u4ef6\u7cfb\u7edf\u542f\u52a8\uff0c\u5efa\u8bae\u5212\u5206\u4e00\u4e2a\u5355\u72ec\u7684 /usr/local \u5206\u533a\u3002 \u5f53\u4f60\u9700\u8981\u5347\u7ea7\u65f6\uff0c\u975e\u5e38\u5c0f\u7684\u5206\u533a\u4f1a\u53d8\u5f97\u5f88\u9ebb\u70e6\u3002 \u4e00\u4e2a\u72ec\u7acb /home \u5206\u533a\u662f\u4e0d\u9519\u7684\u4e3b\u610f\u3002\u9700\u8981\u65b0\u7248\u672c\u7684\u64cd\u4f5c\u7cfb\u7edf\uff1f\u4fdd\u6301\u4f60\u7684 /home \u5206\u533a\u4e0d\u53d8\uff0c\u64e6\u9664\u5e76\u91cd\u65b0\u52a0\u8f7d\u5176\u4ed6\u4e00\u5207\u3002 \u4f60\u53ef\u80fd\u8fd8\u9700\u8981\u521b\u5efa\u4e00\u4e2a altroot \u5206\u533a \u6765\u5907\u4efd\u4f60\u7684\u6839\u6587\u4ef6\u7cfb\u7edf\u3002 \u66b4\u9732\u5728\u4e92\u8054\u7f51\u4e0a\u7684\u7cfb\u7edf\u5e94\u8be5\u6709\u4e00\u4e2a\u5355\u72ec\u7684 /var \u5206\u533a\uff0c\u751a\u81f3\u53ef\u80fd\u9700\u8981\u4e00\u4e2a\u5355\u72ec\u7684 /var/log \u5206\u533a\u3002 \u4ece\u6e90\u4ee3\u7801\u7f16\u8bd1\u67d0\u4e9b ports \u4f1a\u5728\u4f60\u7684 /usr \u548c /tmp \u5206\u533a\u4e0a\u5360\u7528\u5927\u91cf\u7684\u7a7a\u95f4\u3002 \u5728\u5b89\u88c5\u540e\u53d1\u9001\u4f60\u7684 dmesg \u00b6 \u5b89\u88c5\u6210\u529f\u540e\uff0c\u770b\u770b dmesg(8) \u547d\u4ee4\u7684\u8f93\u51fa\uff0c\u770b\u770b\u662f\u5426\u6709\u4efb\u4f55\u5f02\u5e38\u3002\u5982\u679c\u4e00\u4e2a\u8bbe\u5907\u663e\u793a\u4e3a not configured \uff08\u672a\u914d\u7f6e\uff09\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u76ee\u524d\u4e0d\u88ab\u5185\u6838\u6240\u652f\u6301\u3002\u8fd9\u53ef\u80fd\u4f1a\u5728\u5c06\u6765\u901a\u8fc7\u53d1\u9001 dmesg \u800c\u5f97\u5230\u6539\u5584\u3002\u5f15\u81ea /usr/src/etc/root/root.mail \uff1a If you wish to ensure that OpenBSD runs better on your machines, please do us a favor (after you have your mail system configured!) and type something like: # (dmesg; sysctl hw.sensors) | \\ mail -s \"Sony VAIO 505R laptop, apm works OK\" dmesg@openbsd.org so that we can see what kinds of configurations people are running. As shown, including a bit of information about your machine in the subject or the body can help us even further. We will use this information to improve device driver support in future releases. (Please do this using the supplied GENERIC kernel, not for a custom compiled kernel, unless you're unable to boot the GENERIC kernel. If you have a multi-processor machine, dmesg results of both GENERIC.MP and GENERIC kernels are appreciated.) The device driver information we get from this helps us fix existing drivers. Thank you! \u8bd1\u6587\uff1a \u5982\u679c\u4f60\u5e0c\u671b\u786e\u4fdd OpenBSD \u5728\u60a8\u7684\u673a\u5668\u4e0a\u8fd0\u884c\u5f97\u66f4\u597d\uff0c\u8bf7\u5e2e\u6211\u4eec\u4e2a\u5fd9\uff08\u5728\u4f60\u914d\u7f6e\u597d\u90ae\u4ef6\u7cfb\u7edf\u4e4b\u540e\uff01\uff09\u5e76\u952e\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a # (dmesg; sysctl hw.sensors) | \\ mail -s \"Sony VAIO 505R laptop, apm works OK\" dmesg@openbsd.org \u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u770b\u5230\u4eba\u4eec\u6b63\u5728\u8fd0\u884c\u4ec0\u4e48\u6837\u7684\u914d\u7f6e\u3002\u5982\u56fe\u6240\u793a\uff0c\u5728\u4e3b\u9898\u6216\u6b63\u6587\u4e2d\u5305\u62ec\u4e00\u70b9\u5173\u4e8e\u4f60\u7684\u673a\u5668\u7684\u4fe1\u606f\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u66f4\u8fdb\u4e00\u6b65\u3002\u6211\u4eec\u5c06\u4f7f\u7528\u8fd9\u4e9b\u4fe1\u606f\u6765\u6539\u8fdb\u672a\u6765\u7248\u672c\u4e2d\u7684\u8bbe\u5907\u9a71\u52a8\u652f\u6301\u3002(\u8bf7\u4f7f\u7528\u63d0\u4f9b\u7684 GENERIC \u5185\u6838\u6765\u505a\u8fd9\u4e2a\uff0c\u800c\u4e0d\u662f\u81ea\u5b9a\u4e49\u7f16\u8bd1\u7684\u5185\u6838\uff0c\u9664\u975e\u4f60\u65e0\u6cd5\u542f\u52a8 GENERIC \u5185\u6838\u3002\u5982\u679c\u4f60\u6709\u4e00\u53f0\u591a\u5904\u7406\u5668\u7684\u673a\u5668\uff0c\u8bf7\u63d0\u4f9b GENERIC.MP \u548c GENERIC \u5185\u6838\u7684 dmesg \u7ed3\u679c\uff09\u3002\u6211\u4eec\u4ece\u4e2d\u5f97\u5230\u7684\u8bbe\u5907\u9a71\u52a8\u4fe1\u606f\u6709\u52a9\u4e8e\u6211\u4eec\u4fee\u590d\u73b0\u6709\u7684\u9a71\u52a8\u3002\u8c22\u8c22\u4f60\uff01 \u6216\u8005\uff0c\u5c06\u4f60\u7684 dmesg \u8f93\u51fa\u4fdd\u5b58\u5230\u6587\u672c\u6587\u4ef6\u5e76\u5c06\u5176\u5185\u5bb9\u53d1\u9001\u7ed9\u6211\u4eec\uff1a $ (dmesg; sysctl hw.sensors) > ~/dmesg.txt \u8bf7\u914d\u7f6e\u4f60\u7684\u7535\u5b50\u90ae\u4ef6\u5ba2\u6237\u7aef\u4ee5\u4f7f\u7528\u7eaf\u6587\u672c\u3002\u7279\u522b\u5730\uff0c\u4e0d\u8981\u4f7f\u7528 HTML \u683c\u5f0f\u6216\u5f3a\u5236\u6362\u884c\u3002 \u8bf7\u5c06 dmesg \u653e\u5165\u90ae\u4ef6\u6b63\u6587\u4e2d\uff0c\u800c\u4e0d\u662f\u4f5c\u4e3a\u9644\u4ef6\u53d1\u9001\u3002 \u81ea\u5b9a\u4e49\u5b89\u88c5\u8fc7\u7a0b \u00b6 site70.tgz \u6587\u4ef6\u96c6 \u00b6 OpenBSD \u5b89\u88c5\u548c\u5347\u7ea7\u811a\u672c\u5141\u8bb8\u9009\u62e9\u4e00\u4e2a\u7528\u6237\u521b\u5efa\u7684\u540d\u4e3a site70.tgz \u7684\u96c6\u5408\u3002\u4e0e\u5b98\u65b9 \u6587\u4ef6\u96c6 \u4e00\u6837\uff0c\u8fd9\u662f\u4e00\u4e2a tar(1) \u5b58\u6863\uff0c\u4ee5 / \u4e3a\u7236\u76ee\u5f55\u5e76\u4f7f\u7528 -xzphf \u9009\u9879\u89e3\u538b\u3002\u5b83\u662f\u6700\u540e\u5b89\u88c5\u7684\u6587\u4ef6\u96c6\uff0c\u56e0\u6b64\u53ef\u7528\u4e8e\u8865\u5145\u548c\u4fee\u6539\u9ed8\u8ba4\u5b89\u88c5\u4e2d\u7684\u6587\u4ef6\u3002\u6b64\u5916\uff0c\u53ef\u4ee5\u4f7f\u7528\u540d\u4e3a site70-$(hostname -s).tgz \u7684\u4e3b\u673a\u540d\u76f8\u5173\u96c6\u3002\u6ce8\u610f\uff1a\u5982\u679c\u4f60\u6253\u7b97\u901a\u8fc7 HTTP(s) \u63d0\u4f9b\u6587\u4ef6\u96c6\uff0c\u8bf7\u5c06 site70.tgz \u653e\u5728\u4f60\u7684\u6e90\u76ee\u5f55\u4e2d\u5e76\u5c06\u5176\u5305\u542b\u5728\u4f60\u7684 index.txt \u4e2d\u3002 \u7136\u540e\u5b83\u5c06\u662f\u5b89\u88c5\u65f6\u7684\u4e00\u4e2a\u9009\u9879\u3002 install.site \u548c upgrade.site \u811a\u672c \u00b6 \u5982\u679c site70.tgz \u6587\u4ef6\u96c6\u5305\u542b\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6 /install.site \uff0c\u5b89\u88c5\u7a0b\u5e8f\u4f1a\u5728\u65b0\u5b89\u88c5\u7684\u7cfb\u7edf\u6839\u76ee\u5f55\u4e0b\u4f7f\u7528 chroot(8) \u8fd0\u884c\u5b83\u3002\u540c\u6837\uff0c\u5347\u7ea7\u811a\u672c\u8fd0\u884c /upgrade.site \u3002\u540e\u8005\u53ef\u4ee5\u653e\u5728\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u91cd\u65b0\u542f\u52a8\u8fdb\u884c\u5347\u7ea7\u3002 \u7528\u6cd5\u793a\u4f8b\uff1a \u8bbe\u7f6e\u7cfb\u7edf\u65f6\u95f4\u3002 \u5728\u5c06\u65b0\u7cfb\u7edf\u516c\u5f00\u7ed9\u4e16\u754c\u5176\u4ed6\u5730\u65b9\u4e4b\u524d\uff0c\u7acb\u5373\u5bf9\u5176\u8fdb\u884c\u5907\u4efd/\u5b58\u6863\u3002 \u5728\u7b2c\u4e00\u6b21\u542f\u52a8\u540e\u8fd0\u884c\u4e00\u7ec4\u4efb\u610f\u547d\u4ee4\u3002\u5982\u679c install.site \u7528\u4e8e\u5c06\u4efb\u4f55\u6b64\u7c7b\u547d\u4ee4\u9644\u52a0\u5230 rc.firsttime(8) \u6587\u4ef6\uff08\u9644\u52a0\u5230\u6b64\u6587\u4ef6\u662f\u5fc5\u8981\u7684\uff0c\u56e0\u4e3a\u5b89\u88c5\u7a0b\u5e8f\u672c\u8eab\u53ef\u80fd\u4f1a\u5199\u5165\u6b64\u6587\u4ef6\uff09\uff0c\u5219\u4f1a\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u3002\u5728\u542f\u52a8\u65f6\uff0c rc.firsttime \u88ab\u6267\u884c\u4e00\u6b21\u7136\u540e\u88ab\u5220\u9664\u3002 \u591a\u91cd\u5f15\u5bfc \u00b6 \u591a\u91cd\u5f15\u5bfc\u662f\u5728\u4e00\u53f0\u8ba1\u7b97\u673a\u4e0a\u62e5\u6709\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5e76\u901a\u8fc7\u67d0\u79cd\u65b9\u5f0f\u9009\u62e9\u8981\u5f15\u5bfc\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002 \u5728\u5f00\u59cb\u4e4b\u524d\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u719f\u6089 OpenBSD \u5f15\u5bfc\u8fc7\u7a0b \u3002 fdisk(8) \u7684\u7b80\u8981\u4ecb\u7ecd\u5728 \u4f7f\u7528 OpenBSD \u7684 fdisk \u90e8\u5206\u3002 \u5982\u679c\u4f60\u8981\u5c06 OpenBSD \u6dfb\u52a0\u5230\u73b0\u6709\u7cfb\u7edf\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u5728\u5b89\u88c5 OpenBSD \u4e4b\u524d\u521b\u5efa\u4e00\u4e9b\u7a7a\u95f2\u7a7a\u95f4\u3002\u9664\u4e86\u73b0\u6709\u7cfb\u7edf\u7684\u672c\u673a\u5de5\u5177\u5916\uff0c gparted \u8fd8\u53ef\u7528\u4e8e\u5220\u9664\u6216\u8c03\u6574\u73b0\u6709\u5206\u533a\u7684\u5927\u5c0f\u3002\u6700\u597d\u4f7f\u7528\u56db\u4e2a\u4e3b\u8981 MBR \u5206\u533a\u4e4b\u4e00\u6765\u5f15\u5bfc OpenBSD\u3002\u6269\u5c55\u5206\u533a\u53ef\u80fd\u4e0d\u8d77\u4f5c\u7528\u3002 \u636e\u62a5\u9053\uff0c rEFInd \u901a\u5e38\u6709\u6548\uff1b GRUB \u901a\u5e38\u4f1a\u5931\u8d25\u3002\u65e0\u8bba\u54ea\u79cd\u60c5\u51b5\uff0c\u4f60\u90fd\u5b8c\u5168\u9760\u81ea\u5df1\u51b3\u5b9a\u5982\u4f55\u64cd\u4f5c\u3002 Windows \u00b6 \u542f\u52a8\u914d\u7f6e\u6570\u636e (Boot Configuration Data, BCD) \u5b58\u50a8\u5141\u8bb8\u901a\u8fc7 bcdedit \u542f\u52a8\u591a\u4e2a\u7248\u672c\u7684 Windows\u3002\u4f60\u53ef\u4ee5\u5728 \u8fd9\u7bc7\u6587\u7ae0 \u4e2d\u627e\u5230\u4e00\u4e2a\u5f88\u597d\u7684\u4ecb\u7ecd\u3002\u5982\u679c\u4f60\u60f3\u8981\u4e00\u4e2a GUI \u66ff\u4ee3\u54c1\uff0c\u4f60\u53ef\u80fd\u60f3\u9700\u8981 EasyBCD \u3002 \u4f60\u5c06\u9700\u8981\u4e00\u4efd OpenBSD \u5b89\u88c5\u7684 \u5206\u533a\u5f15\u5bfc\u8bb0\u5f55 (PBR) \u7684\u526f\u672c\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u7684\u8fc7\u7a0b\u5c06\u5176\u590d\u5236\u5230\u6587\u4ef6\u4e2d\uff1a # dd if=/dev/rsd0a of=openbsd.pbr bs=512 count=1 \u5176\u4e2d sd0a \u662f\u4f60\u7684\u542f\u52a8\u8bbe\u5907\uff0c\u4f60\u9700\u8981\u5c06 openbsd.pbr \u6587\u4ef6\u653e\u5230\u4f60\u7684 Windows \u7cfb\u7edf\u5206\u533a\u3002 \u4e00\u65e6 OpenBSD \u7684 PBR \u88ab\u590d\u5236\u5230 Windows \u7cfb\u7edf\u5206\u533a\uff0c\u4f60\u9700\u8981\u4e00\u4e2a\u5177\u6709\u7ba1\u7406\u6743\u9650\u7684\u7ec8\u7aef\u6765\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a C:\\Windows\\system32> bcdedit /create /d \"OpenBSD/i386\" /application bootsector The entry {0154a872-3d41-11de-bd67-a7060316bbb1} was successfully created. C:\\Windows\\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device boot The operation completed successfully. C:\\Windows\\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} path \\openbsd.pbr The operation completed successfully. C:\\Windows\\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device partition=c: The operation completed successfully. C:\\Windows\\system32> bcdedit /displayorder {0154a872-3d41-11de-bd67-7060316bbb1} /addlast The operation completed successfully. \u8bf7\u6ce8\u610f\uff0cOpenBSD \u5e0c\u671b\u8ba1\u7b97\u673a\u7684\u5b9e\u65f6\u65f6\u949f\u8bbe\u7f6e\u4e3a\u534f\u8c03\u4e16\u754c\u65f6 (UTC)\u3002 \u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u6b64\u90e8\u5206 \u3002","title":"\u5b89\u88c5\u6307\u5357"},{"location":"openbsd-faq/faq4/#openbsd-faq---\u5b89\u88c5\u6307\u5357","text":"","title":"OpenBSD FAQ - \u5b89\u88c5\u6307\u5357"},{"location":"openbsd-faq/faq4/#\u5b89\u88c5\u8fc7\u7a0b\u603b\u89c8","text":"OpenBSD \u5b89\u88c5\u7a0b\u5e8f\u4f7f\u7528\u4e00\u4e2a\u7279\u6b8a\u7684 ramdisk \u5185\u6838\uff08 bsd.rd \uff09\uff0c\u751f\u6210\u4e00\u4e2a\u5b8c\u5168\u5728\u5185\u5b58\u4e2d\u8fd0\u884c\u7684\u5b9e\u65f6\u73af\u5883\u3002\u5b83\u5305\u542b\u4e86\u5b89\u88c5\u811a\u672c\u548c\u5c11\u91cf\u6267\u884c\u5b8c\u6574\u5b89\u88c5\u6240\u9700\u7684\u5de5\u5177\u3002\u8fd9\u4e9b\u5b9e\u7528\u7a0b\u5e8f\u4e5f\u53ef\u7528\u4e8e\u707e\u96be\u6062\u590d\u3002 \u53ef\u4ee5\u4ece\u8bb8\u591a\u4e0d\u540c\u7684\u6765\u6e90\u5f15\u5bfc ramdisk \u5185\u6838\uff1a CD/DVD USB \u9a71\u52a8\u5668 \u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u5206\u533a \u901a\u8fc7\u7f51\u7edc\uff08 PXE \u6216\u5176\u4ed6 \u7f51\u7edc\u542f\u52a8\u9009\u9879 \uff09 \u8f6f\u76d8 \u5e76\u975e\u6bcf\u4e2a \u5e73\u53f0 \u90fd\u652f\u6301\u6240\u6709\u8fd9\u4e9b\u9009\u9879\u3002 \u5982\u679c\u4f60\u6709\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684 OpenBSD \u7cfb\u7edf\uff0c bsd.rd \u662f\u4f60\u91cd\u65b0\u5b89\u88c5\u6216\u5347\u7ea7\u5230\u66f4\u65b0\u7248\u672c\u6240\u9700\u7684\u5168\u90e8\u5185\u5bb9\u3002\u4e3a\u6b64\uff0c\u8bf7 \u4e0b\u8f7d\u5e76\u9a8c\u8bc1 \u65b0\u7684 bsd.rd \uff0c\u5c06\u5176\u653e\u7f6e\u5728\u73b0\u6709\u6587\u4ef6\u7cfb\u7edf\u4e0a\uff0c\u7136\u540e\u4ece\u4e2d\u542f\u52a8\u3002\u5f15\u5bfc bsd.rd \u7684\u4e00\u822c\u65b9\u6cd5\u662f\u901a\u8fc7\u5e73\u53f0\u4e0a\u4f7f\u7528\u7684\u4efb\u4f55\u65b9\u5f0f\u5c06\u5f15\u5bfc\u5185\u6838\u4ece /bsd \u66f4\u6539\u4e3a /bsd.rd \u3002 \u5728 amd64 \u7cfb\u7edf\u4e0a\u4ece bsd.rd \u5f15\u5bfc\u53ef\u4ee5\u8fd9\u6837\u5b8c\u6210\uff1a Using drive 0, partition 3. Loading...... probing: pc0 com0 com1 mem[638K 1918M a20=on] disk: hd0+ hd1+ >> OpenBSD/amd64 BOOT 3.33 boot> bsd.rd \u8fd9\u5c06\u4ece\u7b2c\u4e00\u4e2a\u8bc6\u522b\u7684\u786c\u76d8\u7684\u7b2c\u4e00\u4e2a\u5206\u533a\u5f15\u5bfc\u540d\u4e3a bsd.rd \u7684\u5185\u6838\u3002 \u5982\u679c\u4f60\u9700\u8981\u6307\u5b9a\u4e0d\u540c\u7684\u9a71\u52a8\u5668\u6216\u5206\u533a\uff0c\u53ea\u9700\u5728\u5185\u6838\u540d\u79f0\u524d\u52a0\u4e0a\u5176\u4f4d\u7f6e\u5373\u53ef\u3002\u4ee5\u4e0b\u793a\u4f8b\u5c06\u4ece\u7b2c\u4e8c\u4e2a\u786c\u76d8\u9a71\u52a8\u5668\u7684\u7b2c\u56db\u4e2a\u5206\u533a\u542f\u52a8\uff1a Using drive 0, partition 3. Loading...... probing: pc0 com0 com1 mem[638K 1918M a20=on] disk: hd0+ hd1+ >> OpenBSD/amd64 BOOT 3.33 boot> boot hd1d:/bsd.rd OpenBSD \u5f15\u5bfc\u52a0\u8f7d\u5668\uff08boot loaders\uff09\u5728\u7279\u5b9a\u67b6\u6784\u7684 boot(8) \u624b\u518c\u9875\u9762\u4e2d\u6709\u8bb0\u5f55\u3002","title":"\u5b89\u88c5\u8fc7\u7a0b\u603b\u89c8"},{"location":"openbsd-faq/faq4/#\u5b89\u88c5\u524d\u68c0\u67e5\u6e05\u5355","text":"\u5728\u5f00\u59cb\u4e4b\u524d\uff0c\u60a8\u5e94\u8be5\u5bf9\u81ea\u5df1\u60f3\u8981\u7684\u7ed3\u679c\u6709\u6240\u4e86\u89e3\u3002\u4e00\u4e9b\u503c\u5f97\u4e8b\u5148\u8003\u8651\u7684\u4e8b\u60c5\uff1a \u4e3b\u673a\u540d \u5df2\u5b89\u88c5\u5e76\u53ef\u7528\u7684\u786c\u4ef6\uff1a \u9a8c\u8bc1 OpenBSD \u4e0e\u4f60\u7684\u786c\u4ef6\u7684\u517c\u5bb9\u6027\u3002\u4f60\u53ef\u80fd\u9700\u8981\u67e5\u9605\u7279\u5b9a\u4e8e\u5e73\u53f0\u7684\u5b89\u88c5\u8bf4\u660e\uff0c\u5c24\u5176\u662f\u5f53\u4f60\u4f7f\u7528\u975e x86 CPU \u67b6\u6784\u65f6\u3002\u5b83\u4eec\u5305\u542b\u8be6\u7ec6\u8bf4\u660e\u548c\u4efb\u4f55\u53ef\u80fd\u7684\u8b66\u544a\uff1a [ alpha ] [ amd64 ] [ arm64 ] [ armv7 ] [ hppa ] [ i386 ] [ landisk ] [ luna88k ] [ macppc ] [ octeon ] [ powerpc64 ] [ riscv64 ] [ sparc64 ] \u5982\u679c\u65e0\u7ebf\u4e92\u8054\u7f51\u662f\u4f60\u63a5\u5165\u7f51\u7edc\u552f\u4e00\u7684\u9009\u62e9\uff0c\u4f60\u7684\u7f51\u5361\u662f\u5426\u9700\u8981 \u989d\u5916\u7684\u56fa\u4ef6 \uff1f\u5982\u679c\u662f\u8fd9\u6837\uff0c\u4f60\u9700\u8981\u624b\u52a8\u5c06\u5176\u4e0b\u8f7d\u5230 USB \u9a71\u52a8\u5668\u6216\u7c7b\u4f3c\u8bbe\u5907\uff0c\u7136\u540e\u5728\u5b89\u88c5 OpenBSD \u540e\u4f7f\u7528 fw_update(1) \u542f\u7528\u5b83\u3002 \u8981\u4f7f\u7528\u7684\u5b89\u88c5\u65b9\u6cd5 \u6240\u9700\u7684\u78c1\u76d8\u5e03\u5c40\uff1a \u73b0\u6709\u6570\u636e\u662f\u5426\u9700\u8981\u4fdd\u5b58\u81f3\u522b\u5904\uff1f OpenBSD \u4f1a\u5728\u8fd9\u4e2a\u7cfb\u7edf\u4e0a\u4e0e\u53e6\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u5171\u5b58\u5417\uff1f\u5982\u679c\u662f\u8fd9\u6837\uff0c\u6bcf\u4e2a\u7cfb\u7edf\u5c06\u5982\u4f55\u542f\u52a8\uff1f\u4f60\u9700\u8981\u5b89\u88c5\u5f15\u5bfc\u7ba1\u7406\u5668\u5417\uff1f \u5c06\u6574\u4e2a\u78c1\u76d8\u7528\u4e8e\u5b89\u88c5 OpenBSD\uff0c\u8fd8\u662f\u8981\u4fdd\u7559\u73b0\u6709\u5206\u533a/\u64cd\u4f5c\u7cfb\u7edf\uff08\u6216\u672a\u6765\u5212\u5206\u7684\u78c1\u76d8\u7a7a\u95f4\uff09\uff1f \u4f60\u5e0c\u671b\u5982\u4f55\u5bf9\u78c1\u76d8\u7684 OpenBSD \u90e8\u5206\u8fdb\u884c\u5b50\u5206\u533a\uff1f \u4f60\u9700\u8981 \u78c1\u76d8\u52a0\u5bc6 \u5417\uff1f \u7f51\u7edc\u8bbe\u7f6e\uff08\u5982\u679c\u4e0d\u4f7f\u7528 DHCP\uff09\uff1a \u57df\u540d\u548c DNS \u5730\u5740 \u6bcf\u4e2a NIC \u7684 IP \u5730\u5740\u548c\u5b50\u7f51\u63a9\u7801 \u7f51\u5173\u5730\u5740","title":"\u5b89\u88c5\u524d\u68c0\u67e5\u6e05\u5355"},{"location":"openbsd-faq/faq4/#\u4e0b\u8f7d-openbsd","text":"\u6587\u4ef6\u540d \u4e0b\u8f7d\u65b9\u5f0f install70.img \u53ef\u4ee5\u5199\u5165 USB \u95ea\u5b58\u9a71\u52a8\u5668\u6216\u7c7b\u4f3c\u8bbe\u5907\u7684\u78c1\u76d8\u6620\u50cf\u3002\u5305\u62ec \u6587\u4ef6\u96c6\uff08File Sets\uff09 \u3002 amd64 \u3001 arm64 \u3001 i386 \u3001 octeon \u3001 powerpc64 \u3001 riscv64 \u3001 sparc64 miniroot70.img \u540c\u4e0a\uff0c\u4f46\u4e0d\u5305\u62ec\u6587\u4ef6\u96c6\u3002\u5b83\u4eec\u53ef\u4ee5\u4ece Internet \u6216\u672c\u5730\u78c1\u76d8\u4e0b\u8f7d\u3002 alpha \u3001 amd64 \u3001 arm64 \u3001 armv7 \u3001 i386 \u3001 landisk \u3001 luna88k \u3001 octeon \u3001 powerpc64 \u3001 riscv64 \u3001 sparc64 install70.iso \u53ef\u7528\u4e8e\u521b\u5efa\u5b89\u88c5 CD/DVD \u7684 ISO 9660 \u955c\u50cf\u6587\u4ef6\u3002\u5305\u62ec\u6587\u4ef6\u96c6\u3002 alpha \u3001 amd64 \u3001 hppa \u3001 i386 \u3001 macppc \u3001 powerpc64 \u3001 sparc64 cd70.iso \u540c\u4e0a\uff0c\u4f46\u4e0d\u5305\u62ec\u6587\u4ef6\u96c6\u3002 alpha \u3001 amd64 \u3001 hppa \u3001 i386 \u3001 macppc \u3001 sparc64 floppy70.img \u652f\u6301\u4e00\u4e9b\u7f3a\u5c11\u5176\u4ed6\u542f\u52a8\u9009\u9879\u7684\u65e7\u673a\u5668\u3002 amd64 \u3001 i386 \u3001 sparc64 \u4f60\u4e5f\u53ef\u4ee5\u4ece\u8bb8\u591a\u5907\u7528 \u955c\u50cf\u7ad9\u70b9 \u4e0b\u8f7d\u955c\u50cf\u6587\u4ef6\u3002 \u5305\u542b\u6821\u9a8c\u548c\u7684 SHA256 \u6587\u4ef6\u53ef\u4ee5\u5728\u4e0e\u5b89\u88c5\u6587\u4ef6\u76f8\u540c\u7684\u76ee\u5f55\u4e2d\u627e\u5230\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 sha256(1) \u547d\u4ee4\u786e\u8ba4\u4e0b\u8f7d\u7684\u6587\u4ef6\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u90fd\u6ca1\u6709\u88ab\u7834\u574f\u3002 $ sha256 -C SHA256 miniroot*.img (SHA256) miniroot70.img: OK \u6216\u8005\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u5e26\u6709 GNU coreutils \u7684\u64cd\u4f5c\u7cfb\u7edf\uff1a $ sha256sum -c --ignore-missing SHA256 miniroot70.img: OK \u4f46\u662f\uff0c\u8fd9\u53ea\u68c0\u67e5\u610f\u5916\u635f\u574f\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 signify(1) \u548c SHA256.sig \u6587\u4ef6\u5bf9\u4e0b\u8f7d\u7684\u955c\u50cf\u6587\u4ef6\u8fdb\u884c\u52a0\u5bc6\u9a8c\u8bc1\u3002 $ signify -Cp /etc/signify/openbsd-70-base.pub -x SHA256.sig miniroot*.img Signature Verified miniroot70.img: OK \u8bf7\u6ce8\u610f\uff0c\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684 signify \u5305\u53ef\u80fd\u4e0d\u5305\u542b\u6240\u9700\u7684\u516c\u94a5\uff0c\u6216\u8005\u5b83\u53ef\u80fd\u5b89\u88c5\u5728\u5176\u4ed6\u4f4d\u7f6e\u3002 install70.iso \u548c install70.img \u6620\u50cf\u4e0d\u5305\u542b SHA256.sig \u6587\u4ef6\uff0c\u56e0\u6b64\u5b89\u88c5\u7a0b\u5e8f\u4f1a\u63d0\u793a\u5b83\u65e0\u6cd5\u68c0\u67e5\u5305\u542b\u96c6\u7684\u7b7e\u540d\uff1a Directory does not contain SHA256.sig. Continue without verification? [no] \u8fd9\u662f\u56e0\u4e3a\u5b89\u88c5\u7a0b\u5e8f\u9a8c\u8bc1\u5b83\u4eec\u6beb\u65e0\u610f\u4e49\u3002\u5982\u679c\u6709\u4eba\u8981\u5236\u4f5c\u6d41\u6c13\u5b89\u88c5\u6620\u50cf\uff0c\u4ed6\u4eec\u5f53\u7136\u53ef\u4ee5\u66f4\u6539\u5b89\u88c5\u7a0b\u5e8f\u4ee5\u8bf4\u660e\u6587\u4ef6\u662f\u5408\u6cd5\u7684\u3002\u5982\u679c\u4f60\u4e8b\u5148\u9a8c\u8bc1\u4e86\u955c\u50cf\u7684\u7b7e\u540d\uff0c\u5219\u5728\u8be5\u63d0\u793a\u4e0b\u56de\u7b54 \u201cYes\u201d \uff0c\u8868\u793a\u662f\u5b89\u5168\u7684\u3002","title":"\u4e0b\u8f7d OpenBSD"},{"location":"openbsd-faq/faq4/#\u521b\u5efa\u5b89\u88c5\u4ecb\u8d28","text":"","title":"\u521b\u5efa\u5b89\u88c5\u4ecb\u8d28"},{"location":"openbsd-faq/faq4/#\u95ea\u5b58\u9a71\u52a8\u5668","text":"\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fde\u63a5\u76ee\u6807\u8bbe\u5907\u5e76\u4f7f\u7528 dd(1) \u590d\u5236\u955c\u50cf\u6765\u521b\u5efa\u53ef\u5f15\u5bfc\u7684 USB \u95ea\u5b58\u9a71\u52a8\u5668\u3002 \u5047\u5b9a\u4f60\u4f7f\u7528 OpenBSD \uff0c\u4e14\u8bbe\u5907\u88ab\u8bc6\u522b\u4e3a sd6\uff1a # dd if=install*.img of=/dev/rsd6c bs=1m \u8bf7\u6ce8\u610f\uff0c\u4f7f\u7528\u7684\u662f \u539f\u59cb I/O \u8bbe\u5907 \uff1a rsd6c \u800c\u4e0d\u662f sd6c \u3002 \u5176\u4ed6\u5e73\u53f0\u4e0a\u7684\u64cd\u4f5c\u7ec6\u8282\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u5982 GNU \u7248\u672c\u7684 dd \u5c06\u9700\u8981 bs=1M \uff08\u6ce8\u610f\u5927\u5199\u7684 M\uff09\u3002 \u5982\u679c\u60a8\u4f7f\u7528\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u8bf7\u52a1\u5fc5\u9009\u62e9\u9002\u5f53\u7684\u8bbe\u5907\u540d\u79f0\uff1a\u4f8b\u5982\uff0cLinux \u4e0a\u7684 /dev/sdX \u6216 macOS \u4e0a\u7684 /dev/rdiskX \u3002","title":"\u95ea\u5b58\u9a71\u52a8\u5668"},{"location":"openbsd-faq/faq4/#cd-roms","text":"\u4f60\u53ef\u4ee5\u4f7f\u7528 cdio(1) \u5728 OpenBSD \u4e0a\u521b\u5efa\u53ef\u5f15\u5bfc CD-ROM\u3002 # cdio tao cd*.iso","title":"CD-ROMs"},{"location":"openbsd-faq/faq4/#\u6267\u884c\u7b80\u5355\u5b89\u88c5","text":"\u5982\u679c\u4f60\u9700\u8981\u6709\u5173\u4ece\u4f60\u504f\u597d\u7684\u5b89\u88c5\u4ecb\u8d28\u542f\u52a8\u7684\u8bf4\u660e\uff0c\u8bf7\u67e5\u770b\u4f60\u7684\u673a\u5668\u7684\u76f8\u5173 \u5e73\u53f0\u9875\u9762 \u3002 \u5b89\u88c5\u7a0b\u5e8f\u65e8\u5728\u4ee5\u975e\u5e38\u6709\u7528\u7684\u9ed8\u8ba4\u914d\u7f6e\u5b89\u88c5 OpenBSD\uff0c\u5e76\u4e14\u9700\u8981\u6700\u5c11\u7684\u7528\u6237\u5e72\u9884\u3002\u4e8b\u5b9e\u4e0a\uff0c\u4f60\u901a\u5e38\u53ea\u9700\u6309 Enter \u952e\u5373\u53ef\u83b7\u5f97\u826f\u597d\u5b89\u88c5\u7684 OpenBSD\uff0c\u4ec5\u5728\u8f93\u5165 root \u5bc6\u7801\u65f6\u9700\u5c06\u624b\u79fb\u5230\u952e\u76d8\u7684\u5176\u4f59\u90e8\u5206\u5373\u53ef\u3002 \u663e\u793a dmesg(8) \u540e\uff0c\u4f60\u5c06\u770b\u5230\u7b2c\u4e00\u4e2a\u5b89\u88c5\u7a0b\u5e8f\u95ee\u9898\uff1a ... root on rd0a swap on rd0b dump on rd0b erase ^?, werase ^W, kill ^U, intr ^C, status ^T Welcome to the OpenBSD/amd64 7.0 installation program. (I)nstall, (U)pgrade, (A)utoinstall or (S)hell? \u9009\u62e9 (I)nstall \u5e76\u6309\u7167\u8bf4\u660e\u8fdb\u884c\u64cd\u4f5c\u3002","title":"\u6267\u884c\u7b80\u5355\u5b89\u88c5"},{"location":"openbsd-faq/faq4/#\u6587\u4ef6\u96c6","text":"\u5b8c\u6574\u7684 OpenBSD \u5b89\u88c5\u5206\u4e3a\u591a\u4e2a\u6587\u4ef6\u96c6\uff08File Sets\uff09\uff1a \u540d\u79f0 \u7528\u9014 bsd \u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\uff08\u5fc5\u9700\u7684\uff09 bsd.mp \u591a\u5904\u7406\u5668\u5185\u6838\uff08\u4ec5\u5728\u67d0\u4e9b\u5e73\u53f0\u4e0a\uff09 bsd.rd ramdisk \u5185\u6838 base70.tgz \u57fa\u7840\u7cfb\u7edf\uff08\u5fc5\u9700\u7684\uff09 comp70.tgz \u7f16\u8bd1\u5668\u96c6\u5408\u3001\u5934\u6587\u4ef6\u548c\u5e93 man70.tgz \u624b\u518c\u9875 game70.tgz \u6587\u5b57\u6e38\u620f xbase70.tgz X11 \u7684\u57fa\u7840\u5e93\u548c\u5b9e\u7528\u7a0b\u5e8f\uff08\u9700\u8981 xshare70.tgz \uff09 xfont70.tgz X11 \u4f7f\u7528\u7684\u5b57\u4f53 xserv70.tgz X11 \u7684 X \u670d\u52a1\u5668 xshare70.tgz X11 \u7684\u624b\u518c\u9875\u3001\u672c\u5730\u5316\u8bbe\u7f6e\u548c\u5934\u6587\u4ef6 \u5efa\u8bae\u65b0\u7528\u6237\u5168\u90e8\u5b89\u88c5\u3002 \u4e00\u4e9b\u6765\u81ea xbase70.tgz \u7684\u5e93\uff0c\u5982 freetype \u6216 fontconfig\uff0c\u53ef\u4ee5\u5728 X \u4e4b\u5916\u7531\u64cd\u4f5c\u6587\u672c\u6216\u56fe\u5f62\u7684\u7a0b\u5e8f\u4f7f\u7528\u3002\u6b64\u7c7b\u7a0b\u5e8f\u901a\u5e38\u9700\u8981\u6765\u81ea xfont70.tgz \u6216\u5b57\u4f53\u5305\u7684\u5b57\u4f53\u3002\u4e3a\u7b80\u5355\u8d77\u89c1\uff0c\u5f00\u53d1\u4eba\u5458\u51b3\u5b9a\u4e0d\u7ef4\u62a4\u5141\u8bb8\u5927\u591a\u6570\u975e X \u7aef\u53e3\u8fd0\u884c\u7684\u6700\u5c0f xbase70.tgz \u96c6\u3002","title":"\u6587\u4ef6\u96c6"},{"location":"openbsd-faq/faq4/#\u5b89\u88c5\u540e\u6dfb\u52a0\u6587\u4ef6\u96c6","text":"\u5982\u679c\u4f60\u9009\u62e9\u5728\u5b89\u88c5\u65f6\u8df3\u8fc7\u67d0\u4e9b\u6587\u4ef6\u96c6\uff0c\u4f60\u53ef\u80fd\u7a0d\u540e\u4f1a\u610f\u8bc6\u5230\u4f60\u786e\u5b9e\u786e\u5b9e\u9700\u8981\u5b83\u4eec\u3002\u8981\u5b89\u88c5\u989d\u5916\u7684\u6587\u4ef6\u96c6\uff0c\u53ea\u9700\u4ece\u4f60\u7684\u6839\u6587\u4ef6\u7cfb\u7edf\u542f\u52a8 bsd.rd \u5e76\u9009\u62e9 (U)pgrade \u3002\u5f53\u4f60\u8fdb\u5165\u6587\u4ef6\u96c6\u5217\u8868\u65f6\uff0c\u9009\u62e9\u4f60\u9700\u8981\u7684\u6587\u4ef6\u96c6\u3002","title":"\u5b89\u88c5\u540e\u6dfb\u52a0\u6587\u4ef6\u96c6"},{"location":"openbsd-faq/faq4/#\u78c1\u76d8\u5206\u533a","text":"OpenBSD \u53ef\u4ee5\u5b89\u88c5\u5728 512MB \u7684\u5c0f\u7a7a\u95f4\u4e2d\uff0c\u4f46\u662f\u4f7f\u7528\u8fd9\u4e48\u5c0f\u7684\u8bbe\u5907\u662f\u4e00\u4e2a\u53ea\u9002\u5408\u6709\u7ecf\u9a8c\u7684\u9ad8\u7ea7\u7528\u6237\u7684\u65b9\u6848\u3002\u5728\u4f60\u6709\u4e00\u5b9a\u7ecf\u9a8c\u4e4b\u524d\uff0c\u5efa\u8bae\u4f7f\u7528 8GB \u6216\u66f4\u591a\u78c1\u76d8\u7a7a\u95f4\u3002 \u4e0e\u5176\u4ed6\u4e00\u4e9b\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u540c\uff0cOpenBSD \u9f13\u52b1\u7528\u6237\u5c06\u4ed6\u4eec\u7684\u78c1\u76d8\u5206\u6210\u591a\u4e2a\u5206\u533a\uff0c\u800c\u4e0d\u662f\u4e00\u4e24\u4e2a\u5927\u7684\u5206\u533a\u3002\u8fd9\u6837\u505a\u7684\u4e00\u4e9b\u539f\u56e0\u662f\uff1a \u5b89\u5168\u6027\uff1aOpenBSD \u7684\u4e00\u4e9b\u9ed8\u8ba4\u5b89\u5168\u529f\u80fd\u4f9d\u8d56\u4e8e\u6587\u4ef6\u7cfb\u7edf \u6302\u8f7d\u9009\u9879 \uff0c\u4f8b\u5982 nosuid \u3001 nodev \u3001 noexec \u6216 wxallowed \u3002 \u7a33\u5b9a\u6027\uff1a\u5982\u679c\u7528\u6237\u6216\u884c\u4e3a\u4e0d\u7aef\u7684\u7a0b\u5e8f\u5177\u6709\u5199\u5165\u6743\u9650\uff0c\u5219\u4ed6\u4eec\u53ef\u4ee5\u7528\u5783\u573e\u586b\u6ee1\u6587\u4ef6\u7cfb\u7edf\u3002 \u4f60\u6240\u5e0c\u671b\u80fd\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u7cfb\u7edf\u4e0a\u8fd0\u884c\u7684\u5173\u952e\u7a0b\u5e8f\u4e0d\u4f1a\u56e0\u6b64\u88ab\u6253\u65ad\u3002 fsck(8) \uff1a\u4f60\u53ef\u4ee5\u628a\u4ece\u6765\u4e0d\u9700\u8981\u6216\u5f88\u5c11\u9700\u8981\u5199\u5165\u7684\u5206\u533a\u6302\u8f7d\u4e3a readonly \uff08\u53ea\u8bfb\uff09\uff0c\u8fd9\u5c06\u6d88\u9664\u5728\u5d29\u6e83\u6216\u7535\u6e90\u4e2d\u65ad\u540e\u8fdb\u884c\u6587\u4ef6\u7cfb\u7edf\u68c0\u67e5\u7684\u9700\u8981\u3002 \u5b89\u88c5\u7a0b\u5e8f\u5c06\u6839\u636e\u4f60\u7684\u786c\u76d8\u5927\u5c0f\u521b\u5efa\u5206\u533a\u8ba1\u5212\u3002\u867d\u7136\u8fd9\u4e0d\u662f\u9002\u5408\u6240\u6709\u4eba\u7684\u5b8c\u7f8e\u5e03\u5c40\uff0c\u4f46\u5b83\u4e3a\u5f04\u6e05\u695a\u4f60\u7684\u9700\u6c42\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5f88\u597d\u7684\u8d77\u70b9\u3002\u5728\u505a\u51fa\u5173\u4e8e\u81ea\u5b9a\u4e49\u5206\u533a\u65b9\u6848\u7684\u51b3\u5b9a\u4e4b\u524d\uff0c\u8bf7\u9605\u8bfb disklabel \u7684 \u81ea\u52a8\u78c1\u76d8\u5206\u914d \u7684\u9ed8\u8ba4\u503c\u548c hier(7) \u624b\u518c\u9875\u3002 \u7531\u4e8e\u4e00\u4e9b \u5305 \u9700\u8981\u4ece wxallowed \u6587\u4ef6\u7cfb\u7edf\u542f\u52a8\uff0c\u5efa\u8bae\u5212\u5206\u4e00\u4e2a\u5355\u72ec\u7684 /usr/local \u5206\u533a\u3002 \u5f53\u4f60\u9700\u8981\u5347\u7ea7\u65f6\uff0c\u975e\u5e38\u5c0f\u7684\u5206\u533a\u4f1a\u53d8\u5f97\u5f88\u9ebb\u70e6\u3002 \u4e00\u4e2a\u72ec\u7acb /home \u5206\u533a\u662f\u4e0d\u9519\u7684\u4e3b\u610f\u3002\u9700\u8981\u65b0\u7248\u672c\u7684\u64cd\u4f5c\u7cfb\u7edf\uff1f\u4fdd\u6301\u4f60\u7684 /home \u5206\u533a\u4e0d\u53d8\uff0c\u64e6\u9664\u5e76\u91cd\u65b0\u52a0\u8f7d\u5176\u4ed6\u4e00\u5207\u3002 \u4f60\u53ef\u80fd\u8fd8\u9700\u8981\u521b\u5efa\u4e00\u4e2a altroot \u5206\u533a \u6765\u5907\u4efd\u4f60\u7684\u6839\u6587\u4ef6\u7cfb\u7edf\u3002 \u66b4\u9732\u5728\u4e92\u8054\u7f51\u4e0a\u7684\u7cfb\u7edf\u5e94\u8be5\u6709\u4e00\u4e2a\u5355\u72ec\u7684 /var \u5206\u533a\uff0c\u751a\u81f3\u53ef\u80fd\u9700\u8981\u4e00\u4e2a\u5355\u72ec\u7684 /var/log \u5206\u533a\u3002 \u4ece\u6e90\u4ee3\u7801\u7f16\u8bd1\u67d0\u4e9b ports \u4f1a\u5728\u4f60\u7684 /usr \u548c /tmp \u5206\u533a\u4e0a\u5360\u7528\u5927\u91cf\u7684\u7a7a\u95f4\u3002","title":"\u78c1\u76d8\u5206\u533a"},{"location":"openbsd-faq/faq4/#\u5728\u5b89\u88c5\u540e\u53d1\u9001\u4f60\u7684-dmesg","text":"\u5b89\u88c5\u6210\u529f\u540e\uff0c\u770b\u770b dmesg(8) \u547d\u4ee4\u7684\u8f93\u51fa\uff0c\u770b\u770b\u662f\u5426\u6709\u4efb\u4f55\u5f02\u5e38\u3002\u5982\u679c\u4e00\u4e2a\u8bbe\u5907\u663e\u793a\u4e3a not configured \uff08\u672a\u914d\u7f6e\uff09\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u76ee\u524d\u4e0d\u88ab\u5185\u6838\u6240\u652f\u6301\u3002\u8fd9\u53ef\u80fd\u4f1a\u5728\u5c06\u6765\u901a\u8fc7\u53d1\u9001 dmesg \u800c\u5f97\u5230\u6539\u5584\u3002\u5f15\u81ea /usr/src/etc/root/root.mail \uff1a If you wish to ensure that OpenBSD runs better on your machines, please do us a favor (after you have your mail system configured!) and type something like: # (dmesg; sysctl hw.sensors) | \\ mail -s \"Sony VAIO 505R laptop, apm works OK\" dmesg@openbsd.org so that we can see what kinds of configurations people are running. As shown, including a bit of information about your machine in the subject or the body can help us even further. We will use this information to improve device driver support in future releases. (Please do this using the supplied GENERIC kernel, not for a custom compiled kernel, unless you're unable to boot the GENERIC kernel. If you have a multi-processor machine, dmesg results of both GENERIC.MP and GENERIC kernels are appreciated.) The device driver information we get from this helps us fix existing drivers. Thank you! \u8bd1\u6587\uff1a \u5982\u679c\u4f60\u5e0c\u671b\u786e\u4fdd OpenBSD \u5728\u60a8\u7684\u673a\u5668\u4e0a\u8fd0\u884c\u5f97\u66f4\u597d\uff0c\u8bf7\u5e2e\u6211\u4eec\u4e2a\u5fd9\uff08\u5728\u4f60\u914d\u7f6e\u597d\u90ae\u4ef6\u7cfb\u7edf\u4e4b\u540e\uff01\uff09\u5e76\u952e\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a # (dmesg; sysctl hw.sensors) | \\ mail -s \"Sony VAIO 505R laptop, apm works OK\" dmesg@openbsd.org \u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u770b\u5230\u4eba\u4eec\u6b63\u5728\u8fd0\u884c\u4ec0\u4e48\u6837\u7684\u914d\u7f6e\u3002\u5982\u56fe\u6240\u793a\uff0c\u5728\u4e3b\u9898\u6216\u6b63\u6587\u4e2d\u5305\u62ec\u4e00\u70b9\u5173\u4e8e\u4f60\u7684\u673a\u5668\u7684\u4fe1\u606f\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u66f4\u8fdb\u4e00\u6b65\u3002\u6211\u4eec\u5c06\u4f7f\u7528\u8fd9\u4e9b\u4fe1\u606f\u6765\u6539\u8fdb\u672a\u6765\u7248\u672c\u4e2d\u7684\u8bbe\u5907\u9a71\u52a8\u652f\u6301\u3002(\u8bf7\u4f7f\u7528\u63d0\u4f9b\u7684 GENERIC \u5185\u6838\u6765\u505a\u8fd9\u4e2a\uff0c\u800c\u4e0d\u662f\u81ea\u5b9a\u4e49\u7f16\u8bd1\u7684\u5185\u6838\uff0c\u9664\u975e\u4f60\u65e0\u6cd5\u542f\u52a8 GENERIC \u5185\u6838\u3002\u5982\u679c\u4f60\u6709\u4e00\u53f0\u591a\u5904\u7406\u5668\u7684\u673a\u5668\uff0c\u8bf7\u63d0\u4f9b GENERIC.MP \u548c GENERIC \u5185\u6838\u7684 dmesg \u7ed3\u679c\uff09\u3002\u6211\u4eec\u4ece\u4e2d\u5f97\u5230\u7684\u8bbe\u5907\u9a71\u52a8\u4fe1\u606f\u6709\u52a9\u4e8e\u6211\u4eec\u4fee\u590d\u73b0\u6709\u7684\u9a71\u52a8\u3002\u8c22\u8c22\u4f60\uff01 \u6216\u8005\uff0c\u5c06\u4f60\u7684 dmesg \u8f93\u51fa\u4fdd\u5b58\u5230\u6587\u672c\u6587\u4ef6\u5e76\u5c06\u5176\u5185\u5bb9\u53d1\u9001\u7ed9\u6211\u4eec\uff1a $ (dmesg; sysctl hw.sensors) > ~/dmesg.txt \u8bf7\u914d\u7f6e\u4f60\u7684\u7535\u5b50\u90ae\u4ef6\u5ba2\u6237\u7aef\u4ee5\u4f7f\u7528\u7eaf\u6587\u672c\u3002\u7279\u522b\u5730\uff0c\u4e0d\u8981\u4f7f\u7528 HTML \u683c\u5f0f\u6216\u5f3a\u5236\u6362\u884c\u3002 \u8bf7\u5c06 dmesg \u653e\u5165\u90ae\u4ef6\u6b63\u6587\u4e2d\uff0c\u800c\u4e0d\u662f\u4f5c\u4e3a\u9644\u4ef6\u53d1\u9001\u3002","title":"\u5728\u5b89\u88c5\u540e\u53d1\u9001\u4f60\u7684 dmesg"},{"location":"openbsd-faq/faq4/#\u81ea\u5b9a\u4e49\u5b89\u88c5\u8fc7\u7a0b","text":"","title":"\u81ea\u5b9a\u4e49\u5b89\u88c5\u8fc7\u7a0b"},{"location":"openbsd-faq/faq4/#site70tgz-\u6587\u4ef6\u96c6","text":"OpenBSD \u5b89\u88c5\u548c\u5347\u7ea7\u811a\u672c\u5141\u8bb8\u9009\u62e9\u4e00\u4e2a\u7528\u6237\u521b\u5efa\u7684\u540d\u4e3a site70.tgz \u7684\u96c6\u5408\u3002\u4e0e\u5b98\u65b9 \u6587\u4ef6\u96c6 \u4e00\u6837\uff0c\u8fd9\u662f\u4e00\u4e2a tar(1) \u5b58\u6863\uff0c\u4ee5 / \u4e3a\u7236\u76ee\u5f55\u5e76\u4f7f\u7528 -xzphf \u9009\u9879\u89e3\u538b\u3002\u5b83\u662f\u6700\u540e\u5b89\u88c5\u7684\u6587\u4ef6\u96c6\uff0c\u56e0\u6b64\u53ef\u7528\u4e8e\u8865\u5145\u548c\u4fee\u6539\u9ed8\u8ba4\u5b89\u88c5\u4e2d\u7684\u6587\u4ef6\u3002\u6b64\u5916\uff0c\u53ef\u4ee5\u4f7f\u7528\u540d\u4e3a site70-$(hostname -s).tgz \u7684\u4e3b\u673a\u540d\u76f8\u5173\u96c6\u3002\u6ce8\u610f\uff1a\u5982\u679c\u4f60\u6253\u7b97\u901a\u8fc7 HTTP(s) \u63d0\u4f9b\u6587\u4ef6\u96c6\uff0c\u8bf7\u5c06 site70.tgz \u653e\u5728\u4f60\u7684\u6e90\u76ee\u5f55\u4e2d\u5e76\u5c06\u5176\u5305\u542b\u5728\u4f60\u7684 index.txt \u4e2d\u3002 \u7136\u540e\u5b83\u5c06\u662f\u5b89\u88c5\u65f6\u7684\u4e00\u4e2a\u9009\u9879\u3002","title":"site70.tgz \u6587\u4ef6\u96c6"},{"location":"openbsd-faq/faq4/#installsite-\u548c-upgradesite-\u811a\u672c","text":"\u5982\u679c site70.tgz \u6587\u4ef6\u96c6\u5305\u542b\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6 /install.site \uff0c\u5b89\u88c5\u7a0b\u5e8f\u4f1a\u5728\u65b0\u5b89\u88c5\u7684\u7cfb\u7edf\u6839\u76ee\u5f55\u4e0b\u4f7f\u7528 chroot(8) \u8fd0\u884c\u5b83\u3002\u540c\u6837\uff0c\u5347\u7ea7\u811a\u672c\u8fd0\u884c /upgrade.site \u3002\u540e\u8005\u53ef\u4ee5\u653e\u5728\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u91cd\u65b0\u542f\u52a8\u8fdb\u884c\u5347\u7ea7\u3002 \u7528\u6cd5\u793a\u4f8b\uff1a \u8bbe\u7f6e\u7cfb\u7edf\u65f6\u95f4\u3002 \u5728\u5c06\u65b0\u7cfb\u7edf\u516c\u5f00\u7ed9\u4e16\u754c\u5176\u4ed6\u5730\u65b9\u4e4b\u524d\uff0c\u7acb\u5373\u5bf9\u5176\u8fdb\u884c\u5907\u4efd/\u5b58\u6863\u3002 \u5728\u7b2c\u4e00\u6b21\u542f\u52a8\u540e\u8fd0\u884c\u4e00\u7ec4\u4efb\u610f\u547d\u4ee4\u3002\u5982\u679c install.site \u7528\u4e8e\u5c06\u4efb\u4f55\u6b64\u7c7b\u547d\u4ee4\u9644\u52a0\u5230 rc.firsttime(8) \u6587\u4ef6\uff08\u9644\u52a0\u5230\u6b64\u6587\u4ef6\u662f\u5fc5\u8981\u7684\uff0c\u56e0\u4e3a\u5b89\u88c5\u7a0b\u5e8f\u672c\u8eab\u53ef\u80fd\u4f1a\u5199\u5165\u6b64\u6587\u4ef6\uff09\uff0c\u5219\u4f1a\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u3002\u5728\u542f\u52a8\u65f6\uff0c rc.firsttime \u88ab\u6267\u884c\u4e00\u6b21\u7136\u540e\u88ab\u5220\u9664\u3002","title":"install.site \u548c upgrade.site \u811a\u672c"},{"location":"openbsd-faq/faq4/#\u591a\u91cd\u5f15\u5bfc","text":"\u591a\u91cd\u5f15\u5bfc\u662f\u5728\u4e00\u53f0\u8ba1\u7b97\u673a\u4e0a\u62e5\u6709\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5e76\u901a\u8fc7\u67d0\u79cd\u65b9\u5f0f\u9009\u62e9\u8981\u5f15\u5bfc\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002 \u5728\u5f00\u59cb\u4e4b\u524d\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u719f\u6089 OpenBSD \u5f15\u5bfc\u8fc7\u7a0b \u3002 fdisk(8) \u7684\u7b80\u8981\u4ecb\u7ecd\u5728 \u4f7f\u7528 OpenBSD \u7684 fdisk \u90e8\u5206\u3002 \u5982\u679c\u4f60\u8981\u5c06 OpenBSD \u6dfb\u52a0\u5230\u73b0\u6709\u7cfb\u7edf\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u5728\u5b89\u88c5 OpenBSD \u4e4b\u524d\u521b\u5efa\u4e00\u4e9b\u7a7a\u95f2\u7a7a\u95f4\u3002\u9664\u4e86\u73b0\u6709\u7cfb\u7edf\u7684\u672c\u673a\u5de5\u5177\u5916\uff0c gparted \u8fd8\u53ef\u7528\u4e8e\u5220\u9664\u6216\u8c03\u6574\u73b0\u6709\u5206\u533a\u7684\u5927\u5c0f\u3002\u6700\u597d\u4f7f\u7528\u56db\u4e2a\u4e3b\u8981 MBR \u5206\u533a\u4e4b\u4e00\u6765\u5f15\u5bfc OpenBSD\u3002\u6269\u5c55\u5206\u533a\u53ef\u80fd\u4e0d\u8d77\u4f5c\u7528\u3002 \u636e\u62a5\u9053\uff0c rEFInd \u901a\u5e38\u6709\u6548\uff1b GRUB \u901a\u5e38\u4f1a\u5931\u8d25\u3002\u65e0\u8bba\u54ea\u79cd\u60c5\u51b5\uff0c\u4f60\u90fd\u5b8c\u5168\u9760\u81ea\u5df1\u51b3\u5b9a\u5982\u4f55\u64cd\u4f5c\u3002","title":"\u591a\u91cd\u5f15\u5bfc"},{"location":"openbsd-faq/faq4/#windows","text":"\u542f\u52a8\u914d\u7f6e\u6570\u636e (Boot Configuration Data, BCD) \u5b58\u50a8\u5141\u8bb8\u901a\u8fc7 bcdedit \u542f\u52a8\u591a\u4e2a\u7248\u672c\u7684 Windows\u3002\u4f60\u53ef\u4ee5\u5728 \u8fd9\u7bc7\u6587\u7ae0 \u4e2d\u627e\u5230\u4e00\u4e2a\u5f88\u597d\u7684\u4ecb\u7ecd\u3002\u5982\u679c\u4f60\u60f3\u8981\u4e00\u4e2a GUI \u66ff\u4ee3\u54c1\uff0c\u4f60\u53ef\u80fd\u60f3\u9700\u8981 EasyBCD \u3002 \u4f60\u5c06\u9700\u8981\u4e00\u4efd OpenBSD \u5b89\u88c5\u7684 \u5206\u533a\u5f15\u5bfc\u8bb0\u5f55 (PBR) \u7684\u526f\u672c\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u7684\u8fc7\u7a0b\u5c06\u5176\u590d\u5236\u5230\u6587\u4ef6\u4e2d\uff1a # dd if=/dev/rsd0a of=openbsd.pbr bs=512 count=1 \u5176\u4e2d sd0a \u662f\u4f60\u7684\u542f\u52a8\u8bbe\u5907\uff0c\u4f60\u9700\u8981\u5c06 openbsd.pbr \u6587\u4ef6\u653e\u5230\u4f60\u7684 Windows \u7cfb\u7edf\u5206\u533a\u3002 \u4e00\u65e6 OpenBSD \u7684 PBR \u88ab\u590d\u5236\u5230 Windows \u7cfb\u7edf\u5206\u533a\uff0c\u4f60\u9700\u8981\u4e00\u4e2a\u5177\u6709\u7ba1\u7406\u6743\u9650\u7684\u7ec8\u7aef\u6765\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a C:\\Windows\\system32> bcdedit /create /d \"OpenBSD/i386\" /application bootsector The entry {0154a872-3d41-11de-bd67-a7060316bbb1} was successfully created. C:\\Windows\\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device boot The operation completed successfully. C:\\Windows\\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} path \\openbsd.pbr The operation completed successfully. C:\\Windows\\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device partition=c: The operation completed successfully. C:\\Windows\\system32> bcdedit /displayorder {0154a872-3d41-11de-bd67-7060316bbb1} /addlast The operation completed successfully. \u8bf7\u6ce8\u610f\uff0cOpenBSD \u5e0c\u671b\u8ba1\u7b97\u673a\u7684\u5b9e\u65f6\u65f6\u949f\u8bbe\u7f6e\u4e3a\u534f\u8c03\u4e16\u754c\u65f6 (UTC)\u3002 \u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u6b64\u90e8\u5206 \u3002","title":"Windows"},{"location":"openbsd-faq/faq5/","text":"OpenBSD FAQ - \u4ece\u6e90\u7801\u6784\u5efa\u7cfb\u7edf \u00b6 OpenBSD \u7684 flavors \u00b6 OpenBSD \u5171\u6709\u4e09\u4e2a\u7248\u672c\uff1a -release \uff1a\u6bcf\u516d\u4e2a\u6708\u53d1\u5e03\u4e00\u6b21\u7684 OpenBSD \u7248\u672c\u3002 -current \uff1a\u5f00\u53d1\u5206\u652f\u3002\u6bcf\u516d\u4e2a\u6708\uff0c-current \u88ab\u6807\u8bb0\u5e76\u6210\u4e3a\u4e0b\u4e00\u4e2a -release\u3002 -stable \uff1a-release \u5206\u652f\uff0c\u4ee5\u53ca\u5728 \u52d8\u8bef\u9875\u9762 \u4e0a\u627e\u5230\u7684\u8865\u4e01\u3002\u5f53\u5bf9 -current \u8fdb\u884c\u975e\u5e38\u91cd\u8981\u7684\u4fee\u590d\u65f6\uff0c\u5b83\u4eec\u4f1a\u5411\u540e\u79fb\u690d\u5230\u53d7\u652f\u6301\u7684 -stable \u5206\u652f\u3002 \u53ea\u6709\u4e24\u4e2a\u6700\u65b0\u7684 OpenBSD \u7248\u672c\u624d\u80fd\u83b7\u5f97\u57fa\u672c\u7cfb\u7edf\u7684 \u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\u4fee\u590d \u3002 \u65b0\u7528\u6237\u5e94\u8be5\u8fd0\u884c -stable \u6216 -release\u3002\u8bdd\u867d\u5982\u6b64\uff0c\u8bb8\u591a\u4eba\u786e\u5b9e\u5728\u751f\u4ea7\u7cfb\u7edf\u4e0a\u8fd0\u884c -current \u4ee5\u5e2e\u52a9\u6355\u83b7\u9519\u8bef\u548c\u6d4b\u8bd5\u65b0\u529f\u80fd\u3002 \u5f00\u53d1\u7248\u5feb\u7167 \u00b6 \u5728 OpenBSD \u65b0\u7248\u672c\u6b63\u5f0f\u53d1\u5e03\u524d\uff0c-current \u5206\u652f\u7684\u5feb\u7167\u4f1a\u88ab\u63d0\u4f9b\u3002\u8fd9\u4e9b\u662f\u57fa\u4e8e\u5f53\u65f6\u5728\u4ee3\u7801\u6811\u4e0a\u7684\u6240\u6709\u4ee3\u7801\u6784\u5efa\u7684\u5feb\u7167\u3002 \u6700\u8fd1\u53d1\u5e03\u7684\u5feb\u7167\u901a\u5e38\u662f\u4f60\u8fd0\u884c -current \u6240\u9700\u7684\u5168\u90e8\u5185\u5bb9\u3002\u5982\u679c\u4f60\u5e0c\u671b\u4ece\u6e90\u4ee3\u7801\u6784\u5efa\u5b83\uff0c\u5219\u9700\u8981\u4ece\u6700\u65b0\u7684\u5feb\u7167\u5f00\u59cb\u3002 \u68c0\u67e5 \u4ee5\u4e0b -current \u548c using \u5feb\u7167\u9875\u9762 \u4ee5\u4e86\u89e3\u4ece\u6e90\u4ee3\u7801\u6784\u5efa\u6240\u9700\u7684\u4efb\u4f55\u914d\u7f6e\u66f4\u6539\u6216\u989d\u5916\u6b65\u9aa4\u3002 \u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u5feb\u7167\u4e2d\u7684\u9519\u8bef\u3002\u8fd9\u662f\u5b83\u4eec\u88ab\u6784\u5efa\u548c\u5206\u53d1\u7684\u539f\u56e0\u4e4b\u4e00\u3002\u5982\u679c\u4f60\u53d1\u73b0\u9519\u8bef\uff0c\u8bf7\u786e\u4fdd \u5df2\u62a5\u544a \u8be5\u9519\u8bef\u3002 \u4ece\u6e90\u7801\u6784\u5efa OpenBSD \u00b6 \u4ece\u6e90\u4ee3\u7801\u6784\u5efa OpenBSD \u6d89\u53ca\u8bb8\u591a\u6b65\u9aa4\uff1a \u5347\u7ea7\u5230\u6700\u65b0\u7684\u53ef\u7528\u4e8c\u8fdb\u5236\u6587\u4ef6 \u83b7\u53d6\u6e90\u4ee3\u7801 \u6784\u5efa\u65b0\u5185\u6838\u548c\u7528\u6237\u7a7a\u95f4\uff0c\u5982 release(8) \u7684\u7b2c 2 \u6b65\u548c\u7b2c 3 \u6b65\u6240\u8ff0 \u53ef\u9009\u5730\uff0c \u53d1\u5e03 \u5e76 \u6784\u5efa X \u6b64\u5e38\u89c1\u95ee\u9898\u90e8\u5206\u65e8\u5728\u5e2e\u52a9\u60a8\u8fdb\u884c\u5fc5\u8981\u7684\u51c6\u5907\u3002\u4e3b\u8981\u6b65\u9aa4\u8bf7\u53c2\u8003 release(8) \u3002 \u5347\u7ea7\u5230\u6700\u65b0\u7684\u53ef\u7528\u4e8c\u8fdb\u5236\u6587\u4ef6 \u00b6 \u4e0d\u8981\u8bd5\u56fe\u901a\u8fc7\u4ece\u6e90\u4ee3\u7801\u7f16\u8bd1\u6765\u4ece\u4e00\u4e2a\u7248\u672c\u8f6c\u5230\u53e6\u4e00\u4e2a\u7248\u672c\u3002 \u786e\u4fdd\u60a8\u5b89\u88c5\u4e86\u6700\u65b0\u7684\u53ef\u7528\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u5982\u679c\u4f60\u60f3\u6784\u5efa OpenBSD x.y-stable\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u7684 OpenBSD x.y-release\uff1b\u5982\u679c\u4f60\u60f3\u8981\u6784\u5efa -current\uff0c\u8bf7\u5347\u7ea7\u5230 -current \u7684\u6700\u65b0\u5feb\u7167\u3002 \u83b7\u53d6\u6e90\u7801 \u00b6 OpenBSD \u4f7f\u7528 CVS \u7248\u672c\u63a7\u5236\u7cfb\u7edf\u6765\u7ba1\u7406\u5176\u6e90\u4ee3\u7801\u3002 cvs(1) \u7a0b\u5e8f\u7528\u4e8e\u5c06\u6240\u9700\u6e90\u7684\u526f\u672c\u4e0b\u8f7d\u5230\u672c\u5730\u673a\u5668\u8fdb\u884c\u7f16\u8bd1\u3002cvs(1) \u7684\u4ecb\u7ecd\u548c\u83b7\u53d6\u6e90\u4ee3\u7801\u6811\u7684\u8be6\u7ec6\u8bf4\u660e\u4f4d\u4e8e \u533f\u540d CVS \u9875\u9762\u3002\u9996\u5148\uff0c\u4f60\u5fc5\u987b\u4f7f\u7528 cvs checkout \u68c0\u51fa\u6e90\u4ee3\u7801\u6811\u3002\u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c cvs update \u5c06\u66f4\u65b0\u7684\u6587\u4ef6\u62c9\u5230\u672c\u5730\u6811\u6765\u7ef4\u62a4\u6811\u3002\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 reposync \u7a0b\u5e8f\u7ef4\u62a4\u672c\u5730 CVS \u5b58\u50a8\u5e93\uff0c\u8be5\u7a0b\u5e8f\u4f5c\u4e3a\u4e00\u4e2a \u5305 \u63d0\u4f9b\u3002 \u533f\u540d CVS \u9875\u9762\u4e0a\u4e5f\u89e3\u91ca\u4e86\u8bbe\u7f6e\u5b58\u50a8\u5e93\u7684\u955c\u50cf\u3002 \u907f\u514d\u4f7f\u7528 Root \u6743\u9650 \u00b6 \u907f\u514d\u4ee5 root \u8eab\u4efd\u8fd0\u884c cvs(1)\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c /usr/src \u76ee\u5f55\uff08\u60a8\u7684\u6e90\u4ee3\u7801\u901a\u5e38\u6240\u5728\u7684\u4f4d\u7f6e\uff09\u53ef\u7531 wsrc \u7ec4\u5199\u5165\uff0c\u56e0\u6b64\u8bf7\u5c06\u9700\u8981\u4f7f\u7528 cvs(1) \u7684\u7528\u6237\u6dfb\u52a0\u5230\u8be5\u7ec4\u3002 # user mod -G wsrc <\u4f60\u7684\u7528\u6237\u540d> \u6b64\u66f4\u6539\u5728\u4e0b\u6b21\u767b\u5f55\u65f6\u751f\u6548\u3002 \u5982\u679c\u8981\u4ee5\u8be5\u7528\u6237\u8eab\u4efd\u83b7\u53d6 xenocara \u6216 ports\uff0c\u5219\u5fc5\u987b\u624b\u52a8\u521b\u5efa\u76ee\u5f55\u5e76\u8bbe\u7f6e\u5176\u6743\u9650\u3002 # cd /usr # mkdir -p xenocara ports # chgrp wsrc xenocara ports # chmod 775 xenocara ports \u83b7\u53d6 -stable \u00b6 \u8981\u83b7\u53d6 -stable src \u6811\uff0c\u8bf7\u4f7f\u7528 -r \u6807\u5fd7\u6307\u5b9a\u6240\u9700\u7684\u5206\u652f\uff1a $ cd /usr $ cvs -qd anoncvs@anoncvs.example.org:/cvs checkout -rOPENBSD_7_0 -P src \u68c0\u51fa\u6811\u540e\uff0c\u4f60\u53ef\u4ee5\u7a0d\u540e\u66f4\u65b0\u5b83\uff1a $ cd /usr/src $ cvs -q up -Pd -rOPENBSD_7_0 \u6839\u636e\u9700\u8981\u5c06 src \u66ff\u6362\u4e3a xenocara \u6216 ports \u3002\u7531\u4e8e OpenBSD \u7684\u6240\u6709\u90e8\u5206\u90fd\u5fc5\u987b\u4fdd\u6301\u540c\u6b65\uff0c\u56e0\u6b64\u4f60\u4f7f\u7528\u7684\u6240\u6709\u6811\u90fd\u5e94\u8be5\u540c\u65f6\u68c0\u51fa\u548c\u66f4\u65b0\u3002 \u83b7\u53d6 -current \u00b6 \u8981\u83b7\u53d6 -current src \u6811\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a $ cd /usr $ cvs -qd anoncvs@anoncvs.example.org:/cvs checkout -P src \u4f7f\u7528\u4e0b\u5217\u6307\u4ee4\u66f4\u65b0\u6811\uff1a $ cd /usr/src $ cvs -q up -Pd -A \u5c06 src \u66ff\u6362\u4e3a\u60a8\u60f3\u8981\u7684\u6a21\u5757\uff0c\u4f8b\u5982 xenocara \u6216 ports \u3002 \u6784\u5efa OpenBSD \u00b6 \u6b64\u65f6\uff0c\u4f60\u5df2\u51c6\u5907\u597d\u4ece\u6e90\u4ee3\u7801\u6784\u5efa OpenBSD\u3002 \u5982\u679c\u4f60\u6b63\u5728\u6784\u5efa -current\uff0c\u8bf7\u67e5\u770b \u6b64\u9875\u9762 \u4e0a\u5217\u51fa\u7684\u66f4\u6539\u548c\u7279\u6b8a\u6784\u5efa\u8bf4\u660e\u3002 \u6309\u7167 release(8) \u7684\u6b65\u9aa4 2 \u548c 3 \u4e2d\u7684\u8be6\u7ec6\u8bf4\u660e\u8fdb\u884c\u64cd\u4f5c\u3002 \u8fdb\u4e00\u6b65\u9605\u8bfb\u6784\u5efa\u8fc7\u7a0b \u00b6 mk.conf(5) src/Makefile /usr/share/mk/bsd.README config(8) options(4) \u5236\u4f5c\u4e00\u4e2a\u53d1\u884c\u7248 \u00b6 \u53d1\u884c\u7248\uff08release\uff09\u662f\u53ef\u7528\u4e8e\u5728\u53e6\u4e00\u4e2a\u7cfb\u7edf\u4e0a\u5b89\u88c5\u6216\u5347\u7ea7 OpenBSD \u7684\u5b8c\u6574\u6587\u4ef6\u96c6\u3002\u4e00\u4e2a\u793a\u4f8b\u7528\u9014\u662f\u5728\u4e00\u53f0\u5feb\u901f\u7684\u673a\u5668\u4e0a\u6784\u5efa -stable\uff0c\u7136\u540e\u53d1\u5e03\u4e00\u4e2a\u5b89\u88c5\u5728\u6240\u6709\u5176\u4ed6\u673a\u5668\u4e0a\u7684\u7248\u672c\u3002\u5982\u679c\u4f60\u53ea\u6709\u4e00\u53f0\u8fd0\u884c OpenBSD \u7684\u8ba1\u7b97\u673a\uff0c\u4f60\u771f\u7684\u6ca1\u6709\u4efb\u4f55\u7406\u7531\u53d1\u5e03\u4e00\u4e2a\u7248\u672c\uff0c\u56e0\u4e3a\u4e0a\u9762\u7684\u6784\u5efa\u8fc7\u7a0b\u4f1a\u5b8c\u6210\u4f60\u9700\u8981\u7684\u4e00\u5207\u3002 \u5173\u4e8e\u53d1\u5e03\u7684\u8bf4\u660e\u53ef\u5728 release(8) \u4e2d\u627e\u5230\u3002\u53d1\u5e03\u8fc7\u7a0b\u4f7f\u7528\u4e0a\u9762\u6784\u5efa\u8fc7\u7a0b\u4e2d /usr/obj \u76ee\u5f55\u4e2d\u521b\u5efa\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002 \u6ce8\u610f\uff1a\u5982\u679c\u4f60\u5e0c\u671b\u901a\u8fc7 HTTP(s) \u5206\u53d1\u751f\u6210\u7684\u6587\u4ef6\u96c6\u4ee5\u4f9b\u5347\u7ea7\u6216\u5b89\u88c5\u811a\u672c\u4f7f\u7528\uff0c\u4f60\u9700\u8981\u6dfb\u52a0\u4e00\u4e2a index.txt \u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u65b0\u521b\u5efa\u7684\u7248\u672c\u4e2d\u6240\u6709\u6587\u4ef6\u7684\u5217\u8868\u3002 # ls -nT > index.txt \u5982\u679c\u4f60\u60f3\u5bf9\u4f60\u521b\u5efa\u7684\u96c6\u5408\u8fdb\u884c\u52a0\u5bc6\u7b7e\u540d\uff0c signify(1) \u624b\u518c\u9875\u63d0\u4f9b\u4e86\u6709\u5173\u5982\u4f55\u6267\u884c\u6b64\u64cd\u4f5c\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 \u8bbe\u7f6e\u4f60\u7684\u7cfb\u7edf \u00b6 \u53d1\u5e03\u53d1\u884c\u7248\u9700\u8981\u4e00\u4e2a noperm \u5206\u533a\u3002\u8fd9\u5141\u8bb8\u6784\u5efa\u57fa\u7840\u8bbe\u65bd\u5728\u5927\u90e8\u5206\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u975e\u7279\u6743 build \u7528\u6237\u3002 \u4f7f\u7528 noperm mount(8) \u9009\u9879\u96c6\u5728 /dest \u4e0a\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf\u3002 \u76f8\u5e94\u7684 fstab(5) \u884c\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a c73d2198f83ef845.m /dest ffs rw,nosuid,noperm 1 2 \u6b64\u6587\u4ef6\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\u5fc5\u987b\u7531\u5177\u6709 700 \u6743\u9650\u7684 build \u7528\u6237\u62e5\u6709\uff1a # chown build /dest # chmod 700 /dest \u4e3a base \u548c xenocara \u521b\u5efa DESTDIR \u76ee\u5f55\uff1a # mkdir /dest/{,x}base \u4f60\u7684 RELEASEDIR \u4e0d\u9700\u8981\u4f4d\u4e8e noperm \u6587\u4ef6\u7cfb\u7edf\u4e0a\u3002\u786e\u4fdd\u5b83\u5f52 build \u6240\u6709\u5e76\u4e14\u81f3\u5c11\u5177\u6709 u=rwx \u6743\u9650\u3002 \u4f7f\u7528\u4e00\u4e2a mfs noperm \u5206\u533a \u00b6 \u4f60\u53ef\u80fd\u5e0c\u671b\u4f7f\u7528 mfs \u5206\u533a\u800c\u4e0d\u662f\u7269\u7406\u78c1\u76d8\u3002\u5728 /etc/fstab \u4e2d\u6dfb\u52a0\u7c7b\u4f3c\u4e8e\u6b64\u7684\u884c\uff1a swap /dest mfs rw,nosuid,noperm,-P/var/dest,-s1.5G,noauto 0 0 \u521b\u5efa\u539f\u59cb\u7684 DESTDIR \u76ee\u5f55\uff1a # mkdir -p /var/dest/{,x}base # chown -R build /var/dest # chmod -R 700 /var/dest \u73b0\u5728\u4f60\u53ef\u4ee5\u5728\u53d1\u5e03\u4e4b\u524d\u6302\u8f7d /dest \uff1a # mount /dest \u6784\u5efa X \u00b6 \u4ece X.Org v7 \u5f00\u59cb\uff0cX \u8f6c\u53d8\u4e3a\u6a21\u5757\u5316\u6784\u5efa\u7cfb\u7edf\uff0c\u5c06 X.Org \u6e90\u4ee3\u7801\u6811\u62c6\u5206\u4e3a\u4e09\u767e\u591a\u4e2a\u6216\u591a\u6216\u5c11\u7684\u72ec\u7acb\u5305\u3002 \u4e3a\u4e86\u7b80\u5316 OpenBSD \u7528\u6237\u7684\u64cd\u4f5c\uff0cOpenBSD \u5f00\u53d1\u4e86\u4e00\u4e2a\u540d\u4e3a Xenocara \u7684\u5143\u6784\u5efa\u3002\u8be5\u7cfb\u7edf\u5c06 X \u8f6c\u6362\u56de\u4e00\u68f5\u5927\u6811\uff0c\u4ee5\u4fbf\u5728\u5355\u4e00\u8fc7\u7a0b\u4e2d\u5b8c\u6210\u6784\u5efa\u3002\u4f5c\u4e3a\u4e00\u4e2a\u989d\u5916\u7684\u597d\u5904\uff0c\u8fd9\u4e2a\u6784\u5efa\u8fc7\u7a0b\u6bd4\u4ee5\u524d\u7684\u7248\u672c\u66f4\u7c7b\u4f3c\u4e8e OpenBSD \u5176\u4f59\u90e8\u5206\u4f7f\u7528\u7684\u6784\u5efa\u8fc7\u7a0b\u3002 \u6784\u5efa X \u7684\u5b98\u65b9\u8bf4\u660e\u5b58\u5728\u4e8e xenocara/README \u6587\u4ef6\u548c release(8) \u7684\u7b2c 5 \u6b65\u4e2d\u3002 \u7f16\u8bd1\u65f6\u7684\u5e38\u89c1\u95ee\u9898 \u00b6 \u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6784\u5efa\u8fc7\u7a0b\u4e2d\u7684\u95ee\u9898\u662f\u7531\u4e8e\u6ca1\u6709\u4ed4\u7ec6\u9075\u5faa\u6307\u793a\u9020\u6210\u7684\u3002\u4ece\u6700\u65b0\u7684\u5feb\u7167\u6784\u5efa -current \u5076\u5c14\u4f1a\u51fa\u73b0\u771f\u6b63\u7684\u95ee\u9898\uff0c\u4f46\u662f\u6784\u5efa -release \u6216 -stable \u65f6\u7684\u5931\u8d25\u51e0\u4e4e\u603b\u662f\u7528\u6237\u64cd\u4f5c\u5931\u8bef\u3002 \u5927\u591a\u6570\u95ee\u9898\u901a\u5e38\u662f\u4ee5\u4e0b\u60c5\u51b5\u4e4b\u4e00\uff1a \u65e0\u6cd5\u4ece \u5408\u9002\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 \u542f\u52a8\u3002 \u68c0\u67e5 \u6811\u7684\u9519\u8bef\u5206\u652f\u3002 \u5728\u6784\u5efa -current \u4e4b\u524d\u5fd8\u8bb0\u9605\u8bfb following -current \u3002 \u5728\u6784\u5efa\u548c\u5b89\u88c5\u65b0\u5185\u6838\u540e\u8df3\u8fc7\u91cd\u542f\u6b65\u9aa4\u3002 \u6211\u5fd8\u4e86\u5728 make build \u4e4b\u524d make obj \u00b6 \u901a\u8fc7\u5728\u6267\u884c make obj \u4e4b\u524d\u6267\u884c make build \uff0c\u4f60\u6700\u7ec8\u4f1a\u5f97\u5230\u5206\u6563\u5728 /usr/src \u76ee\u5f55\u4e2d\u7684\u76ee\u6807\u6587\u4ef6\u3002\u8fd9\u662f\u4e00\u4ef6\u574f\u4e8b\u3002\u5982\u679c\u4f60\u5e0c\u671b\u907f\u514d\u518d\u6b21\u91cd\u65b0\u83b7\u53d6\u6574\u4e2a src \u6811\uff0c\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u4ee5\u4e0b\u64cd\u4f5c\u6765\u6e05\u9664 obj \u6587\u4ef6\uff1a $ cd /usr/src $ find . -type l -name obj -delete $ make cleandir $ rm -rf /usr/obj/* $ make obj \u6784\u5efa\u56e0\u4e3a \u201cSignal 11\u201d \u9519\u8bef\u800c\u505c\u6b62 \u00b6 \u4ece\u6e90\u4ee3\u7801\u6784\u5efa OpenBSD \u548c\u5176\u4ed6\u7a0b\u5e8f\u662f\u4e00\u9879\u5bf9\u786c\u4ef6\u8981\u6c42\u8f83\u9ad8\u7684\u4efb\u52a1\uff0c\u9700\u8981\u5927\u91cf\u4f7f\u7528 CPU\u3001\u78c1\u76d8\u548c\u5185\u5b58\u3002Signal 11 \u6545\u969c\u901a\u5e38\u662f\u7531\u786c\u4ef6\u95ee\u9898\u5f15\u8d77\u7684\u3002 \u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u6700\u597d\u4fee\u7406\u6216\u66f4\u6362\u5f15\u8d77\u6545\u969c\u7684\u7ec4\u4ef6\uff0c\u56e0\u4e3a\u95ee\u9898\u5c06\u6765\u53ef\u80fd\u4f1a\u4ee5\u5176\u4ed6\u65b9\u5f0f\u51fa\u73b0\u3002 \u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Sig11 \u5e38\u89c1\u95ee\u9898\u89e3\u7b54 \u3002 \u5176\u4ed6\u95ee\u9898\u548c\u63d0\u793a \u00b6 \u5c06\u4f60\u7684\u7528\u6237\u6dfb\u52a0\u5230 wobj \u7ec4 \u00b6 \u5982\u679c\u4f60\u6253\u7b97\u5728\u6e90\u4ee3\u7801\u6811\u4e2d\u7f16\u8bd1\u5355\u4e2a\u7a0b\u5e8f\u2014\u2014\u4f8b\u5982\uff0c\u8fdb\u884c\u5f00\u53d1\u2014\u2014\u4f60\u9700\u8981\u5c06\u4f60\u7684\u7528\u6237\u6dfb\u52a0\u5230 wobj \u7ec4\u3002\u8fd9\u5c06\u5141\u8bb8\u4f60\u5728 /usr/obj \u8bfb\u5199\u6587\u4ef6\u3002 \u7ed9\u6587\u4ef6\u6253\u6807\u7b7e \u00b6 \u4f5c\u4e3a\u5f00\u53d1\u4eba\u5458\u7684\u7f16\u8f91\u5668\uff0c mg(1) \u548c vi(1) \u5185\u7f6e\u4e86\u5bf9 ctags(1) \u6587\u4ef6\u7684\u652f\u6301\uff0c\u5141\u8bb8\u4f60\u5feb\u901f\u6d4f\u89c8\u6e90\u4ee3\u7801\u6811\u3002 \u5728\u5927\u591a\u6570\u7a0b\u5e8f\u6216\u5e93\u6e90\u76ee\u5f55\u4e2d\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c\u4e0b\u5217\u6307\u4ee4\u6765\u521b\u5efa ./tags \u6587\u4ef6\uff1a $ make tags \u5728\u6784\u5efa\u548c\u5b89\u88c5 libc \u65f6\uff0c\u8fd8\u4f1a\u521b\u5efa\u4e00\u4e2a /var/db/libc.tags \u6587\u4ef6\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a\u67b6\u6784\u7684\u5185\u6838\u6807\u7b7e\uff08kernel tags\uff09\u4f4d\u4e8e /sys/arch/$(machine)/ \u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 /sys/kern \u4e2d\u7684 make \u6807\u8bb0\u521b\u5efa\u8fd9\u4e9b\u6587\u4ef6\u3002\u4f60\u53ef\u80fd\u5e0c\u671b\u4ee5 root \u8eab\u4efd\u8fd0\u884c make links \u4ee5\u5728\u6bcf\u4e2a\u76ee\u5f55\u548c /var/db/ \u4e2d\u653e\u7f6e\u6307\u5411\u67b6\u6784\u5185\u6838\u6807\u8bb0\u6587\u4ef6\u7684\u7b26\u53f7\u94fe\u63a5\u3002 \u5982\u4f55\u8df3\u8fc7\u6784\u5efa\u6811\u7684\u67d0\u4e9b\u90e8\u5206\uff1f \u00b6 \u4f7f\u7528 mk.conf(5) \u7684 SKIPDIR \u9009\u9879\u3002 \u6211\u53ef\u4ee5\u4f7f\u7528\u4ea4\u53c9\u7f16\u8bd1\u5417\uff1f \u00b6 OpenBSD \u7cfb\u7edf\u4e2d\u5305\u542b\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\uff0c\u4f9b\u5f00\u53d1\u4eba\u5458\u4f7f\u7528\u4ee5\u521b\u5efa\u65b0\u5e73\u53f0\u3002\u4f46\u662f\uff0c\u5b83\u4eec\u4e0d\u662f\u4e3a\u4e86\u4e00\u822c\u7528\u9014\u800c\u7ef4\u62a4\u7684\u3002 \u5f53\u5f00\u53d1\u4eba\u5458\u63d0\u51fa\u5bf9\u65b0\u5e73\u53f0\u7684\u652f\u6301\u65f6\uff0c\u7b2c\u4e00\u4e2a\u91cd\u5927\u6d4b\u8bd5\u4e4b\u4e00\u5c31\u662f\u539f\u751f\u6784\u5efa\uff08native-build\uff09\u3002\u4ece\u6e90\u4ee3\u7801\u6784\u5efa\u7cfb\u7edf\u4f1a\u7ed9\u64cd\u4f5c\u7cfb\u7edf\u548c\u673a\u5668\u5e26\u6765\u76f8\u5f53\u5927\u7684\u8d1f\u8f7d\uff0c\u5e76\u4e14\u53ef\u4ee5\u5f88\u597d\u5730\u6d4b\u8bd5\u7cfb\u7edf\u7684\u5b9e\u9645\u5de5\u4f5c\u60c5\u51b5\u3002\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0cOpenBSD \u5728\u6784\u5efa\u6240\u4f7f\u7528\u7684\u5e73\u53f0\u4e0a\u6267\u884c\u6240\u6709\u6784\u5efa\u8fc7\u7a0b\u3002 \u5b9a\u5236\u5316\u5185\u6838 \u00b6 \u81ea\u5b9a\u4e49\u5185\u6838\u7684\u4e09\u79cd\u65b9\u5f0f\uff1a \u4f7f\u7528 boot_config(8) \u4e34\u65f6\u542f\u52a8\u65f6\u914d\u7f6e \u4f7f\u7528 config(8) \u6c38\u4e45\u4fee\u6539\u5df2\u7f16\u8bd1\u7684\u5185\u6838 \u7f16\u8bd1\u81ea\u5b9a\u4e49\u5185\u6838 Boot-Time \u914d\u7f6e \u00b6 OpenBSD \u7684\u5f15\u5bfc\u65f6\uff08boot-time\uff09\u5185\u6838\u914d\u7f6e boot_config(8) \u5141\u8bb8\u7ba1\u7406\u5458\u4fee\u6539\u67d0\u4e9b\u5185\u6838\u8bbe\u7f6e\uff0c\u4f8b\u5982\u542f\u7528\u6216\u7981\u7528\u5bf9\u5404\u79cd\u8bbe\u5907\u7684\u652f\u6301\uff0c\u800c\u65e0\u9700\u91cd\u65b0\u7f16\u8bd1\u5185\u6838\u672c\u8eab\u3002 \u8981\u8fdb\u5165\u7528\u6237\u5185\u6838\u914d\u7f6e\uff08User Kernel Config, UKC\uff09\uff0c\u8bf7\u5728\u542f\u52a8\u65f6\u4f7f\u7528 -c \u9009\u9879\uff1a Using drive 0, partition 3. Loading...... probing: pc0 com0 com1 mem[638K 1918M a20=on] disk: hd0+ hd1+ >> OpenBSD/amd64 BOOT 3.33 boot> boot hd0a:/bsd -c \u8fd9\u6837\u505a\u4f1a\u5f39\u51fa\u4e00\u4e2a UKC \u63d0\u793a\u3002 \u952e\u5165 help \u4ee5\u83b7\u53d6\u53ef\u7528\u547d\u4ee4\u7684\u5217\u8868\u3002 \u4f7f\u7528 boot_config(8) \u4ec5\u63d0\u4f9b\u4e34\u65f6\u66f4\u6539\uff0c\u8fd9\u610f\u5473\u7740\u6bcf\u6b21\u91cd\u65b0\u542f\u52a8\u65f6\u90fd\u5fc5\u987b\u91cd\u590d\u8be5\u8fc7\u7a0b\u3002\u4e0b\u4e00\u8282\u5c06\u89e3\u91ca\u5982\u4f55\u4f7f\u66f4\u6539\u6c38\u4e45\u5316\u3002 \u4f7f\u7528 config(8) \u66f4\u6539\u5185\u6838\u9009\u9879 \u00b6 \u4f7f\u7528 -e \u6807\u5fd7\u8c03\u7528 config(8) \u5141\u8bb8\u60a8\u5728\u6b63\u5728\u8fd0\u884c\u7684\u7cfb\u7edf\u4e0a\u8fdb\u5165 UKC\u3002\u6240\u505a\u7684\u4efb\u4f55\u66f4\u6539\u5c06\u5728\u4e0b\u6b21\u91cd\u65b0\u542f\u52a8\u65f6\u751f\u6548\u3002 -u \u6807\u5fd7\u6d4b\u8bd5\u4ee5\u67e5\u770b\u5728\u5f15\u5bfc\u671f\u95f4\u662f\u5426\u5bf9\u6b63\u5728\u8fd0\u884c\u7684\u5185\u6838\u8fdb\u884c\u4e86\u4efb\u4f55\u66f4\u6539\uff0c\u8fd9\u610f\u5473\u7740\u60a8\u5728\u5f15\u5bfc\u7cfb\u7edf\u65f6\u4f7f\u7528\u4e86 boot -c \u8fdb\u5165 UKC\u3002 \u4e3a\u907f\u514d\u7528\u635f\u574f\u7684\u5185\u6838\u8986\u76d6\u6b63\u5728\u5de5\u4f5c\u7684\u5185\u6838\u7684\u98ce\u9669\uff0c\u8bf7\u8003\u8651\u4f7f\u7528 -o \u6807\u5fd7\u5c06\u66f4\u6539\u5199\u5165\u5355\u72ec\u7684\u5185\u6838\u6587\u4ef6\u4ee5\u8fdb\u884c\u6d4b\u8bd5\uff1a # config -e -o /bsd.new /bsd \u8fd9\u4f1a\u5c06\u60a8\u7684\u66f4\u6539\u5199\u5165 /bsd.new \u6587\u4ef6\u3002 \u4e00\u65e6\u4f60\u4ece\u8fd9\u4e2a\u65b0\u5185\u6838\u542f\u52a8\u5e76\u9a8c\u8bc1\u4e00\u5207\u6b63\u5e38\uff0c\u5c31\u53ef\u4ee5\u5c06\u6240\u9700\u7684\u66f4\u6539\u653e\u7f6e\u5728 bsd.re-config(5) \u4e2d\u4f7f\u5176\u6c38\u4e45\u5316\u3002\u8fd9\u6837\u505a\u6d88\u9664\u4e86\u5728\u542f\u52a8\u65f6\u9009\u62e9\u5185\u6838\u7684\u9700\u8981\uff0c\u5e76\u786e\u4fdd\u4f11\u7720\u548c\u5185\u6838\u91cd\u65b0\u94fe\u63a5\uff08kernel relinking\uff09\u7ee7\u7eed\u5de5\u4f5c\u3002 \u6784\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5185\u6838 \u00b6 OpenBSD \u56e2\u961f\u4ec5\u652f\u6301 GENERIC \u548c GENERIC.MP \u5185\u6838\u3002 GENERIC \u5185\u6838\u914d\u7f6e\u662f /sys/arch/$(machine)/conf/GENERIC \u548c /sys/conf/GENERIC \u4e2d\u9009\u9879\u7684\u7ec4\u5408\u3002\u62a5\u544a\u81ea\u5b9a\u4e49\u5185\u6838\u7684\u95ee\u9898\u51e0\u4e4e\u603b\u662f\u4f1a\u5bfc\u81f4\u4f60\u88ab\u544a\u77e5\u5c1d\u8bd5\u4f7f\u7528 GENERIC \u5185\u6838\u91cd\u73b0\u8be5\u95ee\u9898\u3002 \u9996\u5148\u9605\u8bfb config(8) \u548c options(4) \u624b\u518c\u9875\u3002\u4ee5\u4e0b\u6b65\u9aa4\u662f\u7f16\u8bd1\u81ea\u5b9a\u4e49\u5185\u6838\u7684\u4e00\u90e8\u5206\uff1a $ cd /sys/arch/$(machine)/conf $ cp GENERIC CUSTOM $ vi CUSTOM # make your changes $ config CUSTOM $ cd ../compile/CUSTOM $ make \u51c6\u5907 Diff \u00b6 \u5982\u679c\u4f60\u5bf9\u8981\u4e0e\u5f00\u53d1\u4eba\u5458\u5171\u4eab\u7684\u6e90\u4ee3\u7801\u8fdb\u884c\u4e86\u66f4\u6539\uff0c\u8bf7\u9075\u5faa\u4ee5\u4e0b\u7ea6\u5b9a\uff1a \u5c06\u4f60\u7684 Diff\uff08\u66f4\u6539\uff09\u57fa\u4e8e -current \u8fdb\u884c\u603b\u7ed3\u3002 \u4f7f\u7528 cvs diff -uNp \u751f\u6210 diff\u3002 \u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u5c06\u4f60\u7684 diff \u4ee5\u7535\u5b50\u90ae\u4ef6\u7684\u5f62\u5f0f\u53d1\u9001\u5230 \u6280\u672f \u90ae\u4ef6\u5217\u8868 \u3002\u8bf7\u786e\u4fdd\u4f60\u7684\u7535\u5b50\u90ae\u4ef6\u5ba2\u6237\u7aef\u4e0d\u4f1a\u5c06\u7a7a\u767d\u5904\u6253\u4e71\u3002 \u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f OpenBSD \u6e90\u4ee3\u7801\u6811\u7684 git \u955c\u50cf\uff0c\u8bf7\u8bbe\u7f6e\uff1a $ git config diff.noprefix true \u5728\u4f60\u7684\u5b58\u50a8\u5e93\u4e2d\u5e76\u50cf\u8fd9\u6837\u751f\u6210\u4f60\u7684 diff\uff1a $ git diff --relative .","title":"\u4ece\u6e90\u7801\u6784\u5efa\u7cfb\u7edf"},{"location":"openbsd-faq/faq5/#openbsd-faq---\u4ece\u6e90\u7801\u6784\u5efa\u7cfb\u7edf","text":"","title":"OpenBSD FAQ - \u4ece\u6e90\u7801\u6784\u5efa\u7cfb\u7edf"},{"location":"openbsd-faq/faq5/#openbsd-\u7684-flavors","text":"OpenBSD \u5171\u6709\u4e09\u4e2a\u7248\u672c\uff1a -release \uff1a\u6bcf\u516d\u4e2a\u6708\u53d1\u5e03\u4e00\u6b21\u7684 OpenBSD \u7248\u672c\u3002 -current \uff1a\u5f00\u53d1\u5206\u652f\u3002\u6bcf\u516d\u4e2a\u6708\uff0c-current \u88ab\u6807\u8bb0\u5e76\u6210\u4e3a\u4e0b\u4e00\u4e2a -release\u3002 -stable \uff1a-release \u5206\u652f\uff0c\u4ee5\u53ca\u5728 \u52d8\u8bef\u9875\u9762 \u4e0a\u627e\u5230\u7684\u8865\u4e01\u3002\u5f53\u5bf9 -current \u8fdb\u884c\u975e\u5e38\u91cd\u8981\u7684\u4fee\u590d\u65f6\uff0c\u5b83\u4eec\u4f1a\u5411\u540e\u79fb\u690d\u5230\u53d7\u652f\u6301\u7684 -stable \u5206\u652f\u3002 \u53ea\u6709\u4e24\u4e2a\u6700\u65b0\u7684 OpenBSD \u7248\u672c\u624d\u80fd\u83b7\u5f97\u57fa\u672c\u7cfb\u7edf\u7684 \u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\u4fee\u590d \u3002 \u65b0\u7528\u6237\u5e94\u8be5\u8fd0\u884c -stable \u6216 -release\u3002\u8bdd\u867d\u5982\u6b64\uff0c\u8bb8\u591a\u4eba\u786e\u5b9e\u5728\u751f\u4ea7\u7cfb\u7edf\u4e0a\u8fd0\u884c -current \u4ee5\u5e2e\u52a9\u6355\u83b7\u9519\u8bef\u548c\u6d4b\u8bd5\u65b0\u529f\u80fd\u3002","title":"OpenBSD \u7684 flavors"},{"location":"openbsd-faq/faq5/#\u5f00\u53d1\u7248\u5feb\u7167","text":"\u5728 OpenBSD \u65b0\u7248\u672c\u6b63\u5f0f\u53d1\u5e03\u524d\uff0c-current \u5206\u652f\u7684\u5feb\u7167\u4f1a\u88ab\u63d0\u4f9b\u3002\u8fd9\u4e9b\u662f\u57fa\u4e8e\u5f53\u65f6\u5728\u4ee3\u7801\u6811\u4e0a\u7684\u6240\u6709\u4ee3\u7801\u6784\u5efa\u7684\u5feb\u7167\u3002 \u6700\u8fd1\u53d1\u5e03\u7684\u5feb\u7167\u901a\u5e38\u662f\u4f60\u8fd0\u884c -current \u6240\u9700\u7684\u5168\u90e8\u5185\u5bb9\u3002\u5982\u679c\u4f60\u5e0c\u671b\u4ece\u6e90\u4ee3\u7801\u6784\u5efa\u5b83\uff0c\u5219\u9700\u8981\u4ece\u6700\u65b0\u7684\u5feb\u7167\u5f00\u59cb\u3002 \u68c0\u67e5 \u4ee5\u4e0b -current \u548c using \u5feb\u7167\u9875\u9762 \u4ee5\u4e86\u89e3\u4ece\u6e90\u4ee3\u7801\u6784\u5efa\u6240\u9700\u7684\u4efb\u4f55\u914d\u7f6e\u66f4\u6539\u6216\u989d\u5916\u6b65\u9aa4\u3002 \u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u5feb\u7167\u4e2d\u7684\u9519\u8bef\u3002\u8fd9\u662f\u5b83\u4eec\u88ab\u6784\u5efa\u548c\u5206\u53d1\u7684\u539f\u56e0\u4e4b\u4e00\u3002\u5982\u679c\u4f60\u53d1\u73b0\u9519\u8bef\uff0c\u8bf7\u786e\u4fdd \u5df2\u62a5\u544a \u8be5\u9519\u8bef\u3002","title":"\u5f00\u53d1\u7248\u5feb\u7167"},{"location":"openbsd-faq/faq5/#\u4ece\u6e90\u7801\u6784\u5efa-openbsd","text":"\u4ece\u6e90\u4ee3\u7801\u6784\u5efa OpenBSD \u6d89\u53ca\u8bb8\u591a\u6b65\u9aa4\uff1a \u5347\u7ea7\u5230\u6700\u65b0\u7684\u53ef\u7528\u4e8c\u8fdb\u5236\u6587\u4ef6 \u83b7\u53d6\u6e90\u4ee3\u7801 \u6784\u5efa\u65b0\u5185\u6838\u548c\u7528\u6237\u7a7a\u95f4\uff0c\u5982 release(8) \u7684\u7b2c 2 \u6b65\u548c\u7b2c 3 \u6b65\u6240\u8ff0 \u53ef\u9009\u5730\uff0c \u53d1\u5e03 \u5e76 \u6784\u5efa X \u6b64\u5e38\u89c1\u95ee\u9898\u90e8\u5206\u65e8\u5728\u5e2e\u52a9\u60a8\u8fdb\u884c\u5fc5\u8981\u7684\u51c6\u5907\u3002\u4e3b\u8981\u6b65\u9aa4\u8bf7\u53c2\u8003 release(8) \u3002","title":"\u4ece\u6e90\u7801\u6784\u5efa OpenBSD"},{"location":"openbsd-faq/faq5/#\u5347\u7ea7\u5230\u6700\u65b0\u7684\u53ef\u7528\u4e8c\u8fdb\u5236\u6587\u4ef6","text":"\u4e0d\u8981\u8bd5\u56fe\u901a\u8fc7\u4ece\u6e90\u4ee3\u7801\u7f16\u8bd1\u6765\u4ece\u4e00\u4e2a\u7248\u672c\u8f6c\u5230\u53e6\u4e00\u4e2a\u7248\u672c\u3002 \u786e\u4fdd\u60a8\u5b89\u88c5\u4e86\u6700\u65b0\u7684\u53ef\u7528\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u5982\u679c\u4f60\u60f3\u6784\u5efa OpenBSD x.y-stable\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u7684 OpenBSD x.y-release\uff1b\u5982\u679c\u4f60\u60f3\u8981\u6784\u5efa -current\uff0c\u8bf7\u5347\u7ea7\u5230 -current \u7684\u6700\u65b0\u5feb\u7167\u3002","title":"\u5347\u7ea7\u5230\u6700\u65b0\u7684\u53ef\u7528\u4e8c\u8fdb\u5236\u6587\u4ef6"},{"location":"openbsd-faq/faq5/#\u83b7\u53d6\u6e90\u7801","text":"OpenBSD \u4f7f\u7528 CVS \u7248\u672c\u63a7\u5236\u7cfb\u7edf\u6765\u7ba1\u7406\u5176\u6e90\u4ee3\u7801\u3002 cvs(1) \u7a0b\u5e8f\u7528\u4e8e\u5c06\u6240\u9700\u6e90\u7684\u526f\u672c\u4e0b\u8f7d\u5230\u672c\u5730\u673a\u5668\u8fdb\u884c\u7f16\u8bd1\u3002cvs(1) \u7684\u4ecb\u7ecd\u548c\u83b7\u53d6\u6e90\u4ee3\u7801\u6811\u7684\u8be6\u7ec6\u8bf4\u660e\u4f4d\u4e8e \u533f\u540d CVS \u9875\u9762\u3002\u9996\u5148\uff0c\u4f60\u5fc5\u987b\u4f7f\u7528 cvs checkout \u68c0\u51fa\u6e90\u4ee3\u7801\u6811\u3002\u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c cvs update \u5c06\u66f4\u65b0\u7684\u6587\u4ef6\u62c9\u5230\u672c\u5730\u6811\u6765\u7ef4\u62a4\u6811\u3002\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 reposync \u7a0b\u5e8f\u7ef4\u62a4\u672c\u5730 CVS \u5b58\u50a8\u5e93\uff0c\u8be5\u7a0b\u5e8f\u4f5c\u4e3a\u4e00\u4e2a \u5305 \u63d0\u4f9b\u3002 \u533f\u540d CVS \u9875\u9762\u4e0a\u4e5f\u89e3\u91ca\u4e86\u8bbe\u7f6e\u5b58\u50a8\u5e93\u7684\u955c\u50cf\u3002","title":"\u83b7\u53d6\u6e90\u7801"},{"location":"openbsd-faq/faq5/#\u907f\u514d\u4f7f\u7528-root-\u6743\u9650","text":"\u907f\u514d\u4ee5 root \u8eab\u4efd\u8fd0\u884c cvs(1)\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c /usr/src \u76ee\u5f55\uff08\u60a8\u7684\u6e90\u4ee3\u7801\u901a\u5e38\u6240\u5728\u7684\u4f4d\u7f6e\uff09\u53ef\u7531 wsrc \u7ec4\u5199\u5165\uff0c\u56e0\u6b64\u8bf7\u5c06\u9700\u8981\u4f7f\u7528 cvs(1) \u7684\u7528\u6237\u6dfb\u52a0\u5230\u8be5\u7ec4\u3002 # user mod -G wsrc <\u4f60\u7684\u7528\u6237\u540d> \u6b64\u66f4\u6539\u5728\u4e0b\u6b21\u767b\u5f55\u65f6\u751f\u6548\u3002 \u5982\u679c\u8981\u4ee5\u8be5\u7528\u6237\u8eab\u4efd\u83b7\u53d6 xenocara \u6216 ports\uff0c\u5219\u5fc5\u987b\u624b\u52a8\u521b\u5efa\u76ee\u5f55\u5e76\u8bbe\u7f6e\u5176\u6743\u9650\u3002 # cd /usr # mkdir -p xenocara ports # chgrp wsrc xenocara ports # chmod 775 xenocara ports","title":"\u907f\u514d\u4f7f\u7528 Root \u6743\u9650"},{"location":"openbsd-faq/faq5/#\u83b7\u53d6--stable","text":"\u8981\u83b7\u53d6 -stable src \u6811\uff0c\u8bf7\u4f7f\u7528 -r \u6807\u5fd7\u6307\u5b9a\u6240\u9700\u7684\u5206\u652f\uff1a $ cd /usr $ cvs -qd anoncvs@anoncvs.example.org:/cvs checkout -rOPENBSD_7_0 -P src \u68c0\u51fa\u6811\u540e\uff0c\u4f60\u53ef\u4ee5\u7a0d\u540e\u66f4\u65b0\u5b83\uff1a $ cd /usr/src $ cvs -q up -Pd -rOPENBSD_7_0 \u6839\u636e\u9700\u8981\u5c06 src \u66ff\u6362\u4e3a xenocara \u6216 ports \u3002\u7531\u4e8e OpenBSD \u7684\u6240\u6709\u90e8\u5206\u90fd\u5fc5\u987b\u4fdd\u6301\u540c\u6b65\uff0c\u56e0\u6b64\u4f60\u4f7f\u7528\u7684\u6240\u6709\u6811\u90fd\u5e94\u8be5\u540c\u65f6\u68c0\u51fa\u548c\u66f4\u65b0\u3002","title":"\u83b7\u53d6 -stable"},{"location":"openbsd-faq/faq5/#\u83b7\u53d6--current","text":"\u8981\u83b7\u53d6 -current src \u6811\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a $ cd /usr $ cvs -qd anoncvs@anoncvs.example.org:/cvs checkout -P src \u4f7f\u7528\u4e0b\u5217\u6307\u4ee4\u66f4\u65b0\u6811\uff1a $ cd /usr/src $ cvs -q up -Pd -A \u5c06 src \u66ff\u6362\u4e3a\u60a8\u60f3\u8981\u7684\u6a21\u5757\uff0c\u4f8b\u5982 xenocara \u6216 ports \u3002","title":"\u83b7\u53d6 -current"},{"location":"openbsd-faq/faq5/#\u6784\u5efa-openbsd","text":"\u6b64\u65f6\uff0c\u4f60\u5df2\u51c6\u5907\u597d\u4ece\u6e90\u4ee3\u7801\u6784\u5efa OpenBSD\u3002 \u5982\u679c\u4f60\u6b63\u5728\u6784\u5efa -current\uff0c\u8bf7\u67e5\u770b \u6b64\u9875\u9762 \u4e0a\u5217\u51fa\u7684\u66f4\u6539\u548c\u7279\u6b8a\u6784\u5efa\u8bf4\u660e\u3002 \u6309\u7167 release(8) \u7684\u6b65\u9aa4 2 \u548c 3 \u4e2d\u7684\u8be6\u7ec6\u8bf4\u660e\u8fdb\u884c\u64cd\u4f5c\u3002","title":"\u6784\u5efa OpenBSD"},{"location":"openbsd-faq/faq5/#\u8fdb\u4e00\u6b65\u9605\u8bfb\u6784\u5efa\u8fc7\u7a0b","text":"mk.conf(5) src/Makefile /usr/share/mk/bsd.README config(8) options(4)","title":"\u8fdb\u4e00\u6b65\u9605\u8bfb\u6784\u5efa\u8fc7\u7a0b"},{"location":"openbsd-faq/faq5/#\u5236\u4f5c\u4e00\u4e2a\u53d1\u884c\u7248","text":"\u53d1\u884c\u7248\uff08release\uff09\u662f\u53ef\u7528\u4e8e\u5728\u53e6\u4e00\u4e2a\u7cfb\u7edf\u4e0a\u5b89\u88c5\u6216\u5347\u7ea7 OpenBSD \u7684\u5b8c\u6574\u6587\u4ef6\u96c6\u3002\u4e00\u4e2a\u793a\u4f8b\u7528\u9014\u662f\u5728\u4e00\u53f0\u5feb\u901f\u7684\u673a\u5668\u4e0a\u6784\u5efa -stable\uff0c\u7136\u540e\u53d1\u5e03\u4e00\u4e2a\u5b89\u88c5\u5728\u6240\u6709\u5176\u4ed6\u673a\u5668\u4e0a\u7684\u7248\u672c\u3002\u5982\u679c\u4f60\u53ea\u6709\u4e00\u53f0\u8fd0\u884c OpenBSD \u7684\u8ba1\u7b97\u673a\uff0c\u4f60\u771f\u7684\u6ca1\u6709\u4efb\u4f55\u7406\u7531\u53d1\u5e03\u4e00\u4e2a\u7248\u672c\uff0c\u56e0\u4e3a\u4e0a\u9762\u7684\u6784\u5efa\u8fc7\u7a0b\u4f1a\u5b8c\u6210\u4f60\u9700\u8981\u7684\u4e00\u5207\u3002 \u5173\u4e8e\u53d1\u5e03\u7684\u8bf4\u660e\u53ef\u5728 release(8) \u4e2d\u627e\u5230\u3002\u53d1\u5e03\u8fc7\u7a0b\u4f7f\u7528\u4e0a\u9762\u6784\u5efa\u8fc7\u7a0b\u4e2d /usr/obj \u76ee\u5f55\u4e2d\u521b\u5efa\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002 \u6ce8\u610f\uff1a\u5982\u679c\u4f60\u5e0c\u671b\u901a\u8fc7 HTTP(s) \u5206\u53d1\u751f\u6210\u7684\u6587\u4ef6\u96c6\u4ee5\u4f9b\u5347\u7ea7\u6216\u5b89\u88c5\u811a\u672c\u4f7f\u7528\uff0c\u4f60\u9700\u8981\u6dfb\u52a0\u4e00\u4e2a index.txt \u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u65b0\u521b\u5efa\u7684\u7248\u672c\u4e2d\u6240\u6709\u6587\u4ef6\u7684\u5217\u8868\u3002 # ls -nT > index.txt \u5982\u679c\u4f60\u60f3\u5bf9\u4f60\u521b\u5efa\u7684\u96c6\u5408\u8fdb\u884c\u52a0\u5bc6\u7b7e\u540d\uff0c signify(1) \u624b\u518c\u9875\u63d0\u4f9b\u4e86\u6709\u5173\u5982\u4f55\u6267\u884c\u6b64\u64cd\u4f5c\u7684\u8be6\u7ec6\u4fe1\u606f\u3002","title":"\u5236\u4f5c\u4e00\u4e2a\u53d1\u884c\u7248"},{"location":"openbsd-faq/faq5/#\u8bbe\u7f6e\u4f60\u7684\u7cfb\u7edf","text":"\u53d1\u5e03\u53d1\u884c\u7248\u9700\u8981\u4e00\u4e2a noperm \u5206\u533a\u3002\u8fd9\u5141\u8bb8\u6784\u5efa\u57fa\u7840\u8bbe\u65bd\u5728\u5927\u90e8\u5206\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u975e\u7279\u6743 build \u7528\u6237\u3002 \u4f7f\u7528 noperm mount(8) \u9009\u9879\u96c6\u5728 /dest \u4e0a\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf\u3002 \u76f8\u5e94\u7684 fstab(5) \u884c\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a c73d2198f83ef845.m /dest ffs rw,nosuid,noperm 1 2 \u6b64\u6587\u4ef6\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\u5fc5\u987b\u7531\u5177\u6709 700 \u6743\u9650\u7684 build \u7528\u6237\u62e5\u6709\uff1a # chown build /dest # chmod 700 /dest \u4e3a base \u548c xenocara \u521b\u5efa DESTDIR \u76ee\u5f55\uff1a # mkdir /dest/{,x}base \u4f60\u7684 RELEASEDIR \u4e0d\u9700\u8981\u4f4d\u4e8e noperm \u6587\u4ef6\u7cfb\u7edf\u4e0a\u3002\u786e\u4fdd\u5b83\u5f52 build \u6240\u6709\u5e76\u4e14\u81f3\u5c11\u5177\u6709 u=rwx \u6743\u9650\u3002","title":"\u8bbe\u7f6e\u4f60\u7684\u7cfb\u7edf"},{"location":"openbsd-faq/faq5/#\u4f7f\u7528\u4e00\u4e2a-mfs-noperm-\u5206\u533a","text":"\u4f60\u53ef\u80fd\u5e0c\u671b\u4f7f\u7528 mfs \u5206\u533a\u800c\u4e0d\u662f\u7269\u7406\u78c1\u76d8\u3002\u5728 /etc/fstab \u4e2d\u6dfb\u52a0\u7c7b\u4f3c\u4e8e\u6b64\u7684\u884c\uff1a swap /dest mfs rw,nosuid,noperm,-P/var/dest,-s1.5G,noauto 0 0 \u521b\u5efa\u539f\u59cb\u7684 DESTDIR \u76ee\u5f55\uff1a # mkdir -p /var/dest/{,x}base # chown -R build /var/dest # chmod -R 700 /var/dest \u73b0\u5728\u4f60\u53ef\u4ee5\u5728\u53d1\u5e03\u4e4b\u524d\u6302\u8f7d /dest \uff1a # mount /dest","title":"\u4f7f\u7528\u4e00\u4e2a mfs noperm \u5206\u533a"},{"location":"openbsd-faq/faq5/#\u6784\u5efa-x","text":"\u4ece X.Org v7 \u5f00\u59cb\uff0cX \u8f6c\u53d8\u4e3a\u6a21\u5757\u5316\u6784\u5efa\u7cfb\u7edf\uff0c\u5c06 X.Org \u6e90\u4ee3\u7801\u6811\u62c6\u5206\u4e3a\u4e09\u767e\u591a\u4e2a\u6216\u591a\u6216\u5c11\u7684\u72ec\u7acb\u5305\u3002 \u4e3a\u4e86\u7b80\u5316 OpenBSD \u7528\u6237\u7684\u64cd\u4f5c\uff0cOpenBSD \u5f00\u53d1\u4e86\u4e00\u4e2a\u540d\u4e3a Xenocara \u7684\u5143\u6784\u5efa\u3002\u8be5\u7cfb\u7edf\u5c06 X \u8f6c\u6362\u56de\u4e00\u68f5\u5927\u6811\uff0c\u4ee5\u4fbf\u5728\u5355\u4e00\u8fc7\u7a0b\u4e2d\u5b8c\u6210\u6784\u5efa\u3002\u4f5c\u4e3a\u4e00\u4e2a\u989d\u5916\u7684\u597d\u5904\uff0c\u8fd9\u4e2a\u6784\u5efa\u8fc7\u7a0b\u6bd4\u4ee5\u524d\u7684\u7248\u672c\u66f4\u7c7b\u4f3c\u4e8e OpenBSD \u5176\u4f59\u90e8\u5206\u4f7f\u7528\u7684\u6784\u5efa\u8fc7\u7a0b\u3002 \u6784\u5efa X \u7684\u5b98\u65b9\u8bf4\u660e\u5b58\u5728\u4e8e xenocara/README \u6587\u4ef6\u548c release(8) \u7684\u7b2c 5 \u6b65\u4e2d\u3002","title":"\u6784\u5efa X"},{"location":"openbsd-faq/faq5/#\u7f16\u8bd1\u65f6\u7684\u5e38\u89c1\u95ee\u9898","text":"\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6784\u5efa\u8fc7\u7a0b\u4e2d\u7684\u95ee\u9898\u662f\u7531\u4e8e\u6ca1\u6709\u4ed4\u7ec6\u9075\u5faa\u6307\u793a\u9020\u6210\u7684\u3002\u4ece\u6700\u65b0\u7684\u5feb\u7167\u6784\u5efa -current \u5076\u5c14\u4f1a\u51fa\u73b0\u771f\u6b63\u7684\u95ee\u9898\uff0c\u4f46\u662f\u6784\u5efa -release \u6216 -stable \u65f6\u7684\u5931\u8d25\u51e0\u4e4e\u603b\u662f\u7528\u6237\u64cd\u4f5c\u5931\u8bef\u3002 \u5927\u591a\u6570\u95ee\u9898\u901a\u5e38\u662f\u4ee5\u4e0b\u60c5\u51b5\u4e4b\u4e00\uff1a \u65e0\u6cd5\u4ece \u5408\u9002\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 \u542f\u52a8\u3002 \u68c0\u67e5 \u6811\u7684\u9519\u8bef\u5206\u652f\u3002 \u5728\u6784\u5efa -current \u4e4b\u524d\u5fd8\u8bb0\u9605\u8bfb following -current \u3002 \u5728\u6784\u5efa\u548c\u5b89\u88c5\u65b0\u5185\u6838\u540e\u8df3\u8fc7\u91cd\u542f\u6b65\u9aa4\u3002","title":"\u7f16\u8bd1\u65f6\u7684\u5e38\u89c1\u95ee\u9898"},{"location":"openbsd-faq/faq5/#\u6211\u5fd8\u4e86\u5728-make-build-\u4e4b\u524d-make-obj","text":"\u901a\u8fc7\u5728\u6267\u884c make obj \u4e4b\u524d\u6267\u884c make build \uff0c\u4f60\u6700\u7ec8\u4f1a\u5f97\u5230\u5206\u6563\u5728 /usr/src \u76ee\u5f55\u4e2d\u7684\u76ee\u6807\u6587\u4ef6\u3002\u8fd9\u662f\u4e00\u4ef6\u574f\u4e8b\u3002\u5982\u679c\u4f60\u5e0c\u671b\u907f\u514d\u518d\u6b21\u91cd\u65b0\u83b7\u53d6\u6574\u4e2a src \u6811\uff0c\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u4ee5\u4e0b\u64cd\u4f5c\u6765\u6e05\u9664 obj \u6587\u4ef6\uff1a $ cd /usr/src $ find . -type l -name obj -delete $ make cleandir $ rm -rf /usr/obj/* $ make obj","title":"\u6211\u5fd8\u4e86\u5728 make build \u4e4b\u524d make obj"},{"location":"openbsd-faq/faq5/#\u6784\u5efa\u56e0\u4e3a-signal-11-\u9519\u8bef\u800c\u505c\u6b62","text":"\u4ece\u6e90\u4ee3\u7801\u6784\u5efa OpenBSD \u548c\u5176\u4ed6\u7a0b\u5e8f\u662f\u4e00\u9879\u5bf9\u786c\u4ef6\u8981\u6c42\u8f83\u9ad8\u7684\u4efb\u52a1\uff0c\u9700\u8981\u5927\u91cf\u4f7f\u7528 CPU\u3001\u78c1\u76d8\u548c\u5185\u5b58\u3002Signal 11 \u6545\u969c\u901a\u5e38\u662f\u7531\u786c\u4ef6\u95ee\u9898\u5f15\u8d77\u7684\u3002 \u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u6700\u597d\u4fee\u7406\u6216\u66f4\u6362\u5f15\u8d77\u6545\u969c\u7684\u7ec4\u4ef6\uff0c\u56e0\u4e3a\u95ee\u9898\u5c06\u6765\u53ef\u80fd\u4f1a\u4ee5\u5176\u4ed6\u65b9\u5f0f\u51fa\u73b0\u3002 \u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Sig11 \u5e38\u89c1\u95ee\u9898\u89e3\u7b54 \u3002","title":"\u6784\u5efa\u56e0\u4e3a \u201cSignal 11\u201d \u9519\u8bef\u800c\u505c\u6b62"},{"location":"openbsd-faq/faq5/#\u5176\u4ed6\u95ee\u9898\u548c\u63d0\u793a","text":"","title":"\u5176\u4ed6\u95ee\u9898\u548c\u63d0\u793a"},{"location":"openbsd-faq/faq5/#\u5c06\u4f60\u7684\u7528\u6237\u6dfb\u52a0\u5230-wobj-\u7ec4","text":"\u5982\u679c\u4f60\u6253\u7b97\u5728\u6e90\u4ee3\u7801\u6811\u4e2d\u7f16\u8bd1\u5355\u4e2a\u7a0b\u5e8f\u2014\u2014\u4f8b\u5982\uff0c\u8fdb\u884c\u5f00\u53d1\u2014\u2014\u4f60\u9700\u8981\u5c06\u4f60\u7684\u7528\u6237\u6dfb\u52a0\u5230 wobj \u7ec4\u3002\u8fd9\u5c06\u5141\u8bb8\u4f60\u5728 /usr/obj \u8bfb\u5199\u6587\u4ef6\u3002","title":"\u5c06\u4f60\u7684\u7528\u6237\u6dfb\u52a0\u5230 wobj \u7ec4"},{"location":"openbsd-faq/faq5/#\u7ed9\u6587\u4ef6\u6253\u6807\u7b7e","text":"\u4f5c\u4e3a\u5f00\u53d1\u4eba\u5458\u7684\u7f16\u8f91\u5668\uff0c mg(1) \u548c vi(1) \u5185\u7f6e\u4e86\u5bf9 ctags(1) \u6587\u4ef6\u7684\u652f\u6301\uff0c\u5141\u8bb8\u4f60\u5feb\u901f\u6d4f\u89c8\u6e90\u4ee3\u7801\u6811\u3002 \u5728\u5927\u591a\u6570\u7a0b\u5e8f\u6216\u5e93\u6e90\u76ee\u5f55\u4e2d\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c\u4e0b\u5217\u6307\u4ee4\u6765\u521b\u5efa ./tags \u6587\u4ef6\uff1a $ make tags \u5728\u6784\u5efa\u548c\u5b89\u88c5 libc \u65f6\uff0c\u8fd8\u4f1a\u521b\u5efa\u4e00\u4e2a /var/db/libc.tags \u6587\u4ef6\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a\u67b6\u6784\u7684\u5185\u6838\u6807\u7b7e\uff08kernel tags\uff09\u4f4d\u4e8e /sys/arch/$(machine)/ \u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 /sys/kern \u4e2d\u7684 make \u6807\u8bb0\u521b\u5efa\u8fd9\u4e9b\u6587\u4ef6\u3002\u4f60\u53ef\u80fd\u5e0c\u671b\u4ee5 root \u8eab\u4efd\u8fd0\u884c make links \u4ee5\u5728\u6bcf\u4e2a\u76ee\u5f55\u548c /var/db/ \u4e2d\u653e\u7f6e\u6307\u5411\u67b6\u6784\u5185\u6838\u6807\u8bb0\u6587\u4ef6\u7684\u7b26\u53f7\u94fe\u63a5\u3002","title":"\u7ed9\u6587\u4ef6\u6253\u6807\u7b7e"},{"location":"openbsd-faq/faq5/#\u5982\u4f55\u8df3\u8fc7\u6784\u5efa\u6811\u7684\u67d0\u4e9b\u90e8\u5206","text":"\u4f7f\u7528 mk.conf(5) \u7684 SKIPDIR \u9009\u9879\u3002","title":"\u5982\u4f55\u8df3\u8fc7\u6784\u5efa\u6811\u7684\u67d0\u4e9b\u90e8\u5206\uff1f"},{"location":"openbsd-faq/faq5/#\u6211\u53ef\u4ee5\u4f7f\u7528\u4ea4\u53c9\u7f16\u8bd1\u5417","text":"OpenBSD \u7cfb\u7edf\u4e2d\u5305\u542b\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\uff0c\u4f9b\u5f00\u53d1\u4eba\u5458\u4f7f\u7528\u4ee5\u521b\u5efa\u65b0\u5e73\u53f0\u3002\u4f46\u662f\uff0c\u5b83\u4eec\u4e0d\u662f\u4e3a\u4e86\u4e00\u822c\u7528\u9014\u800c\u7ef4\u62a4\u7684\u3002 \u5f53\u5f00\u53d1\u4eba\u5458\u63d0\u51fa\u5bf9\u65b0\u5e73\u53f0\u7684\u652f\u6301\u65f6\uff0c\u7b2c\u4e00\u4e2a\u91cd\u5927\u6d4b\u8bd5\u4e4b\u4e00\u5c31\u662f\u539f\u751f\u6784\u5efa\uff08native-build\uff09\u3002\u4ece\u6e90\u4ee3\u7801\u6784\u5efa\u7cfb\u7edf\u4f1a\u7ed9\u64cd\u4f5c\u7cfb\u7edf\u548c\u673a\u5668\u5e26\u6765\u76f8\u5f53\u5927\u7684\u8d1f\u8f7d\uff0c\u5e76\u4e14\u53ef\u4ee5\u5f88\u597d\u5730\u6d4b\u8bd5\u7cfb\u7edf\u7684\u5b9e\u9645\u5de5\u4f5c\u60c5\u51b5\u3002\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0cOpenBSD \u5728\u6784\u5efa\u6240\u4f7f\u7528\u7684\u5e73\u53f0\u4e0a\u6267\u884c\u6240\u6709\u6784\u5efa\u8fc7\u7a0b\u3002","title":"\u6211\u53ef\u4ee5\u4f7f\u7528\u4ea4\u53c9\u7f16\u8bd1\u5417\uff1f"},{"location":"openbsd-faq/faq5/#\u5b9a\u5236\u5316\u5185\u6838","text":"\u81ea\u5b9a\u4e49\u5185\u6838\u7684\u4e09\u79cd\u65b9\u5f0f\uff1a \u4f7f\u7528 boot_config(8) \u4e34\u65f6\u542f\u52a8\u65f6\u914d\u7f6e \u4f7f\u7528 config(8) \u6c38\u4e45\u4fee\u6539\u5df2\u7f16\u8bd1\u7684\u5185\u6838 \u7f16\u8bd1\u81ea\u5b9a\u4e49\u5185\u6838","title":"\u5b9a\u5236\u5316\u5185\u6838"},{"location":"openbsd-faq/faq5/#boot-time-\u914d\u7f6e","text":"OpenBSD \u7684\u5f15\u5bfc\u65f6\uff08boot-time\uff09\u5185\u6838\u914d\u7f6e boot_config(8) \u5141\u8bb8\u7ba1\u7406\u5458\u4fee\u6539\u67d0\u4e9b\u5185\u6838\u8bbe\u7f6e\uff0c\u4f8b\u5982\u542f\u7528\u6216\u7981\u7528\u5bf9\u5404\u79cd\u8bbe\u5907\u7684\u652f\u6301\uff0c\u800c\u65e0\u9700\u91cd\u65b0\u7f16\u8bd1\u5185\u6838\u672c\u8eab\u3002 \u8981\u8fdb\u5165\u7528\u6237\u5185\u6838\u914d\u7f6e\uff08User Kernel Config, UKC\uff09\uff0c\u8bf7\u5728\u542f\u52a8\u65f6\u4f7f\u7528 -c \u9009\u9879\uff1a Using drive 0, partition 3. Loading...... probing: pc0 com0 com1 mem[638K 1918M a20=on] disk: hd0+ hd1+ >> OpenBSD/amd64 BOOT 3.33 boot> boot hd0a:/bsd -c \u8fd9\u6837\u505a\u4f1a\u5f39\u51fa\u4e00\u4e2a UKC \u63d0\u793a\u3002 \u952e\u5165 help \u4ee5\u83b7\u53d6\u53ef\u7528\u547d\u4ee4\u7684\u5217\u8868\u3002 \u4f7f\u7528 boot_config(8) \u4ec5\u63d0\u4f9b\u4e34\u65f6\u66f4\u6539\uff0c\u8fd9\u610f\u5473\u7740\u6bcf\u6b21\u91cd\u65b0\u542f\u52a8\u65f6\u90fd\u5fc5\u987b\u91cd\u590d\u8be5\u8fc7\u7a0b\u3002\u4e0b\u4e00\u8282\u5c06\u89e3\u91ca\u5982\u4f55\u4f7f\u66f4\u6539\u6c38\u4e45\u5316\u3002","title":"Boot-Time \u914d\u7f6e"},{"location":"openbsd-faq/faq5/#\u4f7f\u7528-config8-\u66f4\u6539\u5185\u6838\u9009\u9879","text":"\u4f7f\u7528 -e \u6807\u5fd7\u8c03\u7528 config(8) \u5141\u8bb8\u60a8\u5728\u6b63\u5728\u8fd0\u884c\u7684\u7cfb\u7edf\u4e0a\u8fdb\u5165 UKC\u3002\u6240\u505a\u7684\u4efb\u4f55\u66f4\u6539\u5c06\u5728\u4e0b\u6b21\u91cd\u65b0\u542f\u52a8\u65f6\u751f\u6548\u3002 -u \u6807\u5fd7\u6d4b\u8bd5\u4ee5\u67e5\u770b\u5728\u5f15\u5bfc\u671f\u95f4\u662f\u5426\u5bf9\u6b63\u5728\u8fd0\u884c\u7684\u5185\u6838\u8fdb\u884c\u4e86\u4efb\u4f55\u66f4\u6539\uff0c\u8fd9\u610f\u5473\u7740\u60a8\u5728\u5f15\u5bfc\u7cfb\u7edf\u65f6\u4f7f\u7528\u4e86 boot -c \u8fdb\u5165 UKC\u3002 \u4e3a\u907f\u514d\u7528\u635f\u574f\u7684\u5185\u6838\u8986\u76d6\u6b63\u5728\u5de5\u4f5c\u7684\u5185\u6838\u7684\u98ce\u9669\uff0c\u8bf7\u8003\u8651\u4f7f\u7528 -o \u6807\u5fd7\u5c06\u66f4\u6539\u5199\u5165\u5355\u72ec\u7684\u5185\u6838\u6587\u4ef6\u4ee5\u8fdb\u884c\u6d4b\u8bd5\uff1a # config -e -o /bsd.new /bsd \u8fd9\u4f1a\u5c06\u60a8\u7684\u66f4\u6539\u5199\u5165 /bsd.new \u6587\u4ef6\u3002 \u4e00\u65e6\u4f60\u4ece\u8fd9\u4e2a\u65b0\u5185\u6838\u542f\u52a8\u5e76\u9a8c\u8bc1\u4e00\u5207\u6b63\u5e38\uff0c\u5c31\u53ef\u4ee5\u5c06\u6240\u9700\u7684\u66f4\u6539\u653e\u7f6e\u5728 bsd.re-config(5) \u4e2d\u4f7f\u5176\u6c38\u4e45\u5316\u3002\u8fd9\u6837\u505a\u6d88\u9664\u4e86\u5728\u542f\u52a8\u65f6\u9009\u62e9\u5185\u6838\u7684\u9700\u8981\uff0c\u5e76\u786e\u4fdd\u4f11\u7720\u548c\u5185\u6838\u91cd\u65b0\u94fe\u63a5\uff08kernel relinking\uff09\u7ee7\u7eed\u5de5\u4f5c\u3002","title":"\u4f7f\u7528 config(8) \u66f4\u6539\u5185\u6838\u9009\u9879"},{"location":"openbsd-faq/faq5/#\u6784\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5185\u6838","text":"OpenBSD \u56e2\u961f\u4ec5\u652f\u6301 GENERIC \u548c GENERIC.MP \u5185\u6838\u3002 GENERIC \u5185\u6838\u914d\u7f6e\u662f /sys/arch/$(machine)/conf/GENERIC \u548c /sys/conf/GENERIC \u4e2d\u9009\u9879\u7684\u7ec4\u5408\u3002\u62a5\u544a\u81ea\u5b9a\u4e49\u5185\u6838\u7684\u95ee\u9898\u51e0\u4e4e\u603b\u662f\u4f1a\u5bfc\u81f4\u4f60\u88ab\u544a\u77e5\u5c1d\u8bd5\u4f7f\u7528 GENERIC \u5185\u6838\u91cd\u73b0\u8be5\u95ee\u9898\u3002 \u9996\u5148\u9605\u8bfb config(8) \u548c options(4) \u624b\u518c\u9875\u3002\u4ee5\u4e0b\u6b65\u9aa4\u662f\u7f16\u8bd1\u81ea\u5b9a\u4e49\u5185\u6838\u7684\u4e00\u90e8\u5206\uff1a $ cd /sys/arch/$(machine)/conf $ cp GENERIC CUSTOM $ vi CUSTOM # make your changes $ config CUSTOM $ cd ../compile/CUSTOM $ make","title":"\u6784\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5185\u6838"},{"location":"openbsd-faq/faq5/#\u51c6\u5907-diff","text":"\u5982\u679c\u4f60\u5bf9\u8981\u4e0e\u5f00\u53d1\u4eba\u5458\u5171\u4eab\u7684\u6e90\u4ee3\u7801\u8fdb\u884c\u4e86\u66f4\u6539\uff0c\u8bf7\u9075\u5faa\u4ee5\u4e0b\u7ea6\u5b9a\uff1a \u5c06\u4f60\u7684 Diff\uff08\u66f4\u6539\uff09\u57fa\u4e8e -current \u8fdb\u884c\u603b\u7ed3\u3002 \u4f7f\u7528 cvs diff -uNp \u751f\u6210 diff\u3002 \u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u5c06\u4f60\u7684 diff \u4ee5\u7535\u5b50\u90ae\u4ef6\u7684\u5f62\u5f0f\u53d1\u9001\u5230 \u6280\u672f \u90ae\u4ef6\u5217\u8868 \u3002\u8bf7\u786e\u4fdd\u4f60\u7684\u7535\u5b50\u90ae\u4ef6\u5ba2\u6237\u7aef\u4e0d\u4f1a\u5c06\u7a7a\u767d\u5904\u6253\u4e71\u3002 \u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f OpenBSD \u6e90\u4ee3\u7801\u6811\u7684 git \u955c\u50cf\uff0c\u8bf7\u8bbe\u7f6e\uff1a $ git config diff.noprefix true \u5728\u4f60\u7684\u5b58\u50a8\u5e93\u4e2d\u5e76\u50cf\u8fd9\u6837\u751f\u6210\u4f60\u7684 diff\uff1a $ git diff --relative .","title":"\u51c6\u5907 Diff"},{"location":"openbsd-faq/faq6/","text":"OpenBSD FAQ - \u7f51\u7edc \u00b6 \u7f51\u7edc\u914d\u7f6e \u00b6 OpenBSD \u4e2d\u7684\u7f51\u7edc\u914d\u7f6e\u662f\u901a\u8fc7 /etc \u4e2d\u7684\u6587\u672c\u6587\u4ef6\u5b8c\u6210\u7684\u3002\u8fd9\u4e9b\u8bbe\u7f6e\u901a\u5e38\u6700\u521d\u662f\u5728 \u7cfb\u7edf\u5b89\u88c5\u8fc7\u7a0b \u4e2d\u914d\u7f6e\u7684\u3002 \u8bc6\u522b\u548c\u8bbe\u7f6e\u7f51\u7edc\u63a5\u53e3 \u00b6 \u63a5\u53e3\u7531\u7f51\u5361\u7684\u7c7b\u578b\u547d\u540d\uff0c\u800c\u4e0d\u662f\u8fde\u63a5\u7684\u7c7b\u578b\u3002\u4f8b\u5982\uff0c\u4ee5\u4e0b\u662f Intel \u5feb\u901f\u4ee5\u592a\u7f51\u7f51\u5361\u7684 dmesg(8) \u7247\u6bb5\uff1a fxp0 at pci0 dev 10 function 0 \"Intel 82557\" rev 0x0c: irq 5, address 00:02:b3:2b:10:f7 inphy0 at fxp0 phy 1: i82555 10/100 media interface, rev. 4 \u6b64\u8bbe\u5907\u4f7f\u7528 fxp(4) \u9a71\u52a8\u7a0b\u5e8f\u5e76\u5728\u6b64\u5904\u5206\u914d\u7f16\u53f7 0\u3002 ifconfig(8) \u5b9e\u7528\u7a0b\u5e8f\u5c06\u663e\u793a\u7cfb\u7edf\u4e0a\u5df2\u8bc6\u522b\u7684\u7f51\u7edc\u63a5\u53e3\u3002 $ ifconfig lo0: flags=8049<UP,LOOPBACK,RUNNING,MULTICAST> mtu 33200 index 3 priority 0 llprio 3 groups: lo inet 127.0.0.1 netmask 0xff000000 fxp0: flags=8843<UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST> mtu 1500 lladdr 00:02:b3:2b:10:f7 index 1 priority 0 llprio 3 media: Ethernet autoselect (100baseTX full-duplex) status: active inet 10.0.0.38 netmask 0xffffff00 broadcast 10.0.0.255 enc0: flags=0<> index 2 priority 0 llprio 3 groups: enc status: active pflog0: flags=141<UP,RUNNING,PROMISC> mtu 33200 index 4 priority 0 llprio 3 groups: pflog \u6b64\u793a\u4f8b\u4ec5\u663e\u793a\u4e00\u4e2a\u7269\u7406\u4ee5\u592a\u7f51\u63a5\u53e3\uff1a fxp0 \u3002\u8be5\u63a5\u53e3\u914d\u7f6e\u4e86 IP\uff0c\u56e0\u6b64\u503c\u4e3a inet 10.0.0.38 netmask 0xffffff00 broadcast 10.0.0.255 \u3002\u5b83\u4e5f\u914d\u7f6e\u4e86 UP \u548c RUNNING \u6807\u5fd7\u3002 netstart(8) \u811a\u672c\u5728\u5f15\u5bfc\u65f6\u4f7f\u7528 hostname.if(5) \u6587\u4ef6\u914d\u7f6e\u7f51\u7edc\u63a5\u53e3\uff0c\u5176\u4e2d \u201cif\u201d \u88ab\u6bcf\u4e2a\u63a5\u53e3\u7684\u5168\u540d\u66ff\u6362\u3002\u4e0a\u9762\u7684\u793a\u4f8b\u5c06\u4f7f\u7528\u6587\u4ef6 /etc/hostname.fxp0 \uff0c\u5176\u4e2d\u5305\u542b\u4ee5\u4e0b\u9009\u9879\uff1a inet 10.0.0.38 255.255.255.0 \u8fd9\u4e2a hostname.fxp0 \u6587\u4ef6\u4e5f\u6709\u4e00\u4e2a\u4ea4\u4e92\u5f0f\u7b49\u6548\u6587\u4ef6\uff1a # ifconfig fxp0 10.0.0.38 255.255.255.0 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u542f\u7528\u5176\u4ed6\u51e0\u4e2a\u63a5\u53e3\u3002\u8fd9\u4e9b\u865a\u62df\u63a5\u53e3\u7528\u4e8e\u63d0\u4f9b\u5404\u79cd\u529f\u80fd\u3002\u4ee5\u4e0b\u624b\u518c\u9875\u63cf\u8ff0\u4e86\u5b83\u4eec\uff1a enc(4) - \u5c01\u88c5\u63a5\u53e3 lo(4) - \u73af\u56de\u63a5\u53e3 pflog(4) - \u6570\u636e\u5305\u8fc7\u6ee4\u5668\u65e5\u5fd7\u8bb0\u5f55\u63a5\u53e3 \u4f60\u53ef\u4ee5\u4f7f\u7528 ifconfig(8) \u7684 create \u5b50\u547d\u4ee4\u6dfb\u52a0\u5176\u4ed6\u865a\u62df\u63a5\u53e3\u3002 \u9ed8\u8ba4\u4e3b\u673a\u540d\u548c\u7f51\u5173 \u00b6 /etc/myname \u548c /etc/mygate \u6587\u4ef6\u7531 netstart(8) \u811a\u672c\u8bfb\u53d6\u3002\u8fd9\u4e24\u4e2a\u6587\u4ef6\u7531\u4e00\u884c\u5b57\u7ec4\u6210\uff0c\u5206\u522b\u6307\u5b9a\u7cfb\u7edf\u7684\u5b8c\u5168\u9650\u5b9a\u57df\u540d\uff08fully qualified domain name\uff09\u548c\u7f51\u5173\u4e3b\u673a\u7684\u5730\u5740\u3002 /etc/mygate \u6587\u4ef6\u4e0d\u9700\u8981\u5728\u6240\u6709\u7cfb\u7edf\u4e0a\u90fd\u5b58\u5728\u3002\u6709\u5173\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 myname(5) \u3002 DNS \u89e3\u6790 \u00b6 DNS \u89e3\u6790\u7531 resolv.conf(5) \u6587\u4ef6\u63a7\u5236\uff0c\u8be5\u6587\u4ef6\u7531 resolvd(8) \u7ba1\u7406\u3002 $ cat /etc/resolv.conf search example.com nameserver 125.2.3.4 nameserver 125.2.3.5 lookup file bind \u8fd9\u91cc\u9ed8\u8ba4\u7684\u57df\u540d\u662f example.com \uff0c\u4f1a\u6709\u4e24\u4e2a\u540d\u79f0\u670d\u52a1\u5668\uff08 125.2.3.4 \u548c 125.2.3.5 \uff09\uff0c\u5e76\u4e14\u5728\u540d\u79f0\u670d\u52a1\u5668\u4e4b\u524d\u4f1a\u67e5\u8be2 hosts(5) \u6587\u4ef6\u3002 \u6fc0\u6d3b\u66f4\u6539 \u00b6 \u4ece\u8fd9\u91cc\uff0c\u91cd\u65b0\u542f\u52a8\u6216\u8fd0\u884c netstart(8) \u811a\u672c\uff1a # sh /etc/netstart \u5982\u679c\u5df2\u7ecf\u914d\u7f6e\u4e86\u63a5\u53e3\uff0c\u5219\u5728\u8fd0\u884c\u6b64\u811a\u672c\u65f6\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e00\u4e9b\u8b66\u544a\u3002\u4f7f\u7528 ifconfig(8) \u786e\u4fdd\u63a5\u53e3\u8bbe\u7f6e\u6b63\u786e\u3002 \u5c3d\u7ba1\u53ef\u4ee5\u5728\u6b63\u5728\u8fd0\u884c\u4e2d\u7684 OpenBSD \u7cfb\u7edf\u4e0a\u5b8c\u5168\u91cd\u65b0\u914d\u7f6e\u7f51\u7edc\uff0c\u4f46\u5efa\u8bae\u5728\u4efb\u4f55\u91cd\u5927\u66f4\u6539\u540e\u91cd\u65b0\u542f\u52a8\u3002 \u68c0\u67e5\u8def\u7531 \u00b6 \u53ef\u4ee5\u901a\u8fc7 netstat(1) \u6216 route(8) \u68c0\u67e5\u8def\u7531\u3002 $ netstat -rn Routing tables Internet: Destination Gateway Flags Refs Use Mtu Prio Iface default 10.0.0.1 UGS 4 16 - 12 fxp0 224/4 127.0.0.1 URS 0 0 32768 8 lo0 127/8 127.0.0.1 UGRS 0 0 32768 8 lo0 127.0.0.1 127.0.0.1 UH 2 15 32768 1 lo0 10.0.0/24 link#1 UC 1 4 - 4 fxp0 10.0.0.1 aa:0:4:0:81:d UHL 1 11 - 1 fxp0 10.0.0.38 127.0.0.1 UGHS 0 0 - 1 lo0 $ route show Routing tables Internet: Destination Gateway Flags Refs Use Mtu Prio Iface default 10.0.0.1 UGS 4 16 - 12 fxp0 base-address.mcast localhost URS 0 0 32768 8 lo0 loopback localhost UGRS 0 0 32768 8 lo0 localhost localhost UH 2 15 32768 1 lo0 10.0.0/24 link#1 UC 1 4 - 4 fxp0 10.0.0.1 aa:0:4:0:81:d UHL 1 11 - 1 fxp0 10.0.0.38 localhost UGHS 0 0 - 1 lo0 \u5728\u63a5\u53e3\u4e0a\u8bbe\u7f6e\u522b\u540d \u00b6 \u8981\u5728\u63a5\u53e3\u4e0a\u8bbe\u7f6e IP \u522b\u540d\uff0c\u53ea\u9700\u7f16\u8f91\u5176 hostname.if(5) \u6587\u4ef6\u3002 \u5728\u672c\u4f8b\u4e2d\uff0c\u4e24\u4e2a\u522b\u540d\u88ab\u6dfb\u52a0\u5230\u63a5\u53e3 dc0 \uff0c\u5b83\u88ab\u914d\u7f6e\u4e3a 192.168.0.2 \uff0c\u7f51\u7edc\u63a9\u7801\u4e3a 255.255.255.0 \u3002 $ cat /etc/hostname.dc0 inet 192.168.0.2 255.255.255.0 inet alias 192.168.0.3 255.255.255.255 inet alias 192.168.0.4 255.255.255.255 \u521b\u5efa\u6b64\u6587\u4ef6\u540e\uff0c \u8fd0\u884c netstart \u6216\u91cd\u65b0\u542f\u52a8\u3002\u8981\u67e5\u770b\u6240\u6709\u522b\u540d\uff0c\u8bf7\u4f7f\u7528 ifconfig -A \u3002 \u52a8\u6001\u4e3b\u673a\u8bbe\u7f6e\u534f\u8bae \u00b6 \u52a8\u6001\u4e3b\u673a\u8bbe\u7f6e\u534f\u8bae (DHCP) \u662f\u4e00\u79cd\u81ea\u52a8\u914d\u7f6e\u7f51\u7edc\u63a5\u53e3\u7684\u65b9\u6cd5\u3002OpenBSD \u53ef\u4ee5\u662f\u914d\u7f6e\u5176\u4ed6\u673a\u5668\u7684 DHCP \u670d\u52a1\u5668\uff0c\u4e5f\u53ef\u4ee5\u662f\u7531 DHCP \u670d\u52a1\u5668\u914d\u7f6e\u7684 DHCP \u5ba2\u6237\u7aef\u3002 DHCP \u5ba2\u6237\u7aef \u00b6 \u8981\u4f7f\u7528 dhcpleased(8) \uff0c\u8bf7\u7f16\u8f91\u7f51\u7edc\u63a5\u53e3\u7684 hostname.if(5) \u6587\u4ef6\u3002 \u65e0\u7ebf\u7f51\u7edc \u90e8\u5206\u89e3\u91ca\u4e86\u5982\u4f55\u8bbe\u7f6e\u65e0\u7ebf\u63a5\u53e3\u3002\u5bf9\u4e8e\u4ee5\u592a\u7f51\u63a5\u53e3\uff0c\u4e00\u884c\u5c31\u8db3\u591f\u4e86\uff1a inet autoconf OpenBSD \u5c06\u5728\u542f\u52a8\u65f6\u4ece DHCP \u670d\u52a1\u5668\u6536\u96c6\u5176 IP \u5730\u5740\u3001\u9ed8\u8ba4\u7f51\u5173\u548c DNS \u670d\u52a1\u5668\u3002\u5176\u4ed6\u9009\u9879\u53ef\u4ee5\u5728 dhcpleased.conf(5) \u4e2d\u6307\u5b9a\u3002 \u8981\u4ece\u547d\u4ee4\u884c\u901a\u8fc7 DHCP \u83b7\u53d6 IP\uff0c\u8bf7\u8fd0\u884c\uff1a # ifconfig xl0 inet autoconf \u5c06 xl0 \u66ff\u6362\u4e3a\u63a5\u53e3\u540d\u79f0\u3002 DHCP \u670d\u52a1\u5668 \u00b6 \u8981\u4f7f\u7528 OpenBSD \u4f5c\u4e3a DHCP \u670d\u52a1\u5668\uff0c\u8bf7\u5728\u542f\u52a8\u65f6\u542f\u7528 dhcpd(8) \u5b88\u62a4\u8fdb\u7a0b\uff1a # rcctl enable dhcpd \u4e0b\u6b21\u542f\u52a8\u65f6\uff0cdhcpd \u5c06\u8fd0\u884c\u5e76\u9644\u52a0\u5230 dhcpd.conf(5) \u4e2d\u5177\u6709\u6709\u6548\u914d\u7f6e\u7684\u6240\u6709 NIC\u3002\u53ef\u4ee5\u901a\u8fc7\u660e\u786e\u5730\u547d\u540d\u6765\u6307\u5b9a\u5355\u4e2a\u63a5\u53e3\uff1a # rcctl set dhcpd flags em1 em2 /etc/dhcpd.conf \u793a\u4f8b\u6587\u4ef6\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a # Home subnet 192.168.1.0 netmask 255.255.255.0 { option domain-name-servers 192.168.1.2; option routers 192.168.1.1; range 192.168.1.3 192.168.1.50; } # Guests subnet 172.16.0.0 netmask 255.255.255.0 { option domain-name-servers 1.2.3.4, 5.6.7.8; option routers 172.16.0.1; range 172.16.0.2 172.16.0.254; } \u672c\u793a\u4f8b\u4e2d\u6709\u4e24\u4e2a\u5b50\u7f51\uff1a\u5bb6\u5ead\u7f51\u7edc\u548c\u8bbf\u5ba2\u7f51\u7edc\u3002\u5ba2\u6237\u7aef\u5c06\u81ea\u52a8\u83b7\u5f97\u4e00\u4e2a IP \u5730\u5740\uff0c\u5e76\u6307\u5411\u914d\u7f6e\u6587\u4ef6\u5404\u81ea\u90e8\u5206\u4e2d\u6307\u5b9a\u7684\u7f51\u5173\u548c DNS \u670d\u52a1\u5668\u3002\u6709\u5173\u66f4\u591a\u9009\u9879\uff0c\u8bf7\u53c2\u9605 dhcp-options(5) \u3002 PXE \u542f\u52a8\uff08i386\uff0camd64\uff09 \u00b6 \u9884\u5f15\u5bfc\u6267\u884c\u73af\u5883 (PXE) \u662f\u4ec5\u4f7f\u7528\u7f51\u7edc\u5f15\u5bfc\u7cfb\u7edf\u7684\u6807\u51c6\u65b9\u6cd5\u3002\u5ba2\u6237\u7aef\u7684\u5177\u6709 PXE \u529f\u80fd\u7684 NIC \u5728 \u542f\u52a8\u8fc7\u7a0b \u5f00\u59cb\u65f6\u5e7f\u64ad DHCP \u8bf7\u6c42\uff0c\u5e76\u4e14\u4e0d\u4ec5\u63a5\u6536\u57fa\u672c\u7684 IP/DNS \u4fe1\u606f\uff0c\u8fd8\u63d0\u4f9b\u4e00\u4e2a\u7528\u4e8e\u542f\u52a8\u7684\u6587\u4ef6\u3002\u5728 OpenBSD \u4e0a\uff0c\u8fd9\u4e2a\u6587\u4ef6\u88ab\u79f0\u4e3a pxeboot(8) \uff0c\u901a\u5e38\u7531 tftpd(8) \u63d0\u4f9b\u670d\u52a1\u3002 \u65e0\u7ebf\u7f51\u7edc \u00b6 OpenBSD \u652f\u6301 \u591a\u79cd\u65e0\u7ebf\u82af\u7247\u7ec4 \u3002\u66f4\u591a\u652f\u6301\u7684\u8bbe\u5907\u53ef\u4ee5\u5728 usb(4) \u548c pci(4) \u4e2d\u627e\u5230\u3002\u9a71\u52a8\u7a0b\u5e8f\u624b\u518c\u9875\u4e2d\u63cf\u8ff0\u4e86\u5b83\u4eec\u652f\u6301\u7684\u786e\u5207\u8303\u56f4\u3002 \u4ee5\u4e0b\u7f51\u5361\u652f\u6301\u57fa\u4e8e\u4e3b\u673a\u7684\u63a5\u5165\u70b9 (Host-based Access Point, HostAP) \u6a21\u5f0f\uff0c\u5141\u8bb8\u5b83\u4eec\u7528\u4f5c \u65e0\u7ebf\u63a5\u5165\u70b9 \uff1a acx(4) - TI ACX100/ACX111 ath(4) - Atheros 802.11a/b/g athn(4) - Atheros 802.11/a/g/n devices bwfm(4) - Broadcom \u548c Cypress IEEE 802.11a/ac/b/g/n \u65e0\u7ebf\u7f51\u7edc\u8bbe\u5907 pgt(4) - Conexant/Intersil Prism GT Full-MAC 802.11a/b/g ral(4) \u548c ural(4) - Ralink Technology RT25x0 802.11a/b/g rtw(4) - Realtek 8180 802.11b rum(4) - Ralink Technology RT2501USB wi(4) - Prism2/2.5/3 ifconfig(8) \u7684 media \u5b50\u547d\u4ee4\u53ef\u7528\u4e8e\u663e\u793a\u7f51\u7edc\u63a5\u53e3\u7684\u5a92\u4f53\u529f\u80fd\u3002\u5bf9\u4e8e\u65e0\u7ebf\u8bbe\u5907\uff0c\u5b83\u663e\u793a\u652f\u6301\u7684 802.11a/b/g/n \u5a92\u4f53\u6a21\u5f0f\u548c\u652f\u6301\u7684\u64cd\u4f5c\u6a21\u5f0f\uff08 hostap \u3001 ibss \u3001 monitor \uff09\u3002 \u4f8b\u5982\uff0c\u8981\u67e5\u770b\u63a5\u53e3 ath0 \u7684\u5a92\u4f53\u529f\u80fd\uff0c\u8bf7\u8fd0\u884c\uff1a $ ifconfig ath0 media \u4e3a\u4e86\u4f7f\u7528\u67d0\u4e9b\u65e0\u7ebf\u7f51\u5361\uff0c\u53ef\u80fd\u9700\u8981\u901a\u8fc7 fw_update(1) \u83b7\u53d6\u7684\u56fa\u4ef6\u6587\u4ef6\u3002\u4e00\u4e9b\u5236\u9020\u5546\u62d2\u7edd\u5141\u8bb8 \u81ea\u7531 \u5206\u53d1\u4ed6\u4eec\u7684\u56fa\u4ef6\uff0c\u56e0\u6b64\u5b83\u4e0d\u80fd\u5305\u542b\u5728 OpenBSD \u4e2d\u3002 \u53e6\u4e00\u4e2a\u9700\u8981\u8003\u8651\u7684\u9009\u62e9\uff1a\u4e3a\u57fa\u4e8e OpenBSD \u7684\u9632\u706b\u5899\u4f7f\u7528\u4f20\u7edf\u7684 NIC \u548c\u5916\u90e8\u6865\u63a5\u65e0\u7ebf\u63a5\u5165\u70b9\u3002 \u914d\u7f6e\u65e0\u7ebf\u9002\u914d\u5668 \u00b6 \u57fa\u4e8e\u53d7\u652f\u6301\u82af\u7247\u7684\u9002\u914d\u5668\u53ef\u4ee5\u50cf\u4efb\u4f55\u5176\u4ed6\u7f51\u7edc\u63a5\u53e3\u4e00\u6837\u4f7f\u7528\u3002\u8981\u5c06 OpenBSD \u7cfb\u7edf\u8fde\u63a5\u5230\u73b0\u6709\u7684\u65e0\u7ebf\u7f51\u7edc\uff0c\u8bf7\u4f7f\u7528 ifconfig(8) \u5b9e\u7528\u7a0b\u5e8f\u3002 \u65e0\u7ebf\u5ba2\u6237\u7aef\u7684 hostname.if(5) \u6587\u4ef6\u793a\u4f8b\u53ef\u80fd\u662f\uff1a nwid puffyuberalles wpakey passwordhere inet autoconf \u6216\u8005\uff0c\u5bf9\u4e8e\u591a\u4e2a\u63a5\u5165\u70b9\uff1a join home-net wpakey passwordhere join work-net wpakey passwordhere join cafe-wifi inet autoconf \u8bf7\u6ce8\u610f inet autoconf \u5e94\u8be5\u653e\u7f6e\u5728\u5176\u4ed6\u914d\u7f6e\u884c\u4e4b\u540e\uff0c\u56e0\u4e3a\u5728\u914d\u7f6e\u5b8c\u6210\u4e4b\u524d\u7f51\u7edc\u9002\u914d\u5668\u5c06\u65e0\u6cd5\u53d1\u9001 DHCP \u8bf7\u6c42\u3002 \u4e2d\u7ee7\u65e0\u7ebf\u9002\u914d\u5668 \u00b6 \u4e2d\u7ee7\uff08Trunks\uff09\u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u7f51\u7edc\u63a5\u53e3\u7ec4\u6210\u7684\u865a\u62df\u63a5\u53e3\u3002\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u7684\u793a\u4f8b\u5c06\u662f\u5e26\u6709\u6709\u7ebf bge0 \u63a5\u53e3\u548c\u65e0\u7ebf iwn0 \u63a5\u53e3\u7684\u7b14\u8bb0\u672c\u7535\u8111\u3002\u6211\u4eec\u5c06\u4f7f\u7528\u5b83\u4eec\u6784\u5efa\u4e00\u4e2a trunk(4) \u63a5\u53e3\u3002\u6709\u7ebf\u548c\u65e0\u7ebf\u63a5\u53e3\u5fc5\u987b\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4e8c\u5c42\u7f51\u7edc\u3002 \u4e3a\u6b64\uff0c\u6211\u4eec\u9996\u5148\u6fc0\u6d3b\u4e24\u4e2a\u7269\u7406\u7aef\u53e3\uff0c\u7136\u540e\u5c06\u5b83\u4eec\u5206\u914d\u7ed9 trunk0 \u3002 # echo up > /etc/hostname.bge0 \u7136\u800c\uff0c\u65e0\u7ebf\u63a5\u53e3\u9700\u8981\u66f4\u591a\u7684\u914d\u7f6e\u3002\u5b83\u9700\u8981\u8fde\u63a5\u5230\u6211\u4eec\u53d7 WPA \u4fdd\u62a4\u7684\u65e0\u7ebf\u7f51\u7edc\uff1a $ cat /etc/hostname.iwn0 nwid puffynet wpakey mysecretkey up \u73b0\u5728\uff0c\u6211\u4eec\u7684\u4e2d\u7ee7\u63a5\u53e3\u5b9a\u4e49\u5982\u4e0b\uff1a $ cat /etc/hostname.trunk0 trunkproto failover trunkport bge0 trunkport iwn0 inet autoconf \u4e2d\u7ee7\u8bbe\u7f6e\u4e3a\u6545\u969c\u8f6c\u79fb\u6a21\u5f0f\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u4efb\u4e00\u63a5\u53e3\u3002\u5982\u679c\u4e24\u8005\u90fd\u53ef\u7528\uff0c\u5b83\u5c06\u9996\u9009 bge0 \u7aef\u53e3\uff0c\u56e0\u4e3a\u8fd9\u662f\u6dfb\u52a0\u5230\u4e2d\u7ee7\u8bbe\u5907\u7684\u7b2c\u4e00\u4e2a\u7aef\u53e3\u3002 \u642d\u5efa\u7f51\u6865 \u00b6 bridge(4) \u662f\u4e24\u4e2a\u6216\u591a\u4e2a\u72ec\u7acb\u7f51\u7edc\u4e4b\u95f4\u7684\u94fe\u63a5\u3002\u4e0e\u8def\u7531\u5668\u4e0d\u540c\uff0c\u6570\u636e\u5305\u900f\u660e\u5730\u901a\u8fc7\u7f51\u6865\uff1a\u4e24\u4e2a\u7f51\u6bb5\u5bf9\u4efb\u4e00\u4fa7\u7684\u8282\u70b9\u90fd\u663e\u793a\u4e3a\u4e00\u4e2a\u3002\u7f51\u6865\u53ea\u4f1a\u8f6c\u53d1\u5fc5\u987b\u4ece\u4e00\u4e2a\u7f51\u6bb5\u4f20\u9012\u5230\u53e6\u4e00\u4e2a\u7f51\u6bb5\u7684\u6570\u636e\u5305\uff0c\u56e0\u6b64\u7f51\u6865\u4e2d\u7684\u63a5\u53e3\u53ef\u80fd\u6709\u4e5f\u53ef\u80fd\u6ca1\u6709\u81ea\u5df1\u7684 IP \u5730\u5740\u3002\u5982\u679c\u662f\u8fd9\u6837\uff0c\u8be5\u63a5\u53e3\u5b9e\u9645\u4e0a\u5177\u6709\u4e24\u79cd\u64cd\u4f5c\u6a21\u5f0f\uff1a\u4e00\u79cd\u4f5c\u4e3a\u7f51\u6865\u7684\u4e00\u90e8\u5206\uff0c\u53e6\u4e00\u79cd\u4f5c\u4e3a\u72ec\u7acb\u7684 NIC\u3002\u5982\u679c\u4e24\u4e2a\u63a5\u53e3\u90fd\u6ca1\u6709 IP \u5730\u5740\uff0c\u5219\u7f51\u6865\u5c06\u4f20\u9012\u7f51\u7edc\u6570\u636e\uff0c\u4f46\u65e0\u6cd5\u8fdb\u884c\u5916\u90e8\u7ef4\u62a4\uff08\u8fd9\u53ef\u4ee5\u662f\u4e00\u4e2a\u529f\u80fd\uff09\u3002 \u4f5c\u4e3a DHCP \u670d\u52a1\u5668\u7684\u7f51\u6865 \u00b6 \u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u7cfb\u7edf\uff0c\u5b83\u6709\u56db\u4e2a vr(4) \u63a5\u53e3\uff0c vr0 \u5230 vr3 \u3002 \u6211\u4eec\u5e0c\u671b\u5c06 vr1 \u3001 vr2 \u548c vr3 \u6865\u63a5\u5728\u4e00\u8d77\uff0c\u800c\u5c06 vr0 \u7559\u7ed9\u4e0a\u884c\u94fe\u8def\u3002 \u6211\u4eec\u8fd8\u5e0c\u671b\u901a\u8fc7\u6865\u63a5\u63a5\u53e3\u4e0a\u7684 DHCP \u63d0\u4f9b IP \u5730\u5740\u3002\u4f5c\u4e3a DHCP \u670d\u52a1\u5668\u548c\u4e0a\u884c\u94fe\u8def\u8def\u7531\u5668\uff0c\u8be5\u76d2\u5b50\u9700\u8981\u5728\u6865\u63a5\u7f51\u7edc\u4e0a\u6709\u4e00\u4e2a IP \u5730\u5740\u3002 \u65e0\u6cd5\u5c06 IP \u5730\u5740\u76f4\u63a5\u5206\u914d\u7ed9\u7f51\u6865\u63a5\u53e3\u3002IP \u5730\u5740\u5e94\u8be5\u6dfb\u52a0\u5230\u6210\u5458\u63a5\u53e3\u4e4b\u4e00\uff0c\u4f46\u6211\u4eec\u4e0d\u80fd\u4f7f\u7528\u7269\u7406\u63a5\u53e3\uff0c\u56e0\u4e3a\u94fe\u63a5\u53ef\u80fd\u4f1a\u5173\u95ed\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5730\u5740\u5c06\u65e0\u6cd5\u8bbf\u95ee\u3002 \u5e78\u8fd0\u7684\u662f\uff0c\u6709\u53ef\u7528\u4e8e\u6b64\u76ee\u7684\u7684 vether(4) \uff08\u865a\u62df\u4ee5\u592a\u7f51\uff09\u9a71\u52a8\u7a0b\u5e8f\u3002\u6211\u4eec\u5c06\u5b83\u6dfb\u52a0\u5230\u7f51\u6865\uff0c\u4e3a\u5176\u5206\u914d IP \u5730\u5740\u5e76\u4f7f dhcpd(8) \u5728\u90a3\u91cc\u76d1\u542c\u3002 \u672c\u8282\u4e0d\u518d\u5bf9 DHCP \u670d\u52a1\u5668\u914d\u7f6e \u8fdb\u884c\u63cf\u8ff0\uff0c\u4f46\u8fd9\u91cc\u4f7f\u7528\u7684\u5bfb\u5740\u65b9\u6848\u662f\u76f8\u540c\u7684\u3002 \u8fd9\u4e5f\u5c06\u662f\u6865\u63a5\u7f51\u7edc\u7684\u4e0a\u884c\u94fe\u8def\u8def\u7531\u5668\uff0c\u56e0\u6b64\u6211\u4eec\u5c06\u4f7f\u7528 IP \u5730\u5740 192.168.1.1 \u6765\u5339\u914d DHCP \u670d\u52a1\u5668\u914d\u7f6e\u3002 \u6211\u4eec\u4e0d\u4f1a\u5728\u8fd9\u91cc\u4ecb\u7ecd\u4e0a\u884c\u94fe\u8def\u3001\u8def\u7531\u6216\u9632\u706b\u5899\u914d\u7f6e\u3002 \u9996\u5148\uff0c\u5c06 vr1 \u3001 vr2 \u548c vr3 \u63a5\u53e3\u6807\u8bb0\u4e3a up \uff1a # echo up > /etc/hostname.vr1 # echo up > /etc/hostname.vr2 # echo up > /etc/hostname.vr3 \u7136\u540e\u521b\u5efa vether0 \u914d\u7f6e\uff1a # echo 'inet 192.168.1.1 255.255.255.0 192.168.1.255' > /etc/hostname.vether0 \u914d\u7f6e\u6865\u63a5\u63a5\u53e3\u4ee5\u5305\u542b\u4e0a\u8ff0\u6240\u6709\u63a5\u53e3\uff1a $ cat /etc/hostname.bridge0 add vether0 add vr1 add vr2 add vr3 up \u6700\u540e\u6211\u4eec\u8ba9 DHCP \u5b88\u62a4\u8fdb\u7a0b\u76d1\u542c vether0 \u63a5\u53e3\uff1a # rcctl set dhcpd flags vether0 \u6700\u540e\uff0c\u91cd\u65b0\u542f\u52a8\u7cfb\u7edf\u3002 \u5728\u7f51\u6865\u4e0a\u8fc7\u6ee4 \u00b6 PF \u53ef\u7528\u4e8e\u9650\u5236\u901a\u8fc7\u7f51\u6865\u7684\u6d41\u91cf\u3002\u8bf7\u8bb0\u4f4f\uff0c\u6839\u636e\u7f51\u6865\u7684\u6027\u8d28\uff0c\u76f8\u540c\u7684\u6570\u636e\u6d41\u7ecf\u4e24\u4e2a\u63a5\u53e3\uff0c\u56e0\u6b64\u53ea\u9700\u8981\u5728\u4e00\u4e2a\u63a5\u53e3\u4e0a\u8fdb\u884c\u8fc7\u6ee4\u3002 \u6865\u63a5\u6280\u5de7 \u00b6 \u901a\u8fc7\u4f7f\u7528 ifconfig(8) \u6216 hostname.bridge0 \u4e2d\u7684 blocknonip \u9009\u9879\uff0c\u53ef\u4ee5\u9632\u6b62\u975e IP \u6d41\u91cf\uff08\u4f8b\u5982 IPX \u6216 NETBEUI\uff09\u7ed5\u8fc7\u8fc7\u6ee4\u5668\u3002 \u8fd9\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u53ef\u80fd\u5f88\u91cd\u8981\uff0c\u4f46\u8bf7\u6ce8\u610f\u7f51\u6865\u9002\u7528\u4e8e\u6240\u6709\u7c7b\u578b\u7684\u6d41\u91cf\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f IP\u3002 \u6865\u63a5\u8981\u6c42 NIC \u5904\u4e8e\u6df7\u6742\u6a21\u5f0f\uff08promiscuous mode\uff09\u3002\u5b83\u4eec\u4fa6\u542c \u6240\u6709 \u7f51\u7edc\u6d41\u91cf\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u9488\u5bf9\u63a5\u53e3\u7684\u6d41\u91cf\u3002\u8fd9\u4f1a\u7ed9\u5904\u7406\u5668\u548c\u603b\u7ebf\u5e26\u6765\u6bd4\u9884\u671f\u66f4\u9ad8\u7684\u8d1f\u8f7d\u3002 \u7b49\u4ef7\u591a\u8def\u5f84\u8def\u7531 \u00b6 \u7b49\u4ef7\u591a\u8def\u5f84\u8def\u7531\uff08Equal-Cost Multipath Routing\uff09\u662f\u6307\u5728\u540c\u4e00\u7f51\u7edc\u7684\u8def\u7531\u8868\u4e2d\u6709\u591a\u6761\u8def\u7531\uff0c\u5982\u9ed8\u8ba4\u8def\u7531 0.0.0.0/0\u3002 \u5f53\u5185\u6838\u8fdb\u884c\u8def\u7531\u67e5\u627e\u4ee5\u786e\u5b9a\u5c06\u53d1\u5f80\u8be5\u7f51\u7edc\u7684\u6570\u636e\u5305\u53d1\u9001\u5230\u4f55\u5904\u65f6\uff0c\u5b83\u53ef\u4ee5\u4ece\u4efb\u4f55\u7b49\u4ef7\u8def\u7531\u4e2d\u8fdb\u884c\u9009\u62e9\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u591a\u8def\u5f84\u8def\u7531\u7528\u4e8e\u63d0\u4f9b\u5197\u4f59\u4e0a\u884c\u94fe\u8def\u8fde\u63a5\uff0c\u4f8b\u5982\u5230 Internet \u7684\u5197\u4f59\u8fde\u63a5\u3002 route(8) \u547d\u4ee4\u7528\u4e8e\u5728\u8def\u7531\u8868\u4e2d\u6dfb\u52a0/\u66f4\u6539/\u5220\u9664\u8def\u7531\u3002\u6dfb\u52a0\u591a\u8def\u5f84\u8def\u7531\u65f6\u4f7f\u7528 -mpath \u53c2\u6570\u3002 # route add -mpath default 10.130.128.1 # route add -mpath default 10.132.0.1 \u9a8c\u8bc1\u8def\u7531\uff1a # netstat -rnf inet | grep default default 10.130.128.1 UGS 2 134 - fxp1 default 10.132.0.1 UGS 0 172 - fxp2 \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a\u9ed8\u8ba4\u8def\u7531\u6307\u5411 10.130.128.1 \uff0c\u53ef\u4ee5\u901a\u8fc7 fxp1 \u63a5\u53e3\u8bbf\u95ee\uff0c\u53e6\u4e00\u4e2a\u6307\u5411 10.132.0.1 \uff0c\u53ef\u4ee5\u901a\u8fc7 fxp2 \u8bbf\u95ee\u3002 \u7531\u4e8e mygate(5) \u6587\u4ef6\u5c1a\u4e0d\u652f\u6301\u591a\u8def\u5f84\u9ed8\u8ba4\u8def\u7531\uff0c\u56e0\u6b64\u5e94\u5c06\u4e0a\u8ff0\u547d\u4ee4\u6dfb\u52a0\u5230 fxp1 \u548c fxp2 \u63a5\u53e3\u7684 hostname.if(5) \u6587\u4ef6\u7684\u5e95\u90e8\u3002\u7136\u540e\u5e94\u8be5\u5220\u9664 /etc/mygate \u6587\u4ef6\u3002 $ tail -1 /etc/hostname.fxp1 !route add -mpath default 10.130.128.1 $ tail -1 /etc/hostname.fxp2 !route add -mpath default 10.132.0.1 \u6700\u540e\uff0c\u4e0d\u8981\u5fd8\u8bb0\u901a\u8fc7\u542f\u7528\u9002\u5f53\u7684 sysctl(8) \u53d8\u91cf\u6765\u6fc0\u6d3b\u591a\u8def\u5f84\u8def\u7531\u7684\u4f7f\u7528\u3002 # sysctl net.inet.ip.multipath=1 # sysctl net.inet6.ip6.multipath=1 \u8bf7\u52a1\u5fc5\u7f16\u8f91 sysctl.conf(5) \u4ee5\u4f7f\u66f4\u6539\u6c38\u4e45\u751f\u6548\u3002 \u73b0\u5728\u5c1d\u8bd5\u8ddf\u8e2a\u8def\u7531\u5230\u4e0d\u540c\u7684\u76ee\u7684\u5730\u3002\u5185\u6838\u5c06\u8d1f\u8f7d\u5e73\u8861\u6bcf\u6761\u591a\u8def\u5f84\u8def\u7531\u4e0a\u7684\u6d41\u91cf\u3002 # traceroute -n 154.11.0.4 traceroute to 154.11.0.4 (154.11.0.4), 64 hops max, 60 byte packets 1 10.130.128.1 19.337 ms 18.194 ms 18.849 ms 2 154.11.95.170 17.642 ms 18.176 ms 17.731 ms 3 154.11.5.33 110.486 ms 19.478 ms 100.949 ms 4 154.11.0.4 32.772 ms 33.534 ms 32.835 ms # traceroute -n 154.11.0.5 traceroute to 154.11.0.5 (154.11.0.5), 64 hops max, 60 byte packets 1 10.132.0.1 14.175 ms 14.503 ms 14.58 ms 2 154.11.95.38 13.664 ms 13.962 ms 13.445 ms 3 208.38.16.151 13.964 ms 13.347 ms 13.788 ms 4 154.11.0.5 30.177 ms 30.95 ms 30.593 ms \u6709\u5173\u5982\u4f55\u9009\u62e9\u8def\u7531\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 RFC2992 \uff0c\u201c\u7b49\u4ef7\u591a\u8def\u5f84\u7b97\u6cd5\u7684\u5206\u6790\uff08Analysis of an Equal-Cost Multi-Path Algorithm\uff09\u201d\u3002 \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u591a\u8def\u5f84\u8def\u7531\u4f7f\u7528\u7684\u63a5\u53e3\u51fa\u73b0\u6545\u969c\uff08\u5373\u4e22\u5931\u8f7d\u6ce2\uff08carrier\uff09\uff09\uff0c\u5185\u6838\u4ecd\u5c06\u5c1d\u8bd5\u4f7f\u7528\u6307\u5411\u8be5\u63a5\u53e3\u7684\u8def\u7531\u8f6c\u53d1\u6570\u636e\u5305\u3002\u8fd9\u79cd\u6d41\u91cf\u5f53\u7136\u4f1a\u88ab\u9ed1\u6d1e\u5316\uff0c\u6700\u7ec8\u65e0\u5904\u53ef\u53bb\u3002\u5f3a\u70c8\u5efa\u8bae\u4f7f\u7528 ifstated(8) \u6765\u68c0\u67e5\u4e0d\u53ef\u7528\u7684\u63a5\u53e3\u5e76\u76f8\u5e94\u5730\u8c03\u6574\u8def\u7531\u8868\u3002 \u4f7f\u7528 NFS \u00b6 \u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf NFS \u7528\u4e8e\u901a\u8fc7\u7f51\u7edc\u5171\u4eab\u6587\u4ef6\u7cfb\u7edf\u3002 \u672c\u8282\u5c06\u4ecb\u7ecd\u7b80\u5355 NFS \u8bbe\u7f6e\u7684\u6b65\u9aa4\u3002\u8be5\u793a\u4f8b\u8be6\u7ec6\u4ecb\u7ecd\u4e86 LAN \u4e0a\u7684\u670d\u52a1\u5668\uff0c\u5ba2\u6237\u7aef\u8bbf\u95ee LAN \u4e0a\u7684 NFS\u3002\u8be5\u8282\u4e0d\u5305\u62ec\u4fdd\u62a4 NFS\u3002 \u642d\u5efa\u4e00\u4e2a NFS \u670d\u52a1\u5668 \u00b6 \u9996\u5148\uff0c\u5728\u670d\u52a1\u5668\u4e0a\u542f\u7528 portmap(8) \u3001 mountd(8) \u548c nfsd(8) \u670d\u52a1\uff1a # rcctl enable portmap mountd nfsd \u7136\u540e\u914d\u7f6e\u5c06\u53ef\u7528\u7684\u6587\u4ef6\u7cfb\u7edf\u5217\u8868\u3002 \u5728\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u6709\u4e00\u4e2a IP \u5730\u5740\u4e3a 10.0.0.1 \u7684\u670d\u52a1\u5668\u3002\u6b64\u670d\u52a1\u5668\u5c06\u4ec5\u5411\u5176\u81ea\u5df1\u5b50\u7f51\u5185\u7684\u5ba2\u6237\u7aef\u63d0\u4f9b NFS \u670d\u52a1\u3002\u8fd9\u662f\u5728\u4e0b\u5217 exports(5) \u6587\u4ef6\u4e2d\u914d\u7f6e\u7684\uff1a $ cat /etc/exports /docs -alldirs -ro -network=10.0.0 -mask=255.255.255.0 \u672c\u5730\u6587\u4ef6\u7cfb\u7edf /docs \u5c06\u901a\u8fc7 NFS \u63d0\u4f9b\u3002 -alldirs \u9009\u9879\u6307\u5b9a\u5ba2\u6237\u7aef\u5c06\u80fd\u591f\u5728 /docs \u4ee5\u53ca /docs \u672c\u8eab\u4e0b\u7684\u4efb\u4f55\u4f4d\u7f6e\u6302\u8f7d\u3002 -ro \u9009\u9879\u6307\u5b9a\u5ba2\u6237\u7aef\u5c06\u4ec5\u88ab\u6388\u4e88\u53ea\u8bfb\u8bbf\u95ee\u6743\u9650\u3002\u6700\u540e\u4e24\u4e2a\u53c2\u6570\u6307\u5b9a\u53ea\u6709\u4f7f\u7528 255.255.255.0 \u7f51\u7edc\u63a9\u7801\u7684 10.0.0.0 \u7f51\u7edc\u4e2d\u7684\u5ba2\u6237\u7aef\u624d\u80fd\u88ab\u6388\u6743\u6302\u8f7d\u6b64\u6587\u4ef6\u7cfb\u7edf\u3002 \u73b0\u5728\u542f\u52a8\u670d\u52a1\u5668\u76f8\u5173\u7684\u670d\u52a1\uff1a # rcctl start portmap mountd nfsd \u5982\u679c\u5728 NFS \u5df2\u7ecf\u8fd0\u884c\u65f6\u5bf9 /etc/exports \u8fdb\u884c\u4e86\u66f4\u6539\uff0c\u5219\u5fc5\u987b\u91cd\u542f mountd \u91cd\u65b0\u8f7d\u5165\u914d\u7f6e\u3002 # rcctl reload mountd \u6302\u8f7d NFS \u6587\u4ef6\u7cfb\u7edf \u00b6 NFS \u6587\u4ef6\u7cfb\u7edf\u5e94\u8be5\u901a\u8fc7 mount(8) \uff0c\u6216\u8005\u66f4\u5177\u4f53\u5730\u8bf4\uff0c mount_nfs(8) \u6302\u8f7d\u3002 \u8981\u5c06\u4e3b\u673a 10.0.0.1 \u4e0a\u7684 /docs \u6587\u4ef6\u7cfb\u7edf\u6302\u8f7d\u5230\u672c\u5730\u6587\u4ef6\u7cfb\u7edf /mnt \uff0c\u8bf7\u8fd0\u884c\uff1a # mount -t nfs 10.0.0.1:/docs /mnt \u8981\u5728\u5f15\u5bfc\u65f6\u6302\u8f7d\u8be5\u6587\u4ef6\u7cfb\u7edf\uff0c\u8bf7\u5728 fstab(5) \u4e2d\u6dfb\u52a0\u4e00\u884c\uff0c\u5982\u4e0b\u6240\u793a\uff1a # echo '10.0.0.1:/docs /mnt nfs ro,nodev,nosuid 0 0' >> /etc/fstab \u5728\u8fd9\u4e00\u884c\u7684\u672b\u5c3e\u4f7f\u7528 0 0 \u5f88\u91cd\u8981\uff0c\u8fd9\u6837\u8ba1\u7b97\u673a\u5c31\u4e0d\u4f1a\u5728\u542f\u52a8\u65f6\u5c1d\u8bd5 fsck(8) NFS \u6587\u4ef6\u7cfb\u7edf\u3002 \u5f53\u4ee5 root \u7528\u6237\u8bbf\u95ee NFS \u6302\u8f7d\u65f6\uff0c\u670d\u52a1\u5668\u4f1a\u81ea\u52a8\u5c06 root \u7684\u8bbf\u95ee\u6743\u9650\u6620\u5c04\u5230\u7528\u6237\u540d nobody \u548c\u7ec4 nobody \u3002\u5728\u8003\u8651\u6587\u4ef6\u6743\u9650\u65f6\u4e86\u89e3\u8fd9\u4e00\u70b9\u5f88\u91cd\u8981\u3002\u4f8b\u5982\uff0c\u83b7\u53d6\u5177\u6709\u4ee5\u4e0b\u6743\u9650\u7684\u6587\u4ef6\uff1a -rw------- 1 root wheel 0 Dec 31 03:00 _daily.B20143 \u5982\u679c\u6b64\u6587\u4ef6\u4f4d\u4e8e NFS \u5171\u4eab\u4e0a\u5e76\u4e14 root \u7528\u6237\u5c1d\u8bd5\u4ece NFS \u5ba2\u6237\u7aef\u8bbf\u95ee\u6b64\u6587\u4ef6\uff0c\u5219\u8bbf\u95ee\u5c06\u88ab\u62d2\u7edd\u3002 root \u6620\u5c04\u5230\u7684\u7528\u6237\u548c\u7ec4\u53ef\u4ee5\u901a\u8fc7 NFS \u670d\u52a1\u5668\u4e0a\u7684 exports(5) \u6587\u4ef6\u8fdb\u884c\u914d\u7f6e\u3002 \u68c0\u67e5 NFS \u4e0a\u7684\u7edf\u8ba1\u4fe1\u606f \u00b6 \u8981\u786e\u4fdd NFS \u6b63\u5e38\u8fd0\u884c\uff0c\u9700\u8981\u68c0\u67e5\u7684\u4e00\u4ef6\u4e8b\u662f\u6240\u6709\u5b88\u62a4\u7a0b\u5e8f\u90fd\u5df2\u6b63\u786e\u6ce8\u518c\u5230 RPC\u3002 \u4e3a\u6b64\uff0c\u8bf7\u4f7f\u7528 rpcinfo(8) \u3002 $ rpcinfo -p 10.0.0.1 program vers proto port 100000 2 tcp 111 portmapper 100000 2 udp 111 portmapper 100005 1 udp 633 mountd 100005 3 udp 633 mountd 100005 1 tcp 916 mountd 100005 3 tcp 916 mountd 100003 2 udp 2049 nfs 100003 3 udp 2049 nfs 100003 2 tcp 2049 nfs 100003 3 tcp 2049 nfs \u4e00\u4e9b\u5b9e\u7528\u7a0b\u5e8f\u5141\u8bb8\u7ba1\u7406\u5458\u67e5\u770b NFS \u53d1\u751f\u7684\u60c5\u51b5\uff0c\u4f8b\u5982 showmount(8) \u548c nfsstat(1) \u3002","title":"\u7f51\u7edc\u914d\u7f6e"},{"location":"openbsd-faq/faq6/#openbsd-faq---\u7f51\u7edc","text":"","title":"OpenBSD FAQ - \u7f51\u7edc"},{"location":"openbsd-faq/faq6/#\u7f51\u7edc\u914d\u7f6e","text":"OpenBSD \u4e2d\u7684\u7f51\u7edc\u914d\u7f6e\u662f\u901a\u8fc7 /etc \u4e2d\u7684\u6587\u672c\u6587\u4ef6\u5b8c\u6210\u7684\u3002\u8fd9\u4e9b\u8bbe\u7f6e\u901a\u5e38\u6700\u521d\u662f\u5728 \u7cfb\u7edf\u5b89\u88c5\u8fc7\u7a0b \u4e2d\u914d\u7f6e\u7684\u3002","title":"\u7f51\u7edc\u914d\u7f6e"},{"location":"openbsd-faq/faq6/#\u8bc6\u522b\u548c\u8bbe\u7f6e\u7f51\u7edc\u63a5\u53e3","text":"\u63a5\u53e3\u7531\u7f51\u5361\u7684\u7c7b\u578b\u547d\u540d\uff0c\u800c\u4e0d\u662f\u8fde\u63a5\u7684\u7c7b\u578b\u3002\u4f8b\u5982\uff0c\u4ee5\u4e0b\u662f Intel \u5feb\u901f\u4ee5\u592a\u7f51\u7f51\u5361\u7684 dmesg(8) \u7247\u6bb5\uff1a fxp0 at pci0 dev 10 function 0 \"Intel 82557\" rev 0x0c: irq 5, address 00:02:b3:2b:10:f7 inphy0 at fxp0 phy 1: i82555 10/100 media interface, rev. 4 \u6b64\u8bbe\u5907\u4f7f\u7528 fxp(4) \u9a71\u52a8\u7a0b\u5e8f\u5e76\u5728\u6b64\u5904\u5206\u914d\u7f16\u53f7 0\u3002 ifconfig(8) \u5b9e\u7528\u7a0b\u5e8f\u5c06\u663e\u793a\u7cfb\u7edf\u4e0a\u5df2\u8bc6\u522b\u7684\u7f51\u7edc\u63a5\u53e3\u3002 $ ifconfig lo0: flags=8049<UP,LOOPBACK,RUNNING,MULTICAST> mtu 33200 index 3 priority 0 llprio 3 groups: lo inet 127.0.0.1 netmask 0xff000000 fxp0: flags=8843<UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST> mtu 1500 lladdr 00:02:b3:2b:10:f7 index 1 priority 0 llprio 3 media: Ethernet autoselect (100baseTX full-duplex) status: active inet 10.0.0.38 netmask 0xffffff00 broadcast 10.0.0.255 enc0: flags=0<> index 2 priority 0 llprio 3 groups: enc status: active pflog0: flags=141<UP,RUNNING,PROMISC> mtu 33200 index 4 priority 0 llprio 3 groups: pflog \u6b64\u793a\u4f8b\u4ec5\u663e\u793a\u4e00\u4e2a\u7269\u7406\u4ee5\u592a\u7f51\u63a5\u53e3\uff1a fxp0 \u3002\u8be5\u63a5\u53e3\u914d\u7f6e\u4e86 IP\uff0c\u56e0\u6b64\u503c\u4e3a inet 10.0.0.38 netmask 0xffffff00 broadcast 10.0.0.255 \u3002\u5b83\u4e5f\u914d\u7f6e\u4e86 UP \u548c RUNNING \u6807\u5fd7\u3002 netstart(8) \u811a\u672c\u5728\u5f15\u5bfc\u65f6\u4f7f\u7528 hostname.if(5) \u6587\u4ef6\u914d\u7f6e\u7f51\u7edc\u63a5\u53e3\uff0c\u5176\u4e2d \u201cif\u201d \u88ab\u6bcf\u4e2a\u63a5\u53e3\u7684\u5168\u540d\u66ff\u6362\u3002\u4e0a\u9762\u7684\u793a\u4f8b\u5c06\u4f7f\u7528\u6587\u4ef6 /etc/hostname.fxp0 \uff0c\u5176\u4e2d\u5305\u542b\u4ee5\u4e0b\u9009\u9879\uff1a inet 10.0.0.38 255.255.255.0 \u8fd9\u4e2a hostname.fxp0 \u6587\u4ef6\u4e5f\u6709\u4e00\u4e2a\u4ea4\u4e92\u5f0f\u7b49\u6548\u6587\u4ef6\uff1a # ifconfig fxp0 10.0.0.38 255.255.255.0 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u542f\u7528\u5176\u4ed6\u51e0\u4e2a\u63a5\u53e3\u3002\u8fd9\u4e9b\u865a\u62df\u63a5\u53e3\u7528\u4e8e\u63d0\u4f9b\u5404\u79cd\u529f\u80fd\u3002\u4ee5\u4e0b\u624b\u518c\u9875\u63cf\u8ff0\u4e86\u5b83\u4eec\uff1a enc(4) - \u5c01\u88c5\u63a5\u53e3 lo(4) - \u73af\u56de\u63a5\u53e3 pflog(4) - \u6570\u636e\u5305\u8fc7\u6ee4\u5668\u65e5\u5fd7\u8bb0\u5f55\u63a5\u53e3 \u4f60\u53ef\u4ee5\u4f7f\u7528 ifconfig(8) \u7684 create \u5b50\u547d\u4ee4\u6dfb\u52a0\u5176\u4ed6\u865a\u62df\u63a5\u53e3\u3002","title":"\u8bc6\u522b\u548c\u8bbe\u7f6e\u7f51\u7edc\u63a5\u53e3"},{"location":"openbsd-faq/faq6/#\u9ed8\u8ba4\u4e3b\u673a\u540d\u548c\u7f51\u5173","text":"/etc/myname \u548c /etc/mygate \u6587\u4ef6\u7531 netstart(8) \u811a\u672c\u8bfb\u53d6\u3002\u8fd9\u4e24\u4e2a\u6587\u4ef6\u7531\u4e00\u884c\u5b57\u7ec4\u6210\uff0c\u5206\u522b\u6307\u5b9a\u7cfb\u7edf\u7684\u5b8c\u5168\u9650\u5b9a\u57df\u540d\uff08fully qualified domain name\uff09\u548c\u7f51\u5173\u4e3b\u673a\u7684\u5730\u5740\u3002 /etc/mygate \u6587\u4ef6\u4e0d\u9700\u8981\u5728\u6240\u6709\u7cfb\u7edf\u4e0a\u90fd\u5b58\u5728\u3002\u6709\u5173\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 myname(5) \u3002","title":"\u9ed8\u8ba4\u4e3b\u673a\u540d\u548c\u7f51\u5173"},{"location":"openbsd-faq/faq6/#dns-\u89e3\u6790","text":"DNS \u89e3\u6790\u7531 resolv.conf(5) \u6587\u4ef6\u63a7\u5236\uff0c\u8be5\u6587\u4ef6\u7531 resolvd(8) \u7ba1\u7406\u3002 $ cat /etc/resolv.conf search example.com nameserver 125.2.3.4 nameserver 125.2.3.5 lookup file bind \u8fd9\u91cc\u9ed8\u8ba4\u7684\u57df\u540d\u662f example.com \uff0c\u4f1a\u6709\u4e24\u4e2a\u540d\u79f0\u670d\u52a1\u5668\uff08 125.2.3.4 \u548c 125.2.3.5 \uff09\uff0c\u5e76\u4e14\u5728\u540d\u79f0\u670d\u52a1\u5668\u4e4b\u524d\u4f1a\u67e5\u8be2 hosts(5) \u6587\u4ef6\u3002","title":"DNS \u89e3\u6790"},{"location":"openbsd-faq/faq6/#\u6fc0\u6d3b\u66f4\u6539","text":"\u4ece\u8fd9\u91cc\uff0c\u91cd\u65b0\u542f\u52a8\u6216\u8fd0\u884c netstart(8) \u811a\u672c\uff1a # sh /etc/netstart \u5982\u679c\u5df2\u7ecf\u914d\u7f6e\u4e86\u63a5\u53e3\uff0c\u5219\u5728\u8fd0\u884c\u6b64\u811a\u672c\u65f6\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e00\u4e9b\u8b66\u544a\u3002\u4f7f\u7528 ifconfig(8) \u786e\u4fdd\u63a5\u53e3\u8bbe\u7f6e\u6b63\u786e\u3002 \u5c3d\u7ba1\u53ef\u4ee5\u5728\u6b63\u5728\u8fd0\u884c\u4e2d\u7684 OpenBSD \u7cfb\u7edf\u4e0a\u5b8c\u5168\u91cd\u65b0\u914d\u7f6e\u7f51\u7edc\uff0c\u4f46\u5efa\u8bae\u5728\u4efb\u4f55\u91cd\u5927\u66f4\u6539\u540e\u91cd\u65b0\u542f\u52a8\u3002","title":"\u6fc0\u6d3b\u66f4\u6539"},{"location":"openbsd-faq/faq6/#\u68c0\u67e5\u8def\u7531","text":"\u53ef\u4ee5\u901a\u8fc7 netstat(1) \u6216 route(8) \u68c0\u67e5\u8def\u7531\u3002 $ netstat -rn Routing tables Internet: Destination Gateway Flags Refs Use Mtu Prio Iface default 10.0.0.1 UGS 4 16 - 12 fxp0 224/4 127.0.0.1 URS 0 0 32768 8 lo0 127/8 127.0.0.1 UGRS 0 0 32768 8 lo0 127.0.0.1 127.0.0.1 UH 2 15 32768 1 lo0 10.0.0/24 link#1 UC 1 4 - 4 fxp0 10.0.0.1 aa:0:4:0:81:d UHL 1 11 - 1 fxp0 10.0.0.38 127.0.0.1 UGHS 0 0 - 1 lo0 $ route show Routing tables Internet: Destination Gateway Flags Refs Use Mtu Prio Iface default 10.0.0.1 UGS 4 16 - 12 fxp0 base-address.mcast localhost URS 0 0 32768 8 lo0 loopback localhost UGRS 0 0 32768 8 lo0 localhost localhost UH 2 15 32768 1 lo0 10.0.0/24 link#1 UC 1 4 - 4 fxp0 10.0.0.1 aa:0:4:0:81:d UHL 1 11 - 1 fxp0 10.0.0.38 localhost UGHS 0 0 - 1 lo0","title":"\u68c0\u67e5\u8def\u7531"},{"location":"openbsd-faq/faq6/#\u5728\u63a5\u53e3\u4e0a\u8bbe\u7f6e\u522b\u540d","text":"\u8981\u5728\u63a5\u53e3\u4e0a\u8bbe\u7f6e IP \u522b\u540d\uff0c\u53ea\u9700\u7f16\u8f91\u5176 hostname.if(5) \u6587\u4ef6\u3002 \u5728\u672c\u4f8b\u4e2d\uff0c\u4e24\u4e2a\u522b\u540d\u88ab\u6dfb\u52a0\u5230\u63a5\u53e3 dc0 \uff0c\u5b83\u88ab\u914d\u7f6e\u4e3a 192.168.0.2 \uff0c\u7f51\u7edc\u63a9\u7801\u4e3a 255.255.255.0 \u3002 $ cat /etc/hostname.dc0 inet 192.168.0.2 255.255.255.0 inet alias 192.168.0.3 255.255.255.255 inet alias 192.168.0.4 255.255.255.255 \u521b\u5efa\u6b64\u6587\u4ef6\u540e\uff0c \u8fd0\u884c netstart \u6216\u91cd\u65b0\u542f\u52a8\u3002\u8981\u67e5\u770b\u6240\u6709\u522b\u540d\uff0c\u8bf7\u4f7f\u7528 ifconfig -A \u3002","title":"\u5728\u63a5\u53e3\u4e0a\u8bbe\u7f6e\u522b\u540d"},{"location":"openbsd-faq/faq6/#\u52a8\u6001\u4e3b\u673a\u8bbe\u7f6e\u534f\u8bae","text":"\u52a8\u6001\u4e3b\u673a\u8bbe\u7f6e\u534f\u8bae (DHCP) \u662f\u4e00\u79cd\u81ea\u52a8\u914d\u7f6e\u7f51\u7edc\u63a5\u53e3\u7684\u65b9\u6cd5\u3002OpenBSD \u53ef\u4ee5\u662f\u914d\u7f6e\u5176\u4ed6\u673a\u5668\u7684 DHCP \u670d\u52a1\u5668\uff0c\u4e5f\u53ef\u4ee5\u662f\u7531 DHCP \u670d\u52a1\u5668\u914d\u7f6e\u7684 DHCP \u5ba2\u6237\u7aef\u3002","title":"\u52a8\u6001\u4e3b\u673a\u8bbe\u7f6e\u534f\u8bae"},{"location":"openbsd-faq/faq6/#dhcp-\u5ba2\u6237\u7aef","text":"\u8981\u4f7f\u7528 dhcpleased(8) \uff0c\u8bf7\u7f16\u8f91\u7f51\u7edc\u63a5\u53e3\u7684 hostname.if(5) \u6587\u4ef6\u3002 \u65e0\u7ebf\u7f51\u7edc \u90e8\u5206\u89e3\u91ca\u4e86\u5982\u4f55\u8bbe\u7f6e\u65e0\u7ebf\u63a5\u53e3\u3002\u5bf9\u4e8e\u4ee5\u592a\u7f51\u63a5\u53e3\uff0c\u4e00\u884c\u5c31\u8db3\u591f\u4e86\uff1a inet autoconf OpenBSD \u5c06\u5728\u542f\u52a8\u65f6\u4ece DHCP \u670d\u52a1\u5668\u6536\u96c6\u5176 IP \u5730\u5740\u3001\u9ed8\u8ba4\u7f51\u5173\u548c DNS \u670d\u52a1\u5668\u3002\u5176\u4ed6\u9009\u9879\u53ef\u4ee5\u5728 dhcpleased.conf(5) \u4e2d\u6307\u5b9a\u3002 \u8981\u4ece\u547d\u4ee4\u884c\u901a\u8fc7 DHCP \u83b7\u53d6 IP\uff0c\u8bf7\u8fd0\u884c\uff1a # ifconfig xl0 inet autoconf \u5c06 xl0 \u66ff\u6362\u4e3a\u63a5\u53e3\u540d\u79f0\u3002","title":"DHCP \u5ba2\u6237\u7aef"},{"location":"openbsd-faq/faq6/#dhcp-\u670d\u52a1\u5668","text":"\u8981\u4f7f\u7528 OpenBSD \u4f5c\u4e3a DHCP \u670d\u52a1\u5668\uff0c\u8bf7\u5728\u542f\u52a8\u65f6\u542f\u7528 dhcpd(8) \u5b88\u62a4\u8fdb\u7a0b\uff1a # rcctl enable dhcpd \u4e0b\u6b21\u542f\u52a8\u65f6\uff0cdhcpd \u5c06\u8fd0\u884c\u5e76\u9644\u52a0\u5230 dhcpd.conf(5) \u4e2d\u5177\u6709\u6709\u6548\u914d\u7f6e\u7684\u6240\u6709 NIC\u3002\u53ef\u4ee5\u901a\u8fc7\u660e\u786e\u5730\u547d\u540d\u6765\u6307\u5b9a\u5355\u4e2a\u63a5\u53e3\uff1a # rcctl set dhcpd flags em1 em2 /etc/dhcpd.conf \u793a\u4f8b\u6587\u4ef6\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a # Home subnet 192.168.1.0 netmask 255.255.255.0 { option domain-name-servers 192.168.1.2; option routers 192.168.1.1; range 192.168.1.3 192.168.1.50; } # Guests subnet 172.16.0.0 netmask 255.255.255.0 { option domain-name-servers 1.2.3.4, 5.6.7.8; option routers 172.16.0.1; range 172.16.0.2 172.16.0.254; } \u672c\u793a\u4f8b\u4e2d\u6709\u4e24\u4e2a\u5b50\u7f51\uff1a\u5bb6\u5ead\u7f51\u7edc\u548c\u8bbf\u5ba2\u7f51\u7edc\u3002\u5ba2\u6237\u7aef\u5c06\u81ea\u52a8\u83b7\u5f97\u4e00\u4e2a IP \u5730\u5740\uff0c\u5e76\u6307\u5411\u914d\u7f6e\u6587\u4ef6\u5404\u81ea\u90e8\u5206\u4e2d\u6307\u5b9a\u7684\u7f51\u5173\u548c DNS \u670d\u52a1\u5668\u3002\u6709\u5173\u66f4\u591a\u9009\u9879\uff0c\u8bf7\u53c2\u9605 dhcp-options(5) \u3002","title":"DHCP \u670d\u52a1\u5668"},{"location":"openbsd-faq/faq6/#pxe-\u542f\u52a8i386amd64","text":"\u9884\u5f15\u5bfc\u6267\u884c\u73af\u5883 (PXE) \u662f\u4ec5\u4f7f\u7528\u7f51\u7edc\u5f15\u5bfc\u7cfb\u7edf\u7684\u6807\u51c6\u65b9\u6cd5\u3002\u5ba2\u6237\u7aef\u7684\u5177\u6709 PXE \u529f\u80fd\u7684 NIC \u5728 \u542f\u52a8\u8fc7\u7a0b \u5f00\u59cb\u65f6\u5e7f\u64ad DHCP \u8bf7\u6c42\uff0c\u5e76\u4e14\u4e0d\u4ec5\u63a5\u6536\u57fa\u672c\u7684 IP/DNS \u4fe1\u606f\uff0c\u8fd8\u63d0\u4f9b\u4e00\u4e2a\u7528\u4e8e\u542f\u52a8\u7684\u6587\u4ef6\u3002\u5728 OpenBSD \u4e0a\uff0c\u8fd9\u4e2a\u6587\u4ef6\u88ab\u79f0\u4e3a pxeboot(8) \uff0c\u901a\u5e38\u7531 tftpd(8) \u63d0\u4f9b\u670d\u52a1\u3002","title":"PXE \u542f\u52a8\uff08i386\uff0camd64\uff09"},{"location":"openbsd-faq/faq6/#\u65e0\u7ebf\u7f51\u7edc","text":"OpenBSD \u652f\u6301 \u591a\u79cd\u65e0\u7ebf\u82af\u7247\u7ec4 \u3002\u66f4\u591a\u652f\u6301\u7684\u8bbe\u5907\u53ef\u4ee5\u5728 usb(4) \u548c pci(4) \u4e2d\u627e\u5230\u3002\u9a71\u52a8\u7a0b\u5e8f\u624b\u518c\u9875\u4e2d\u63cf\u8ff0\u4e86\u5b83\u4eec\u652f\u6301\u7684\u786e\u5207\u8303\u56f4\u3002 \u4ee5\u4e0b\u7f51\u5361\u652f\u6301\u57fa\u4e8e\u4e3b\u673a\u7684\u63a5\u5165\u70b9 (Host-based Access Point, HostAP) \u6a21\u5f0f\uff0c\u5141\u8bb8\u5b83\u4eec\u7528\u4f5c \u65e0\u7ebf\u63a5\u5165\u70b9 \uff1a acx(4) - TI ACX100/ACX111 ath(4) - Atheros 802.11a/b/g athn(4) - Atheros 802.11/a/g/n devices bwfm(4) - Broadcom \u548c Cypress IEEE 802.11a/ac/b/g/n \u65e0\u7ebf\u7f51\u7edc\u8bbe\u5907 pgt(4) - Conexant/Intersil Prism GT Full-MAC 802.11a/b/g ral(4) \u548c ural(4) - Ralink Technology RT25x0 802.11a/b/g rtw(4) - Realtek 8180 802.11b rum(4) - Ralink Technology RT2501USB wi(4) - Prism2/2.5/3 ifconfig(8) \u7684 media \u5b50\u547d\u4ee4\u53ef\u7528\u4e8e\u663e\u793a\u7f51\u7edc\u63a5\u53e3\u7684\u5a92\u4f53\u529f\u80fd\u3002\u5bf9\u4e8e\u65e0\u7ebf\u8bbe\u5907\uff0c\u5b83\u663e\u793a\u652f\u6301\u7684 802.11a/b/g/n \u5a92\u4f53\u6a21\u5f0f\u548c\u652f\u6301\u7684\u64cd\u4f5c\u6a21\u5f0f\uff08 hostap \u3001 ibss \u3001 monitor \uff09\u3002 \u4f8b\u5982\uff0c\u8981\u67e5\u770b\u63a5\u53e3 ath0 \u7684\u5a92\u4f53\u529f\u80fd\uff0c\u8bf7\u8fd0\u884c\uff1a $ ifconfig ath0 media \u4e3a\u4e86\u4f7f\u7528\u67d0\u4e9b\u65e0\u7ebf\u7f51\u5361\uff0c\u53ef\u80fd\u9700\u8981\u901a\u8fc7 fw_update(1) \u83b7\u53d6\u7684\u56fa\u4ef6\u6587\u4ef6\u3002\u4e00\u4e9b\u5236\u9020\u5546\u62d2\u7edd\u5141\u8bb8 \u81ea\u7531 \u5206\u53d1\u4ed6\u4eec\u7684\u56fa\u4ef6\uff0c\u56e0\u6b64\u5b83\u4e0d\u80fd\u5305\u542b\u5728 OpenBSD \u4e2d\u3002 \u53e6\u4e00\u4e2a\u9700\u8981\u8003\u8651\u7684\u9009\u62e9\uff1a\u4e3a\u57fa\u4e8e OpenBSD \u7684\u9632\u706b\u5899\u4f7f\u7528\u4f20\u7edf\u7684 NIC \u548c\u5916\u90e8\u6865\u63a5\u65e0\u7ebf\u63a5\u5165\u70b9\u3002","title":"\u65e0\u7ebf\u7f51\u7edc"},{"location":"openbsd-faq/faq6/#\u914d\u7f6e\u65e0\u7ebf\u9002\u914d\u5668","text":"\u57fa\u4e8e\u53d7\u652f\u6301\u82af\u7247\u7684\u9002\u914d\u5668\u53ef\u4ee5\u50cf\u4efb\u4f55\u5176\u4ed6\u7f51\u7edc\u63a5\u53e3\u4e00\u6837\u4f7f\u7528\u3002\u8981\u5c06 OpenBSD \u7cfb\u7edf\u8fde\u63a5\u5230\u73b0\u6709\u7684\u65e0\u7ebf\u7f51\u7edc\uff0c\u8bf7\u4f7f\u7528 ifconfig(8) \u5b9e\u7528\u7a0b\u5e8f\u3002 \u65e0\u7ebf\u5ba2\u6237\u7aef\u7684 hostname.if(5) \u6587\u4ef6\u793a\u4f8b\u53ef\u80fd\u662f\uff1a nwid puffyuberalles wpakey passwordhere inet autoconf \u6216\u8005\uff0c\u5bf9\u4e8e\u591a\u4e2a\u63a5\u5165\u70b9\uff1a join home-net wpakey passwordhere join work-net wpakey passwordhere join cafe-wifi inet autoconf \u8bf7\u6ce8\u610f inet autoconf \u5e94\u8be5\u653e\u7f6e\u5728\u5176\u4ed6\u914d\u7f6e\u884c\u4e4b\u540e\uff0c\u56e0\u4e3a\u5728\u914d\u7f6e\u5b8c\u6210\u4e4b\u524d\u7f51\u7edc\u9002\u914d\u5668\u5c06\u65e0\u6cd5\u53d1\u9001 DHCP \u8bf7\u6c42\u3002","title":"\u914d\u7f6e\u65e0\u7ebf\u9002\u914d\u5668"},{"location":"openbsd-faq/faq6/#\u4e2d\u7ee7\u65e0\u7ebf\u9002\u914d\u5668","text":"\u4e2d\u7ee7\uff08Trunks\uff09\u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u7f51\u7edc\u63a5\u53e3\u7ec4\u6210\u7684\u865a\u62df\u63a5\u53e3\u3002\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u7684\u793a\u4f8b\u5c06\u662f\u5e26\u6709\u6709\u7ebf bge0 \u63a5\u53e3\u548c\u65e0\u7ebf iwn0 \u63a5\u53e3\u7684\u7b14\u8bb0\u672c\u7535\u8111\u3002\u6211\u4eec\u5c06\u4f7f\u7528\u5b83\u4eec\u6784\u5efa\u4e00\u4e2a trunk(4) \u63a5\u53e3\u3002\u6709\u7ebf\u548c\u65e0\u7ebf\u63a5\u53e3\u5fc5\u987b\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4e8c\u5c42\u7f51\u7edc\u3002 \u4e3a\u6b64\uff0c\u6211\u4eec\u9996\u5148\u6fc0\u6d3b\u4e24\u4e2a\u7269\u7406\u7aef\u53e3\uff0c\u7136\u540e\u5c06\u5b83\u4eec\u5206\u914d\u7ed9 trunk0 \u3002 # echo up > /etc/hostname.bge0 \u7136\u800c\uff0c\u65e0\u7ebf\u63a5\u53e3\u9700\u8981\u66f4\u591a\u7684\u914d\u7f6e\u3002\u5b83\u9700\u8981\u8fde\u63a5\u5230\u6211\u4eec\u53d7 WPA \u4fdd\u62a4\u7684\u65e0\u7ebf\u7f51\u7edc\uff1a $ cat /etc/hostname.iwn0 nwid puffynet wpakey mysecretkey up \u73b0\u5728\uff0c\u6211\u4eec\u7684\u4e2d\u7ee7\u63a5\u53e3\u5b9a\u4e49\u5982\u4e0b\uff1a $ cat /etc/hostname.trunk0 trunkproto failover trunkport bge0 trunkport iwn0 inet autoconf \u4e2d\u7ee7\u8bbe\u7f6e\u4e3a\u6545\u969c\u8f6c\u79fb\u6a21\u5f0f\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u4efb\u4e00\u63a5\u53e3\u3002\u5982\u679c\u4e24\u8005\u90fd\u53ef\u7528\uff0c\u5b83\u5c06\u9996\u9009 bge0 \u7aef\u53e3\uff0c\u56e0\u4e3a\u8fd9\u662f\u6dfb\u52a0\u5230\u4e2d\u7ee7\u8bbe\u5907\u7684\u7b2c\u4e00\u4e2a\u7aef\u53e3\u3002","title":"\u4e2d\u7ee7\u65e0\u7ebf\u9002\u914d\u5668"},{"location":"openbsd-faq/faq6/#\u642d\u5efa\u7f51\u6865","text":"bridge(4) \u662f\u4e24\u4e2a\u6216\u591a\u4e2a\u72ec\u7acb\u7f51\u7edc\u4e4b\u95f4\u7684\u94fe\u63a5\u3002\u4e0e\u8def\u7531\u5668\u4e0d\u540c\uff0c\u6570\u636e\u5305\u900f\u660e\u5730\u901a\u8fc7\u7f51\u6865\uff1a\u4e24\u4e2a\u7f51\u6bb5\u5bf9\u4efb\u4e00\u4fa7\u7684\u8282\u70b9\u90fd\u663e\u793a\u4e3a\u4e00\u4e2a\u3002\u7f51\u6865\u53ea\u4f1a\u8f6c\u53d1\u5fc5\u987b\u4ece\u4e00\u4e2a\u7f51\u6bb5\u4f20\u9012\u5230\u53e6\u4e00\u4e2a\u7f51\u6bb5\u7684\u6570\u636e\u5305\uff0c\u56e0\u6b64\u7f51\u6865\u4e2d\u7684\u63a5\u53e3\u53ef\u80fd\u6709\u4e5f\u53ef\u80fd\u6ca1\u6709\u81ea\u5df1\u7684 IP \u5730\u5740\u3002\u5982\u679c\u662f\u8fd9\u6837\uff0c\u8be5\u63a5\u53e3\u5b9e\u9645\u4e0a\u5177\u6709\u4e24\u79cd\u64cd\u4f5c\u6a21\u5f0f\uff1a\u4e00\u79cd\u4f5c\u4e3a\u7f51\u6865\u7684\u4e00\u90e8\u5206\uff0c\u53e6\u4e00\u79cd\u4f5c\u4e3a\u72ec\u7acb\u7684 NIC\u3002\u5982\u679c\u4e24\u4e2a\u63a5\u53e3\u90fd\u6ca1\u6709 IP \u5730\u5740\uff0c\u5219\u7f51\u6865\u5c06\u4f20\u9012\u7f51\u7edc\u6570\u636e\uff0c\u4f46\u65e0\u6cd5\u8fdb\u884c\u5916\u90e8\u7ef4\u62a4\uff08\u8fd9\u53ef\u4ee5\u662f\u4e00\u4e2a\u529f\u80fd\uff09\u3002","title":"\u642d\u5efa\u7f51\u6865"},{"location":"openbsd-faq/faq6/#\u4f5c\u4e3a-dhcp-\u670d\u52a1\u5668\u7684\u7f51\u6865","text":"\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u7cfb\u7edf\uff0c\u5b83\u6709\u56db\u4e2a vr(4) \u63a5\u53e3\uff0c vr0 \u5230 vr3 \u3002 \u6211\u4eec\u5e0c\u671b\u5c06 vr1 \u3001 vr2 \u548c vr3 \u6865\u63a5\u5728\u4e00\u8d77\uff0c\u800c\u5c06 vr0 \u7559\u7ed9\u4e0a\u884c\u94fe\u8def\u3002 \u6211\u4eec\u8fd8\u5e0c\u671b\u901a\u8fc7\u6865\u63a5\u63a5\u53e3\u4e0a\u7684 DHCP \u63d0\u4f9b IP \u5730\u5740\u3002\u4f5c\u4e3a DHCP \u670d\u52a1\u5668\u548c\u4e0a\u884c\u94fe\u8def\u8def\u7531\u5668\uff0c\u8be5\u76d2\u5b50\u9700\u8981\u5728\u6865\u63a5\u7f51\u7edc\u4e0a\u6709\u4e00\u4e2a IP \u5730\u5740\u3002 \u65e0\u6cd5\u5c06 IP \u5730\u5740\u76f4\u63a5\u5206\u914d\u7ed9\u7f51\u6865\u63a5\u53e3\u3002IP \u5730\u5740\u5e94\u8be5\u6dfb\u52a0\u5230\u6210\u5458\u63a5\u53e3\u4e4b\u4e00\uff0c\u4f46\u6211\u4eec\u4e0d\u80fd\u4f7f\u7528\u7269\u7406\u63a5\u53e3\uff0c\u56e0\u4e3a\u94fe\u63a5\u53ef\u80fd\u4f1a\u5173\u95ed\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5730\u5740\u5c06\u65e0\u6cd5\u8bbf\u95ee\u3002 \u5e78\u8fd0\u7684\u662f\uff0c\u6709\u53ef\u7528\u4e8e\u6b64\u76ee\u7684\u7684 vether(4) \uff08\u865a\u62df\u4ee5\u592a\u7f51\uff09\u9a71\u52a8\u7a0b\u5e8f\u3002\u6211\u4eec\u5c06\u5b83\u6dfb\u52a0\u5230\u7f51\u6865\uff0c\u4e3a\u5176\u5206\u914d IP \u5730\u5740\u5e76\u4f7f dhcpd(8) \u5728\u90a3\u91cc\u76d1\u542c\u3002 \u672c\u8282\u4e0d\u518d\u5bf9 DHCP \u670d\u52a1\u5668\u914d\u7f6e \u8fdb\u884c\u63cf\u8ff0\uff0c\u4f46\u8fd9\u91cc\u4f7f\u7528\u7684\u5bfb\u5740\u65b9\u6848\u662f\u76f8\u540c\u7684\u3002 \u8fd9\u4e5f\u5c06\u662f\u6865\u63a5\u7f51\u7edc\u7684\u4e0a\u884c\u94fe\u8def\u8def\u7531\u5668\uff0c\u56e0\u6b64\u6211\u4eec\u5c06\u4f7f\u7528 IP \u5730\u5740 192.168.1.1 \u6765\u5339\u914d DHCP \u670d\u52a1\u5668\u914d\u7f6e\u3002 \u6211\u4eec\u4e0d\u4f1a\u5728\u8fd9\u91cc\u4ecb\u7ecd\u4e0a\u884c\u94fe\u8def\u3001\u8def\u7531\u6216\u9632\u706b\u5899\u914d\u7f6e\u3002 \u9996\u5148\uff0c\u5c06 vr1 \u3001 vr2 \u548c vr3 \u63a5\u53e3\u6807\u8bb0\u4e3a up \uff1a # echo up > /etc/hostname.vr1 # echo up > /etc/hostname.vr2 # echo up > /etc/hostname.vr3 \u7136\u540e\u521b\u5efa vether0 \u914d\u7f6e\uff1a # echo 'inet 192.168.1.1 255.255.255.0 192.168.1.255' > /etc/hostname.vether0 \u914d\u7f6e\u6865\u63a5\u63a5\u53e3\u4ee5\u5305\u542b\u4e0a\u8ff0\u6240\u6709\u63a5\u53e3\uff1a $ cat /etc/hostname.bridge0 add vether0 add vr1 add vr2 add vr3 up \u6700\u540e\u6211\u4eec\u8ba9 DHCP \u5b88\u62a4\u8fdb\u7a0b\u76d1\u542c vether0 \u63a5\u53e3\uff1a # rcctl set dhcpd flags vether0 \u6700\u540e\uff0c\u91cd\u65b0\u542f\u52a8\u7cfb\u7edf\u3002","title":"\u4f5c\u4e3a DHCP \u670d\u52a1\u5668\u7684\u7f51\u6865"},{"location":"openbsd-faq/faq6/#\u5728\u7f51\u6865\u4e0a\u8fc7\u6ee4","text":"PF \u53ef\u7528\u4e8e\u9650\u5236\u901a\u8fc7\u7f51\u6865\u7684\u6d41\u91cf\u3002\u8bf7\u8bb0\u4f4f\uff0c\u6839\u636e\u7f51\u6865\u7684\u6027\u8d28\uff0c\u76f8\u540c\u7684\u6570\u636e\u6d41\u7ecf\u4e24\u4e2a\u63a5\u53e3\uff0c\u56e0\u6b64\u53ea\u9700\u8981\u5728\u4e00\u4e2a\u63a5\u53e3\u4e0a\u8fdb\u884c\u8fc7\u6ee4\u3002","title":"\u5728\u7f51\u6865\u4e0a\u8fc7\u6ee4"},{"location":"openbsd-faq/faq6/#\u6865\u63a5\u6280\u5de7","text":"\u901a\u8fc7\u4f7f\u7528 ifconfig(8) \u6216 hostname.bridge0 \u4e2d\u7684 blocknonip \u9009\u9879\uff0c\u53ef\u4ee5\u9632\u6b62\u975e IP \u6d41\u91cf\uff08\u4f8b\u5982 IPX \u6216 NETBEUI\uff09\u7ed5\u8fc7\u8fc7\u6ee4\u5668\u3002 \u8fd9\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u53ef\u80fd\u5f88\u91cd\u8981\uff0c\u4f46\u8bf7\u6ce8\u610f\u7f51\u6865\u9002\u7528\u4e8e\u6240\u6709\u7c7b\u578b\u7684\u6d41\u91cf\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f IP\u3002 \u6865\u63a5\u8981\u6c42 NIC \u5904\u4e8e\u6df7\u6742\u6a21\u5f0f\uff08promiscuous mode\uff09\u3002\u5b83\u4eec\u4fa6\u542c \u6240\u6709 \u7f51\u7edc\u6d41\u91cf\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u9488\u5bf9\u63a5\u53e3\u7684\u6d41\u91cf\u3002\u8fd9\u4f1a\u7ed9\u5904\u7406\u5668\u548c\u603b\u7ebf\u5e26\u6765\u6bd4\u9884\u671f\u66f4\u9ad8\u7684\u8d1f\u8f7d\u3002","title":"\u6865\u63a5\u6280\u5de7"},{"location":"openbsd-faq/faq6/#\u7b49\u4ef7\u591a\u8def\u5f84\u8def\u7531","text":"\u7b49\u4ef7\u591a\u8def\u5f84\u8def\u7531\uff08Equal-Cost Multipath Routing\uff09\u662f\u6307\u5728\u540c\u4e00\u7f51\u7edc\u7684\u8def\u7531\u8868\u4e2d\u6709\u591a\u6761\u8def\u7531\uff0c\u5982\u9ed8\u8ba4\u8def\u7531 0.0.0.0/0\u3002 \u5f53\u5185\u6838\u8fdb\u884c\u8def\u7531\u67e5\u627e\u4ee5\u786e\u5b9a\u5c06\u53d1\u5f80\u8be5\u7f51\u7edc\u7684\u6570\u636e\u5305\u53d1\u9001\u5230\u4f55\u5904\u65f6\uff0c\u5b83\u53ef\u4ee5\u4ece\u4efb\u4f55\u7b49\u4ef7\u8def\u7531\u4e2d\u8fdb\u884c\u9009\u62e9\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u591a\u8def\u5f84\u8def\u7531\u7528\u4e8e\u63d0\u4f9b\u5197\u4f59\u4e0a\u884c\u94fe\u8def\u8fde\u63a5\uff0c\u4f8b\u5982\u5230 Internet \u7684\u5197\u4f59\u8fde\u63a5\u3002 route(8) \u547d\u4ee4\u7528\u4e8e\u5728\u8def\u7531\u8868\u4e2d\u6dfb\u52a0/\u66f4\u6539/\u5220\u9664\u8def\u7531\u3002\u6dfb\u52a0\u591a\u8def\u5f84\u8def\u7531\u65f6\u4f7f\u7528 -mpath \u53c2\u6570\u3002 # route add -mpath default 10.130.128.1 # route add -mpath default 10.132.0.1 \u9a8c\u8bc1\u8def\u7531\uff1a # netstat -rnf inet | grep default default 10.130.128.1 UGS 2 134 - fxp1 default 10.132.0.1 UGS 0 172 - fxp2 \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a\u9ed8\u8ba4\u8def\u7531\u6307\u5411 10.130.128.1 \uff0c\u53ef\u4ee5\u901a\u8fc7 fxp1 \u63a5\u53e3\u8bbf\u95ee\uff0c\u53e6\u4e00\u4e2a\u6307\u5411 10.132.0.1 \uff0c\u53ef\u4ee5\u901a\u8fc7 fxp2 \u8bbf\u95ee\u3002 \u7531\u4e8e mygate(5) \u6587\u4ef6\u5c1a\u4e0d\u652f\u6301\u591a\u8def\u5f84\u9ed8\u8ba4\u8def\u7531\uff0c\u56e0\u6b64\u5e94\u5c06\u4e0a\u8ff0\u547d\u4ee4\u6dfb\u52a0\u5230 fxp1 \u548c fxp2 \u63a5\u53e3\u7684 hostname.if(5) \u6587\u4ef6\u7684\u5e95\u90e8\u3002\u7136\u540e\u5e94\u8be5\u5220\u9664 /etc/mygate \u6587\u4ef6\u3002 $ tail -1 /etc/hostname.fxp1 !route add -mpath default 10.130.128.1 $ tail -1 /etc/hostname.fxp2 !route add -mpath default 10.132.0.1 \u6700\u540e\uff0c\u4e0d\u8981\u5fd8\u8bb0\u901a\u8fc7\u542f\u7528\u9002\u5f53\u7684 sysctl(8) \u53d8\u91cf\u6765\u6fc0\u6d3b\u591a\u8def\u5f84\u8def\u7531\u7684\u4f7f\u7528\u3002 # sysctl net.inet.ip.multipath=1 # sysctl net.inet6.ip6.multipath=1 \u8bf7\u52a1\u5fc5\u7f16\u8f91 sysctl.conf(5) \u4ee5\u4f7f\u66f4\u6539\u6c38\u4e45\u751f\u6548\u3002 \u73b0\u5728\u5c1d\u8bd5\u8ddf\u8e2a\u8def\u7531\u5230\u4e0d\u540c\u7684\u76ee\u7684\u5730\u3002\u5185\u6838\u5c06\u8d1f\u8f7d\u5e73\u8861\u6bcf\u6761\u591a\u8def\u5f84\u8def\u7531\u4e0a\u7684\u6d41\u91cf\u3002 # traceroute -n 154.11.0.4 traceroute to 154.11.0.4 (154.11.0.4), 64 hops max, 60 byte packets 1 10.130.128.1 19.337 ms 18.194 ms 18.849 ms 2 154.11.95.170 17.642 ms 18.176 ms 17.731 ms 3 154.11.5.33 110.486 ms 19.478 ms 100.949 ms 4 154.11.0.4 32.772 ms 33.534 ms 32.835 ms # traceroute -n 154.11.0.5 traceroute to 154.11.0.5 (154.11.0.5), 64 hops max, 60 byte packets 1 10.132.0.1 14.175 ms 14.503 ms 14.58 ms 2 154.11.95.38 13.664 ms 13.962 ms 13.445 ms 3 208.38.16.151 13.964 ms 13.347 ms 13.788 ms 4 154.11.0.5 30.177 ms 30.95 ms 30.593 ms \u6709\u5173\u5982\u4f55\u9009\u62e9\u8def\u7531\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 RFC2992 \uff0c\u201c\u7b49\u4ef7\u591a\u8def\u5f84\u7b97\u6cd5\u7684\u5206\u6790\uff08Analysis of an Equal-Cost Multi-Path Algorithm\uff09\u201d\u3002 \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u591a\u8def\u5f84\u8def\u7531\u4f7f\u7528\u7684\u63a5\u53e3\u51fa\u73b0\u6545\u969c\uff08\u5373\u4e22\u5931\u8f7d\u6ce2\uff08carrier\uff09\uff09\uff0c\u5185\u6838\u4ecd\u5c06\u5c1d\u8bd5\u4f7f\u7528\u6307\u5411\u8be5\u63a5\u53e3\u7684\u8def\u7531\u8f6c\u53d1\u6570\u636e\u5305\u3002\u8fd9\u79cd\u6d41\u91cf\u5f53\u7136\u4f1a\u88ab\u9ed1\u6d1e\u5316\uff0c\u6700\u7ec8\u65e0\u5904\u53ef\u53bb\u3002\u5f3a\u70c8\u5efa\u8bae\u4f7f\u7528 ifstated(8) \u6765\u68c0\u67e5\u4e0d\u53ef\u7528\u7684\u63a5\u53e3\u5e76\u76f8\u5e94\u5730\u8c03\u6574\u8def\u7531\u8868\u3002","title":"\u7b49\u4ef7\u591a\u8def\u5f84\u8def\u7531"},{"location":"openbsd-faq/faq6/#\u4f7f\u7528-nfs","text":"\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf NFS \u7528\u4e8e\u901a\u8fc7\u7f51\u7edc\u5171\u4eab\u6587\u4ef6\u7cfb\u7edf\u3002 \u672c\u8282\u5c06\u4ecb\u7ecd\u7b80\u5355 NFS \u8bbe\u7f6e\u7684\u6b65\u9aa4\u3002\u8be5\u793a\u4f8b\u8be6\u7ec6\u4ecb\u7ecd\u4e86 LAN \u4e0a\u7684\u670d\u52a1\u5668\uff0c\u5ba2\u6237\u7aef\u8bbf\u95ee LAN \u4e0a\u7684 NFS\u3002\u8be5\u8282\u4e0d\u5305\u62ec\u4fdd\u62a4 NFS\u3002","title":"\u4f7f\u7528 NFS"},{"location":"openbsd-faq/faq6/#\u642d\u5efa\u4e00\u4e2a-nfs-\u670d\u52a1\u5668","text":"\u9996\u5148\uff0c\u5728\u670d\u52a1\u5668\u4e0a\u542f\u7528 portmap(8) \u3001 mountd(8) \u548c nfsd(8) \u670d\u52a1\uff1a # rcctl enable portmap mountd nfsd \u7136\u540e\u914d\u7f6e\u5c06\u53ef\u7528\u7684\u6587\u4ef6\u7cfb\u7edf\u5217\u8868\u3002 \u5728\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u6709\u4e00\u4e2a IP \u5730\u5740\u4e3a 10.0.0.1 \u7684\u670d\u52a1\u5668\u3002\u6b64\u670d\u52a1\u5668\u5c06\u4ec5\u5411\u5176\u81ea\u5df1\u5b50\u7f51\u5185\u7684\u5ba2\u6237\u7aef\u63d0\u4f9b NFS \u670d\u52a1\u3002\u8fd9\u662f\u5728\u4e0b\u5217 exports(5) \u6587\u4ef6\u4e2d\u914d\u7f6e\u7684\uff1a $ cat /etc/exports /docs -alldirs -ro -network=10.0.0 -mask=255.255.255.0 \u672c\u5730\u6587\u4ef6\u7cfb\u7edf /docs \u5c06\u901a\u8fc7 NFS \u63d0\u4f9b\u3002 -alldirs \u9009\u9879\u6307\u5b9a\u5ba2\u6237\u7aef\u5c06\u80fd\u591f\u5728 /docs \u4ee5\u53ca /docs \u672c\u8eab\u4e0b\u7684\u4efb\u4f55\u4f4d\u7f6e\u6302\u8f7d\u3002 -ro \u9009\u9879\u6307\u5b9a\u5ba2\u6237\u7aef\u5c06\u4ec5\u88ab\u6388\u4e88\u53ea\u8bfb\u8bbf\u95ee\u6743\u9650\u3002\u6700\u540e\u4e24\u4e2a\u53c2\u6570\u6307\u5b9a\u53ea\u6709\u4f7f\u7528 255.255.255.0 \u7f51\u7edc\u63a9\u7801\u7684 10.0.0.0 \u7f51\u7edc\u4e2d\u7684\u5ba2\u6237\u7aef\u624d\u80fd\u88ab\u6388\u6743\u6302\u8f7d\u6b64\u6587\u4ef6\u7cfb\u7edf\u3002 \u73b0\u5728\u542f\u52a8\u670d\u52a1\u5668\u76f8\u5173\u7684\u670d\u52a1\uff1a # rcctl start portmap mountd nfsd \u5982\u679c\u5728 NFS \u5df2\u7ecf\u8fd0\u884c\u65f6\u5bf9 /etc/exports \u8fdb\u884c\u4e86\u66f4\u6539\uff0c\u5219\u5fc5\u987b\u91cd\u542f mountd \u91cd\u65b0\u8f7d\u5165\u914d\u7f6e\u3002 # rcctl reload mountd","title":"\u642d\u5efa\u4e00\u4e2a NFS \u670d\u52a1\u5668"},{"location":"openbsd-faq/faq6/#\u6302\u8f7d-nfs-\u6587\u4ef6\u7cfb\u7edf","text":"NFS \u6587\u4ef6\u7cfb\u7edf\u5e94\u8be5\u901a\u8fc7 mount(8) \uff0c\u6216\u8005\u66f4\u5177\u4f53\u5730\u8bf4\uff0c mount_nfs(8) \u6302\u8f7d\u3002 \u8981\u5c06\u4e3b\u673a 10.0.0.1 \u4e0a\u7684 /docs \u6587\u4ef6\u7cfb\u7edf\u6302\u8f7d\u5230\u672c\u5730\u6587\u4ef6\u7cfb\u7edf /mnt \uff0c\u8bf7\u8fd0\u884c\uff1a # mount -t nfs 10.0.0.1:/docs /mnt \u8981\u5728\u5f15\u5bfc\u65f6\u6302\u8f7d\u8be5\u6587\u4ef6\u7cfb\u7edf\uff0c\u8bf7\u5728 fstab(5) \u4e2d\u6dfb\u52a0\u4e00\u884c\uff0c\u5982\u4e0b\u6240\u793a\uff1a # echo '10.0.0.1:/docs /mnt nfs ro,nodev,nosuid 0 0' >> /etc/fstab \u5728\u8fd9\u4e00\u884c\u7684\u672b\u5c3e\u4f7f\u7528 0 0 \u5f88\u91cd\u8981\uff0c\u8fd9\u6837\u8ba1\u7b97\u673a\u5c31\u4e0d\u4f1a\u5728\u542f\u52a8\u65f6\u5c1d\u8bd5 fsck(8) NFS \u6587\u4ef6\u7cfb\u7edf\u3002 \u5f53\u4ee5 root \u7528\u6237\u8bbf\u95ee NFS \u6302\u8f7d\u65f6\uff0c\u670d\u52a1\u5668\u4f1a\u81ea\u52a8\u5c06 root \u7684\u8bbf\u95ee\u6743\u9650\u6620\u5c04\u5230\u7528\u6237\u540d nobody \u548c\u7ec4 nobody \u3002\u5728\u8003\u8651\u6587\u4ef6\u6743\u9650\u65f6\u4e86\u89e3\u8fd9\u4e00\u70b9\u5f88\u91cd\u8981\u3002\u4f8b\u5982\uff0c\u83b7\u53d6\u5177\u6709\u4ee5\u4e0b\u6743\u9650\u7684\u6587\u4ef6\uff1a -rw------- 1 root wheel 0 Dec 31 03:00 _daily.B20143 \u5982\u679c\u6b64\u6587\u4ef6\u4f4d\u4e8e NFS \u5171\u4eab\u4e0a\u5e76\u4e14 root \u7528\u6237\u5c1d\u8bd5\u4ece NFS \u5ba2\u6237\u7aef\u8bbf\u95ee\u6b64\u6587\u4ef6\uff0c\u5219\u8bbf\u95ee\u5c06\u88ab\u62d2\u7edd\u3002 root \u6620\u5c04\u5230\u7684\u7528\u6237\u548c\u7ec4\u53ef\u4ee5\u901a\u8fc7 NFS \u670d\u52a1\u5668\u4e0a\u7684 exports(5) \u6587\u4ef6\u8fdb\u884c\u914d\u7f6e\u3002","title":"\u6302\u8f7d NFS \u6587\u4ef6\u7cfb\u7edf"},{"location":"openbsd-faq/faq6/#\u68c0\u67e5-nfs-\u4e0a\u7684\u7edf\u8ba1\u4fe1\u606f","text":"\u8981\u786e\u4fdd NFS \u6b63\u5e38\u8fd0\u884c\uff0c\u9700\u8981\u68c0\u67e5\u7684\u4e00\u4ef6\u4e8b\u662f\u6240\u6709\u5b88\u62a4\u7a0b\u5e8f\u90fd\u5df2\u6b63\u786e\u6ce8\u518c\u5230 RPC\u3002 \u4e3a\u6b64\uff0c\u8bf7\u4f7f\u7528 rpcinfo(8) \u3002 $ rpcinfo -p 10.0.0.1 program vers proto port 100000 2 tcp 111 portmapper 100000 2 udp 111 portmapper 100005 1 udp 633 mountd 100005 3 udp 633 mountd 100005 1 tcp 916 mountd 100005 3 tcp 916 mountd 100003 2 udp 2049 nfs 100003 3 udp 2049 nfs 100003 2 tcp 2049 nfs 100003 3 tcp 2049 nfs \u4e00\u4e9b\u5b9e\u7528\u7a0b\u5e8f\u5141\u8bb8\u7ba1\u7406\u5458\u67e5\u770b NFS \u53d1\u751f\u7684\u60c5\u51b5\uff0c\u4f8b\u5982 showmount(8) \u548c nfsstat(1) \u3002","title":"\u68c0\u67e5 NFS \u4e0a\u7684\u7edf\u8ba1\u4fe1\u606f"},{"location":"openbsd-faq/faq7/","text":"OpenBSD FAQ - \u952e\u76d8\u548c\u663e\u793a\u63a7\u5236 \u00b6 \u5728\u63a7\u5236\u53f0\u4e0a\u5de5\u4f5c \u00b6 \u91cd\u65b0\u6620\u5c04\u952e\u76d8 \u00b6 kbd(8) \u5b9e\u7528\u7a0b\u5e8f\u53ef\u7528\u4e8e\u66f4\u6539\u952e\u76d8\u7f16\u7801\uff08keyboard encoding\uff09\u3002\u5927\u591a\u6570\u952e\u76d8\u9009\u9879\u90fd\u53ef\u4ee5\u4f7f\u7528 wsconsctl(8) \u5b9e\u7528\u7a0b\u5e8f\u8fdb\u884c\u63a7\u5236\u3002\u4f8b\u5982\uff0c\u8981\u4f7f\u7528 wsconsctl(8) \u66f4\u6539\u952e\u6620\u5c04\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # wsconsctl keyboard.encoding=uk \u91cd\u65b0\u6620\u5c04 [Caps Lock] \u4e3a\u5de6\u63a7\u5236\u952e [Control L]\uff1a # wsconsctl keyboard.map+=\"keysym Caps_Lock = Control_L\" \u8981\u6c38\u4e45\u66f4\u6539\uff0c\u8bf7\u4f7f\u7528 wsconsctl.conf(5) \u6587\u4ef6\u3002 \u63a7\u5236\u53f0\u9f20\u6807\u652f\u6301 \u00b6 \u5bf9\u4e8e alpha \u3001 amd64 \u548c i386 \u5e73\u53f0\uff0cOpenBSD \u63d0\u4f9b wsmoused(8) \u3002\u5b83\u53ef\u4ee5\u4f7f\u7528 rcctl(8) \u5b9e\u7528\u7a0b\u5e8f\u542f\u7528\uff0c\u5728 rc \u811a\u672c \u7684 FAQ \u4e2d\u4e5f\u6709\u63cf\u8ff0\u3002 \u5207\u6362\u63a7\u5236\u53f0 \u00b6 \u5728\u5927\u591a\u6570 alpha\u3001macppc\u3001amd64 \u548c i386 \u7cfb\u7edf\u4e0a\uff0cOpenBSD \u9ed8\u8ba4\u63d0\u4f9b\u516d\u4e2a\u865a\u62df\u7ec8\u7aef\uff1a /dev/ttyC0 \u5230 /dev/ttyC5 \u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 [CTRL]+[ALT] \u548c [F1] \u5230 [F6] \u5728\u5b83\u4eec\u4e4b\u95f4\u5207\u6362\u3002\u865a\u62df\u7ec8\u7aef ttyC4 \u4fdd\u7559\u4f9b X \u7a97\u53e3\u7cfb\u7edf \u4f7f\u7528\u3002 VGA \u786c\u4ef6\u4e0a\u7684\u63a7\u5236\u53f0 \u00b6 \u6ce8\u610f\uff1a\u672c\u8282\u8ba8\u8bba vga(4) \u9a71\u52a8\u7a0b\u5e8f\u7684\u529f\u80fd\u3002\u5e76\u975e\u6240\u6709\u89c6\u9891\u5361\u90fd\u652f\u6301\u5b83\u4eec\u3002\u4ee5\u4e0b\u8bf4\u660e \u4e0d\u9002\u7528\u4e8e\u4f7f\u7528 drm(4) \u9a71\u52a8\u7a0b\u5e8f\u7684\u73b0\u4ee3\u56fe\u5f62\u786c\u4ef6\u3002 \u56de\u6eda\u7f13\u51b2\u533a \u00b6 \u5728\u4e00\u4e9b\u5e73\u53f0\u548c\u786c\u4ef6\u7ec4\u5408\u4e0a\uff0cOpenBSD \u63d0\u4f9b\u4e86\u4e00\u4e2a\u63a7\u5236\u53f0\u56de\u6eda\u7f13\u51b2\u533a\u3002\u8fd9\u4f7f\u4f60\u53ef\u4ee5\u67e5\u770b\u5df2\u7ecf\u6eda\u52a8\u8fc7\u5c4f\u5e55\u7684\u4fe1\u606f\u3002\u8981\u5728\u7f13\u51b2\u533a\u4e2d\u4e0a\u4e0b\u79fb\u52a8\uff0c\u8bf7\u4f7f\u7528 [SHIFT]+[PGUP] \u548c [SHIFT]+[PGDN] \u3002\u4f60\u53ef\u4ee5\u5411\u4e0a\u79fb\u52a8\u548c\u67e5\u770b\u7684\u9875\u9762\u6570\u4e3a 8\u3002\u5207\u6362\u63a7\u5236\u53f0\u5c06\u6e05\u9664\u56de\u6eda\u7f13\u51b2\u533a\u3002\u7531\u4e8e\u7a7a\u95f4\u9650\u5236\uff0c\u5b89\u88c5\u5185\u6838\u6ca1\u6709\u8fd9\u4e2a\u529f\u80fd\u3002 \u6dfb\u52a0\u66f4\u591a\u865a\u62df\u63a7\u5236\u53f0 \u00b6 \u5982\u679c\u60a8\u5e0c\u671b\u62e5\u6709\u591a\u4e8e\u9ed8\u8ba4\u6570\u91cf\u7684\u865a\u62df\u63a7\u5236\u53f0\uff0c\u8bf7\u4f7f\u7528 wsconscfg(8) \u547d\u4ee4\u4e3a ttyC6 \u3001 ttyC7 \u53ca\u66f4\u591a\u7684\u865a\u62df\u63a7\u5236\u53f0\u521b\u5efa\u5c4f\u5e55\u3002\u4f8b\u5982\uff1a # wsconscfg -t 80x25 6 # this will not work on systems using drm(4) \u8fd9\u5c06\u4e3a ttyC6 \u521b\u5efa\u4e00\u4e2a\u865a\u62df\u7ec8\u7aef\uff0c\u901a\u8fc7 [CTRL]+[ALT]+[F7] \u8bbf\u95ee\u3002\u8981\u5728\u65b0\u521b\u5efa\u7684\u865a\u62df\u63a7\u5236\u53f0\u4e0a\u83b7\u5f97 login: \u63d0\u793a\uff0c\u4f60\u9700\u8981\u5728 ttys(5) \u4e2d\u5c06\u5176\u8bbe\u7f6e\u4e3a on \uff0c\u7136\u540e\u91cd\u65b0\u542f\u52a8\u6216\u4f7f\u7528 kill(1) \u5411 init(8) \u53d1\u9001 HUP \u4fe1\u53f7\u3002\u5982\u679c\u4e0b\u6b21\u542f\u52a8\u8ba1\u7b97\u673a\u65f6\u9700\u8981\u989d\u5916\u7684\u5c4f\u5e55\uff0c\u8bf7\u5c06\u6b64\u547d\u4ee4\u6dfb\u52a0\u5230 rc.local(8) \u3002 \u66f4\u6539\u63a7\u5236\u53f0\u5b57\u4f53\u548c\u5206\u8fa8\u7387 \u00b6 \u8bb8\u591a alpha\u3001amd64 \u548c i386 \u4e0a\u7684 VGA \u89c6\u9891\u5361\u80fd\u591f\u663e\u793a 50 \u884c\u7684\u66f4\u9ad8\u6587\u672c\u5206\u8fa8\u7387\uff0c\u800c\u4e0d\u662f\u901a\u5e38\u7684 25 \u884c\u3002\u6807\u51c6\u7684 80x25 \u6587\u672c\u5c4f\u5e55\u4f7f\u7528 8x16 \u50cf\u7d20\u5b57\u4f53\u3002\u4e3a\u4e86\u4f7f\u884c\u6570\u52a0\u500d\uff0c\u6211\u4eec\u9996\u5148\u4f7f\u7528 wsfontload(8) \u52a0\u8f7d\u4e00\u4e2a 8x8 \u50cf\u7d20\u7684\u5b57\u4f53\u3002\u7136\u540e\u6211\u4eec\u4f7f\u7528 wsconscfg(8) \u5220\u9664\u5e76\u91cd\u65b0\u521b\u5efa\u4e00\u4e2a\u5177\u6709\u6240\u9700\u5c4f\u5e55\u5206\u8fa8\u7387\u7684\u865a\u62df\u63a7\u5236\u53f0\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u5728 rc.local(8) \u811a\u672c\u7684\u672b\u5c3e\u6dfb\u52a0\u4ee5\u4e0b\u547d\u4ee4\u5728\u542f\u52a8\u65f6\u81ea\u52a8\u5b8c\u6210\uff1a wsfontload -h 8 -e ibm /usr/share/misc/pcvtfonts/vt220l.808 # load 8x8 font wsconscfg -dF 5 # delete screen 5 accessed by [CTRL]+[ALT]+[F6] wsconscfg -t 80x50 5 # add screen 5 with 50 lines of 80 characters \u5982\u679c\u4f60\u5e0c\u671b\u4fee\u6539\u5176\u4ed6\u5c4f\u5e55\uff0c\u53ea\u9700\u4e3a\u4f60\u5e0c\u671b\u4ee5 80x50 \u5206\u8fa8\u7387\u8fd0\u884c\u7684\u4efb\u4f55\u5c4f\u5e55\u91cd\u590d\u4ee5\u4e0a\u5220\u9664\u548c\u6dfb\u52a0\u5c4f\u5e55\u6b65\u9aa4\u3002\u4f60\u65e0\u6cd5\u66f4\u6539\u901a\u8fc7 [CTRL]+[ALT]+[F1] \u8bbf\u95ee\u7684\u4e3b\u63a7\u5236\u53f0\u8bbe\u5907 ttyC0 \u7684\u5206\u8fa8\u7387\u3002\u8bf7\u907f\u514d\u66f4\u6539 X \u7528\u4f5c\u56fe\u5f62\u5c4f\u5e55\u7684\u5c4f\u5e55 4\u3002 \u6e05\u7a7a\u975e\u6d3b\u52a8\u63a7\u5236\u53f0 \u00b6 \u5982\u679c\u4f60\u5e0c\u671b\u5728\u4e00\u6bb5\u65f6\u95f4\u4e0d\u6d3b\u52a8\u540e\u4e0d\u4f7f\u7528 X \u6e05\u7a7a\u63a7\u5236\u53f0\uff0c\u8bf7\u4fee\u6539\u4ee5\u4e0b wscons(4) \u53d8\u91cf\uff1a display.screen_off \u786e\u5b9a\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u7684\u6d88\u9690\u65f6\u95f4\uff08the blanking time\uff09\u3002 display.kbdact \u5982\u679c\u8bbe\u7f6e\u4e3a on \uff0c\u952e\u76d8\u6d3b\u52a8\u5c06\u53d6\u6d88\u7a7a\u767d\u5c4f\u5e55\u3002 display.msact \u5982\u679c\u8bbe\u7f6e\u4e3a on \uff0c \u63a7\u5236\u53f0\u9f20\u6807 \u6d3b\u52a8\u5c06\u53d6\u6d88\u7a7a\u767d\u5c4f\u5e55\u3002 display.outact \u5982\u679c\u8bbe\u7f6e\u4e3a on \uff0c\u5c4f\u5e55\u8f93\u51fa\u5c06\u53d6\u6d88\u7a7a\u767d\u5c4f\u5e55\u3002 display.vblank \u5982\u679c\u8bbe\u7f6e\u4e3a on \u5c06\u7981\u7528\u5782\u76f4\u540c\u6b65\u8109\u51b2\u3002\u8fd9\u5c06\u5bfc\u81f4\u8bb8\u591a\u663e\u793a\u5668\u8fdb\u5165\u8282\u80fd\u6a21\u5f0f\u3002 \u4f8b\u5982\uff1a # wsconsctl display.screen_off=60000 display.screen_off -> 60000 \u901a\u8fc7\u7f16\u8f91 wsconsctl.conf(5) \u6c38\u4e45\u8bbe\u7f6e\u5b83\u4eec\u3002\u5f53 display.kbdact \u6216 display.outact \u8bbe\u7f6e\u4e3a on \u65f6\uff0c\u6d88\u9690\u5668\u88ab\u6fc0\u6d3b\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e24\u8005\u4e4b\u4e00\u5fc5\u987b\u5173\u95ed\u3002 \u914d\u7f6e\u4e32\u53e3\u63a7\u5236\u53f0 \u00b6 OpenBSD \u5728\u5927\u591a\u6570\u5e73\u53f0\u4e0a\u90fd\u652f\u6301\u4e32\u53e3\u63a7\u5236\u53f0\uff0c\u4f46\u662f\u4e0d\u540c\u7684\u5e73\u53f0\u4e4b\u95f4\u7684\u7ec6\u8282\u5dee\u5f02\u5f88\u5927\u3002\u9664\u4e86\u5141\u8bb8\u7528\u6237\u767b\u5f55\u5916\uff0c\u5b83\u4eec\u8fd8\u53ef\u7528\u4e8e\u8bb0\u5f55\u63a7\u5236\u53f0\u8f93\u51fa\u3002 \u5728 OpenBSD \u7cfb\u7edf\u4e0a\u83b7\u5f97\u529f\u80fd\u9f50\u5168\u7684\u4e32\u53e3\u63a7\u5236\u53f0\u6709\u4e24\u4e2a\u90e8\u5206\uff1a \u542f\u7528\u4e32\u53e3\u4f5c\u4e3a\u4ea4\u4e92\u7ec8\u7aef\uff0c\u4ee5\u4fbf\u7528\u6237\u5728\u8fd0\u884c\u591a\u7528\u6237\u65f6\u53ef\u4ee5\u767b\u5f55\u3002 \u914d\u7f6e OpenBSD \u4ee5\u4f7f\u7528\u4f60\u7684\u4e32\u53e3\u7aef\u53e3\u4f5c\u4e3a\u72b6\u6001\u548c\u5355\u7528\u6237\u6a21\u5f0f\u7684\u63a7\u5236\u53f0\u3002\u8fd9\u90e8\u5206\u975e\u5e38\u4f9d\u8d56\u5e73\u53f0\u7279\u5b9a\u7684\u914d\u7f6e\u3002 \u66f4\u6539 /etc/ttys \u4ee5\u83b7\u53d6\u767b\u5f55\u63d0\u793a \u00b6 \u7ec8\u7aef\u4f1a\u8bdd\u7531 ttys(5) \u6587\u4ef6\u63a7\u5236\u3002\u5728 OpenBSD \u7ed9\u4f60\u4e00\u4e2a login: \u63d0\u793a\u4e4b\u524d\uff0c\u5b83\u5fc5\u987b\u5728 /etc/ttys \u4e2d\u542f\u7528\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e32\u884c\u7ec8\u7aef\u5728\u901a\u5e38\u8fde\u63a5\u6709\u952e\u76d8\u548c\u5c4f\u5e55\u7684\u5e73\u53f0\u4e0a\u662f\u7981\u7528\u7684\u3002\u6211\u4eec\u5c06\u4f7f\u7528 amd64 \u5e73\u53f0\u4f5c\u4e3a\u793a\u4f8b\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u5fc5\u987b\u7f16\u8f91\u4ee5\u4e0b\u884c\uff1a tty00 \"/usr/libexec/getty std.9600\" unknown off \u4fee\u6539\u6210\u5982\u4e0b\u6587\u672c\uff1a tty00 \"/usr/libexec/getty std.9600\" vt220 on secure \u5728\u8fd9\u91cc\uff0c tty00 \u662f\u6211\u4eec\u7528\u4f5c\u63a7\u5236\u53f0\u7684\u4e32\u884c\u7aef\u53e3\uff0c\u800c vt220 \u662f\u4e0e\u4f60\u7684\u7ec8\u7aef\u5339\u914d\u7684 termcap(5) \u6761\u76ee\u3002\u5176\u4ed6\u53ef\u80fd\u7684\u9009\u9879\u53ef\u80fd\u5305\u62ec vt100 \u3001 xterm \u7b49\u3002 on \u901a\u8fc7\u4e3a\u8be5\u4e32\u884c\u7aef\u53e3\u6fc0\u6d3b getty(8) \u6765\u542f\u7528\u767b\u5f55\u63d0\u793a\u3002 secure \u5141\u8bb8\u5728\u6b64\u63a7\u5236\u53f0\u4e0a\u8fdb\u884c root \u767b\u5f55\u3002 9600 \u662f\u7ec8\u7aef\u6ce2\u7279\u7387\u3002 \u8bf7\u6ce8\u610f\uff0c\u4f60\u53ef\u4ee5\u5728\u4e0d\u6267\u884c\u6b64\u6b65\u9aa4\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\u4e32\u884c\u63a7\u5236\u53f0\u8fdb\u884c\u5b89\u88c5\uff0c\u56e0\u4e3a\u7cfb\u7edf\u5728\u5355\u7528\u6237\u6a21\u5f0f\u4e0b\u8fd0\u884c\uff0c\u800c\u4e0d\u662f\u4f7f\u7528 getty \u8fdb\u884c\u767b\u5f55\u3002 amd64 \u548c i386 \u00b6 \u8981\u5c06\u542f\u52a8\u8fc7\u7a0b\u914d\u7f6e\u4e3a\u4f7f\u7528\u4e32\u884c\u7aef\u53e3\u4f5c\u4e3a\u63a7\u5236\u53f0\uff0c\u4f60\u7684 boot.conf(5) \u6587\u4ef6\u5e94\u5305\u542b\u4ee5\u4e0b\u884c\uff1a set tty com0 \u8bf7\u5c06\u8fd9\u4e2a\u6587\u4ef6\u653e\u5728\u4f60\u7684\u542f\u52a8\u9a71\u52a8\u5668\u4e0a\uff0c\u5b83\u4e5f\u653e\u5728\u4f60\u7684\u5b89\u88c5\u4ecb\u8d28\u4e2d\u3002\u5982\u679c\u4f60\u9700\u8981 9600bps \u4ee5\u5916\u7684\u6ce2\u7279\u7387\uff0c\u8bf7\u4f7f\u7528 stty \u9009\u9879\u3002 \u67d0\u4e9b\u7cfb\u7edf\u53ef\u80fd\u80fd\u591f\u5728\u673a\u5668\u4e2d\u6ca1\u6709\u89c6\u9891\u5361\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\uff0c\u4f46\u80af\u5b9a\u4e0d\u662f\u6240\u6709\u7cfb\u7edf\u2014\u2014\u8bb8\u591a\u4eba\u8ba4\u4e3a\u8fd9\u662f\u4e00\u79cd\u9519\u8bef\u60c5\u51b5\u3002\u5176\u4ed6\u4eba\u80fd\u591f\u901a\u8fc7\u914d\u7f6e\u9009\u9879\u5c06\u6240\u6709 BIOS \u952e\u76d8\u548c\u5c4f\u5e55\u6d3b\u52a8\u91cd\u5b9a\u5411\u5230\u4e32\u884c\u7aef\u53e3\uff0c\u56e0\u6b64\u53ef\u4ee5\u5b8c\u5168\u901a\u8fc7\u4e32\u884c\u7aef\u53e3\u7ef4\u62a4\u673a\u5668\u3002\u4f60\u7684\u7ed3\u679c\u53ef\u80fd\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u4f7f\u7528\u6b64\u529f\u80fd\u65f6\uff0c\u67d0\u4e9b BIOS \u5b9e\u73b0\u53ef\u80fd\u4f1a\u963b\u6b62\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u770b\u5230\u4e32\u884c\u7aef\u53e3\uff0c\u56e0\u6b64\u4e0d\u4f1a\u544a\u8bc9\u5185\u6838\u4f7f\u7528\u5b83\u3002\u53ef\u80fd\u6709\u4e00\u4e2a BIOS \u9009\u9879 \u201cContinue Console Redirection after POST.\u201d\u3002\u8fd9\u5e94\u8be5\u8bbe\u7f6e\u4e3a OFF \uff0c\u4ee5\u4fbf\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u548c\u5185\u6838\u53ef\u4ee5\u5904\u7406\u4ed6\u4eec\u81ea\u5df1\u7684\u63a7\u5236\u53f0\u3002 \u8981\u5728\u591a\u7528\u6237\u6a21\u5f0f\u4e0b\u4f7f\u7528\u673a\u5668\uff0c\u4f60\u9700\u8981\u6309 \u4e0a\u8ff0\u8bf4\u660e \u7f16\u8f91 /etc/ttys \u3002 sparc64 \u00b6 \u8fd9\u4e9b\u673a\u5668\u8bbe\u8ba1\u4e3a\u53ef\u901a\u8fc7\u4e32\u884c\u63a7\u5236\u53f0\u8fdb\u884c\u5b8c\u5168\u7ef4\u62a4\u3002\u53ea\u9700\u4ece\u673a\u5668\u4e0a\u53d6\u4e0b\u952e\u76d8\uff0c\u7cfb\u7edf\u5c31\u4f1a\u4e32\u884c\u8fd0\u884c\u3002 \u5728\u67d0\u4e9b\u7cfb\u7edf\u4e0a\uff0c\u4e32\u884c\u7aef\u53e3\u6807\u8bb0\u4e3a ttya \u3001 ttyb \u3001 ttyh0 \u6216 ttyh1 \u3002\u5728\u591a\u7528\u6237\u6a21\u5f0f\u4e0b\u4f7f\u7528\u4e32\u884c\u63a7\u5236\u53f0\u4e0d\u9700\u8981\u5bf9 /etc/ttys \u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002 \u4e00\u4e9b sparc64 \u7cfb\u7edf\u5c06\u63a7\u5236\u53f0\u7aef\u53e3\u7684 BREAK \u4fe1\u53f7\u89e3\u91ca\u4e3a\u4e0e STOP-A \u547d\u4ee4\u76f8\u540c\u3002\u8fd9\u5c06\u4f7f\u7cfb\u7edf\u56de\u5230 Forth \u63d0\u793a\u7b26\uff0c\u5e76\u5728\u6b64\u65f6\u505c\u6b62\u4efb\u4f55\u5e94\u7528\u7a0b\u5e8f\u548c\u64cd\u4f5c\u7cfb\u7edf\u3002\u8fd9\u5728\u9700\u8981\u65f6\u662f\u5f88\u65b9\u4fbf\u7684\uff0c\u4f46\u4e0d\u5e78\u7684\u662f\uff0c\u4e00\u4e9b\u4e32\u884c\u7ec8\u7aef\u5728\u65ad\u7535\u65f6\u548c\u4e00\u4e9b RS-232 \u5f00\u5173\u8bbe\u5907\u4f1a\u53d1\u9001\u4e00\u4e9b\u88ab\u8ba1\u7b97\u673a\u89e3\u91ca\u4e3a\u4e2d\u65ad\u4fe1\u53f7\u7684\u4e1c\u897f\uff0c\u4f7f\u673a\u5668\u505c\u6b62\u5de5\u4f5c\u3002\u8bf7\u5728\u4f60\u8fdb\u5165\u751f\u4ea7\u4e4b\u524d\u8fdb\u884c\u6d4b\u8bd5\u3002 \u5982\u679c\u60a8\u8fde\u63a5\u4e86\u952e\u76d8\u548c\u663e\u793a\u5668\uff0c\u60a8\u4ecd\u7136\u53ef\u4ee5\u901a\u8fc7\u5728 ok \u63d0\u793a\u7b26\u4e0b\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u5f3a\u5236\u4f7f\u7528\u4e32\u884c\u63a7\u5236\u53f0\uff1a ok setenv input-device ttya ok setenv output-device ttya ok reset \u5982\u679c ttyC0 \u5728 /etc/ttys \u4e2d\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\uff0c \u5982\u4e0a\u6240\u8ff0 \uff0c\u4f60\u53ef\u4ee5\u5728 X \u4e2d\u4f7f\u7528\u952e\u76d8\u548c\u76d1\u89c6\u5668\u3002 macppc \u00b6 macppc \u673a\u5668\u901a\u8fc7 OpenFirmware \u914d\u7f6e\u4e3a\u4e32\u884c\u63a7\u5236\u53f0\u3002\u4f7f\u7528\u547d\u4ee4\uff1a ok setenv output-device scca ok setenv input-device scca ok reset-all \u5c06\u60a8\u7684\u4e32\u884c\u63a7\u5236\u53f0\u8bbe\u7f6e\u4e3a 57600bps\uff0c8N1\u3002 \u4e0d\u5e78\u7684\u662f\uff0c\u5728\u5927\u591a\u6570 MacPPC \u4e0a\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u4e32\u884c\u63a7\u5236\u53f0\u3002\u867d\u7136\u8fd9\u4e9b\u673a\u5668\u4e2d\u7684\u5927\u591a\u6570\u90fd\u6709\u4e32\u884c\u786c\u4ef6\uff0c\u4f46\u5728\u673a\u5668\u5916\u90e8\u65e0\u6cd5\u8bbf\u95ee\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u4e00\u4e9b\u516c\u53f8\u4e3a\u51e0\u79cd Macintosh \u578b\u53f7\u63d0\u4f9b\u4e86\u9644\u52a0\u8bbe\u5907\uff0c\u8fd9\u5c06\u4f7f\u8be5\u7aef\u53e3\u53ef\u7528\u4f5c\u4e32\u884c\u63a7\u5236\u53f0\u3002 \u4f60\u5fc5\u987b\u5c06 /etc/ttys \u4e2d\u7684 tty00 \u66f4\u6539\u4e3a on \u5e76\u5c06\u901f\u5ea6\u8bbe\u7f6e\u4e3a 57600 \u800c\u4e0d\u662f\u9ed8\u8ba4\u7684 9600 \uff0c\u5982 \u4e0a\u9762 \u5728\u5355\u7528\u6237\u6a21\u5f0f\u4e2d\u8be6\u8ff0\u7684\u90a3\u6837\uff0c\u7136\u540e\u624d\u80fd\u542f\u52a8\u591a\u7528\u6237\u5e76\u8ba9\u4e32\u884c\u63a7\u5236\u53f0\u6b63\u5e38\u5de5\u4f5c\u3002 \u5c1d\u8bd5\u4f7f\u7528\u6211\u7684 tty \u8bbe\u5907\u65f6\u51fa\u73b0\u8f93\u5165/\u8f93\u51fa\u9519\u8bef \u00b6 \u5bf9\u4e8e\u4ece OpenBSD \u7cfb\u7edf\u53d1\u8d77\u7684\u8fde\u63a5\uff0c\u60a8\u9700\u8981\u4f7f\u7528 /dev/cuaXX \u3002 /dev/ttyXX \u8bbe\u5907\u4ec5\u7528\u4e8e\u7ec8\u7aef\u6216\u62e8\u5165\u4f7f\u7528\u3002\u6709\u5173\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 cua(4) \u624b\u518c\u3002","title":"\u952e\u76d8\u548c\u663e\u793a\u63a7\u5236"},{"location":"openbsd-faq/faq7/#openbsd-faq---\u952e\u76d8\u548c\u663e\u793a\u63a7\u5236","text":"","title":"OpenBSD FAQ - \u952e\u76d8\u548c\u663e\u793a\u63a7\u5236"},{"location":"openbsd-faq/faq7/#\u5728\u63a7\u5236\u53f0\u4e0a\u5de5\u4f5c","text":"","title":"\u5728\u63a7\u5236\u53f0\u4e0a\u5de5\u4f5c"},{"location":"openbsd-faq/faq7/#\u91cd\u65b0\u6620\u5c04\u952e\u76d8","text":"kbd(8) \u5b9e\u7528\u7a0b\u5e8f\u53ef\u7528\u4e8e\u66f4\u6539\u952e\u76d8\u7f16\u7801\uff08keyboard encoding\uff09\u3002\u5927\u591a\u6570\u952e\u76d8\u9009\u9879\u90fd\u53ef\u4ee5\u4f7f\u7528 wsconsctl(8) \u5b9e\u7528\u7a0b\u5e8f\u8fdb\u884c\u63a7\u5236\u3002\u4f8b\u5982\uff0c\u8981\u4f7f\u7528 wsconsctl(8) \u66f4\u6539\u952e\u6620\u5c04\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a # wsconsctl keyboard.encoding=uk \u91cd\u65b0\u6620\u5c04 [Caps Lock] \u4e3a\u5de6\u63a7\u5236\u952e [Control L]\uff1a # wsconsctl keyboard.map+=\"keysym Caps_Lock = Control_L\" \u8981\u6c38\u4e45\u66f4\u6539\uff0c\u8bf7\u4f7f\u7528 wsconsctl.conf(5) \u6587\u4ef6\u3002","title":"\u91cd\u65b0\u6620\u5c04\u952e\u76d8"},{"location":"openbsd-faq/faq7/#\u63a7\u5236\u53f0\u9f20\u6807\u652f\u6301","text":"\u5bf9\u4e8e alpha \u3001 amd64 \u548c i386 \u5e73\u53f0\uff0cOpenBSD \u63d0\u4f9b wsmoused(8) \u3002\u5b83\u53ef\u4ee5\u4f7f\u7528 rcctl(8) \u5b9e\u7528\u7a0b\u5e8f\u542f\u7528\uff0c\u5728 rc \u811a\u672c \u7684 FAQ \u4e2d\u4e5f\u6709\u63cf\u8ff0\u3002","title":"\u63a7\u5236\u53f0\u9f20\u6807\u652f\u6301"},{"location":"openbsd-faq/faq7/#\u5207\u6362\u63a7\u5236\u53f0","text":"\u5728\u5927\u591a\u6570 alpha\u3001macppc\u3001amd64 \u548c i386 \u7cfb\u7edf\u4e0a\uff0cOpenBSD \u9ed8\u8ba4\u63d0\u4f9b\u516d\u4e2a\u865a\u62df\u7ec8\u7aef\uff1a /dev/ttyC0 \u5230 /dev/ttyC5 \u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 [CTRL]+[ALT] \u548c [F1] \u5230 [F6] \u5728\u5b83\u4eec\u4e4b\u95f4\u5207\u6362\u3002\u865a\u62df\u7ec8\u7aef ttyC4 \u4fdd\u7559\u4f9b X \u7a97\u53e3\u7cfb\u7edf \u4f7f\u7528\u3002","title":"\u5207\u6362\u63a7\u5236\u53f0"},{"location":"openbsd-faq/faq7/#vga-\u786c\u4ef6\u4e0a\u7684\u63a7\u5236\u53f0","text":"\u6ce8\u610f\uff1a\u672c\u8282\u8ba8\u8bba vga(4) \u9a71\u52a8\u7a0b\u5e8f\u7684\u529f\u80fd\u3002\u5e76\u975e\u6240\u6709\u89c6\u9891\u5361\u90fd\u652f\u6301\u5b83\u4eec\u3002\u4ee5\u4e0b\u8bf4\u660e \u4e0d\u9002\u7528\u4e8e\u4f7f\u7528 drm(4) \u9a71\u52a8\u7a0b\u5e8f\u7684\u73b0\u4ee3\u56fe\u5f62\u786c\u4ef6\u3002","title":"VGA \u786c\u4ef6\u4e0a\u7684\u63a7\u5236\u53f0"},{"location":"openbsd-faq/faq7/#\u56de\u6eda\u7f13\u51b2\u533a","text":"\u5728\u4e00\u4e9b\u5e73\u53f0\u548c\u786c\u4ef6\u7ec4\u5408\u4e0a\uff0cOpenBSD \u63d0\u4f9b\u4e86\u4e00\u4e2a\u63a7\u5236\u53f0\u56de\u6eda\u7f13\u51b2\u533a\u3002\u8fd9\u4f7f\u4f60\u53ef\u4ee5\u67e5\u770b\u5df2\u7ecf\u6eda\u52a8\u8fc7\u5c4f\u5e55\u7684\u4fe1\u606f\u3002\u8981\u5728\u7f13\u51b2\u533a\u4e2d\u4e0a\u4e0b\u79fb\u52a8\uff0c\u8bf7\u4f7f\u7528 [SHIFT]+[PGUP] \u548c [SHIFT]+[PGDN] \u3002\u4f60\u53ef\u4ee5\u5411\u4e0a\u79fb\u52a8\u548c\u67e5\u770b\u7684\u9875\u9762\u6570\u4e3a 8\u3002\u5207\u6362\u63a7\u5236\u53f0\u5c06\u6e05\u9664\u56de\u6eda\u7f13\u51b2\u533a\u3002\u7531\u4e8e\u7a7a\u95f4\u9650\u5236\uff0c\u5b89\u88c5\u5185\u6838\u6ca1\u6709\u8fd9\u4e2a\u529f\u80fd\u3002","title":"\u56de\u6eda\u7f13\u51b2\u533a"},{"location":"openbsd-faq/faq7/#\u6dfb\u52a0\u66f4\u591a\u865a\u62df\u63a7\u5236\u53f0","text":"\u5982\u679c\u60a8\u5e0c\u671b\u62e5\u6709\u591a\u4e8e\u9ed8\u8ba4\u6570\u91cf\u7684\u865a\u62df\u63a7\u5236\u53f0\uff0c\u8bf7\u4f7f\u7528 wsconscfg(8) \u547d\u4ee4\u4e3a ttyC6 \u3001 ttyC7 \u53ca\u66f4\u591a\u7684\u865a\u62df\u63a7\u5236\u53f0\u521b\u5efa\u5c4f\u5e55\u3002\u4f8b\u5982\uff1a # wsconscfg -t 80x25 6 # this will not work on systems using drm(4) \u8fd9\u5c06\u4e3a ttyC6 \u521b\u5efa\u4e00\u4e2a\u865a\u62df\u7ec8\u7aef\uff0c\u901a\u8fc7 [CTRL]+[ALT]+[F7] \u8bbf\u95ee\u3002\u8981\u5728\u65b0\u521b\u5efa\u7684\u865a\u62df\u63a7\u5236\u53f0\u4e0a\u83b7\u5f97 login: \u63d0\u793a\uff0c\u4f60\u9700\u8981\u5728 ttys(5) \u4e2d\u5c06\u5176\u8bbe\u7f6e\u4e3a on \uff0c\u7136\u540e\u91cd\u65b0\u542f\u52a8\u6216\u4f7f\u7528 kill(1) \u5411 init(8) \u53d1\u9001 HUP \u4fe1\u53f7\u3002\u5982\u679c\u4e0b\u6b21\u542f\u52a8\u8ba1\u7b97\u673a\u65f6\u9700\u8981\u989d\u5916\u7684\u5c4f\u5e55\uff0c\u8bf7\u5c06\u6b64\u547d\u4ee4\u6dfb\u52a0\u5230 rc.local(8) \u3002","title":"\u6dfb\u52a0\u66f4\u591a\u865a\u62df\u63a7\u5236\u53f0"},{"location":"openbsd-faq/faq7/#\u66f4\u6539\u63a7\u5236\u53f0\u5b57\u4f53\u548c\u5206\u8fa8\u7387","text":"\u8bb8\u591a alpha\u3001amd64 \u548c i386 \u4e0a\u7684 VGA \u89c6\u9891\u5361\u80fd\u591f\u663e\u793a 50 \u884c\u7684\u66f4\u9ad8\u6587\u672c\u5206\u8fa8\u7387\uff0c\u800c\u4e0d\u662f\u901a\u5e38\u7684 25 \u884c\u3002\u6807\u51c6\u7684 80x25 \u6587\u672c\u5c4f\u5e55\u4f7f\u7528 8x16 \u50cf\u7d20\u5b57\u4f53\u3002\u4e3a\u4e86\u4f7f\u884c\u6570\u52a0\u500d\uff0c\u6211\u4eec\u9996\u5148\u4f7f\u7528 wsfontload(8) \u52a0\u8f7d\u4e00\u4e2a 8x8 \u50cf\u7d20\u7684\u5b57\u4f53\u3002\u7136\u540e\u6211\u4eec\u4f7f\u7528 wsconscfg(8) \u5220\u9664\u5e76\u91cd\u65b0\u521b\u5efa\u4e00\u4e2a\u5177\u6709\u6240\u9700\u5c4f\u5e55\u5206\u8fa8\u7387\u7684\u865a\u62df\u63a7\u5236\u53f0\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u5728 rc.local(8) \u811a\u672c\u7684\u672b\u5c3e\u6dfb\u52a0\u4ee5\u4e0b\u547d\u4ee4\u5728\u542f\u52a8\u65f6\u81ea\u52a8\u5b8c\u6210\uff1a wsfontload -h 8 -e ibm /usr/share/misc/pcvtfonts/vt220l.808 # load 8x8 font wsconscfg -dF 5 # delete screen 5 accessed by [CTRL]+[ALT]+[F6] wsconscfg -t 80x50 5 # add screen 5 with 50 lines of 80 characters \u5982\u679c\u4f60\u5e0c\u671b\u4fee\u6539\u5176\u4ed6\u5c4f\u5e55\uff0c\u53ea\u9700\u4e3a\u4f60\u5e0c\u671b\u4ee5 80x50 \u5206\u8fa8\u7387\u8fd0\u884c\u7684\u4efb\u4f55\u5c4f\u5e55\u91cd\u590d\u4ee5\u4e0a\u5220\u9664\u548c\u6dfb\u52a0\u5c4f\u5e55\u6b65\u9aa4\u3002\u4f60\u65e0\u6cd5\u66f4\u6539\u901a\u8fc7 [CTRL]+[ALT]+[F1] \u8bbf\u95ee\u7684\u4e3b\u63a7\u5236\u53f0\u8bbe\u5907 ttyC0 \u7684\u5206\u8fa8\u7387\u3002\u8bf7\u907f\u514d\u66f4\u6539 X \u7528\u4f5c\u56fe\u5f62\u5c4f\u5e55\u7684\u5c4f\u5e55 4\u3002","title":"\u66f4\u6539\u63a7\u5236\u53f0\u5b57\u4f53\u548c\u5206\u8fa8\u7387"},{"location":"openbsd-faq/faq7/#\u6e05\u7a7a\u975e\u6d3b\u52a8\u63a7\u5236\u53f0","text":"\u5982\u679c\u4f60\u5e0c\u671b\u5728\u4e00\u6bb5\u65f6\u95f4\u4e0d\u6d3b\u52a8\u540e\u4e0d\u4f7f\u7528 X \u6e05\u7a7a\u63a7\u5236\u53f0\uff0c\u8bf7\u4fee\u6539\u4ee5\u4e0b wscons(4) \u53d8\u91cf\uff1a display.screen_off \u786e\u5b9a\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u7684\u6d88\u9690\u65f6\u95f4\uff08the blanking time\uff09\u3002 display.kbdact \u5982\u679c\u8bbe\u7f6e\u4e3a on \uff0c\u952e\u76d8\u6d3b\u52a8\u5c06\u53d6\u6d88\u7a7a\u767d\u5c4f\u5e55\u3002 display.msact \u5982\u679c\u8bbe\u7f6e\u4e3a on \uff0c \u63a7\u5236\u53f0\u9f20\u6807 \u6d3b\u52a8\u5c06\u53d6\u6d88\u7a7a\u767d\u5c4f\u5e55\u3002 display.outact \u5982\u679c\u8bbe\u7f6e\u4e3a on \uff0c\u5c4f\u5e55\u8f93\u51fa\u5c06\u53d6\u6d88\u7a7a\u767d\u5c4f\u5e55\u3002 display.vblank \u5982\u679c\u8bbe\u7f6e\u4e3a on \u5c06\u7981\u7528\u5782\u76f4\u540c\u6b65\u8109\u51b2\u3002\u8fd9\u5c06\u5bfc\u81f4\u8bb8\u591a\u663e\u793a\u5668\u8fdb\u5165\u8282\u80fd\u6a21\u5f0f\u3002 \u4f8b\u5982\uff1a # wsconsctl display.screen_off=60000 display.screen_off -> 60000 \u901a\u8fc7\u7f16\u8f91 wsconsctl.conf(5) \u6c38\u4e45\u8bbe\u7f6e\u5b83\u4eec\u3002\u5f53 display.kbdact \u6216 display.outact \u8bbe\u7f6e\u4e3a on \u65f6\uff0c\u6d88\u9690\u5668\u88ab\u6fc0\u6d3b\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e24\u8005\u4e4b\u4e00\u5fc5\u987b\u5173\u95ed\u3002","title":"\u6e05\u7a7a\u975e\u6d3b\u52a8\u63a7\u5236\u53f0"},{"location":"openbsd-faq/faq7/#\u914d\u7f6e\u4e32\u53e3\u63a7\u5236\u53f0","text":"OpenBSD \u5728\u5927\u591a\u6570\u5e73\u53f0\u4e0a\u90fd\u652f\u6301\u4e32\u53e3\u63a7\u5236\u53f0\uff0c\u4f46\u662f\u4e0d\u540c\u7684\u5e73\u53f0\u4e4b\u95f4\u7684\u7ec6\u8282\u5dee\u5f02\u5f88\u5927\u3002\u9664\u4e86\u5141\u8bb8\u7528\u6237\u767b\u5f55\u5916\uff0c\u5b83\u4eec\u8fd8\u53ef\u7528\u4e8e\u8bb0\u5f55\u63a7\u5236\u53f0\u8f93\u51fa\u3002 \u5728 OpenBSD \u7cfb\u7edf\u4e0a\u83b7\u5f97\u529f\u80fd\u9f50\u5168\u7684\u4e32\u53e3\u63a7\u5236\u53f0\u6709\u4e24\u4e2a\u90e8\u5206\uff1a \u542f\u7528\u4e32\u53e3\u4f5c\u4e3a\u4ea4\u4e92\u7ec8\u7aef\uff0c\u4ee5\u4fbf\u7528\u6237\u5728\u8fd0\u884c\u591a\u7528\u6237\u65f6\u53ef\u4ee5\u767b\u5f55\u3002 \u914d\u7f6e OpenBSD \u4ee5\u4f7f\u7528\u4f60\u7684\u4e32\u53e3\u7aef\u53e3\u4f5c\u4e3a\u72b6\u6001\u548c\u5355\u7528\u6237\u6a21\u5f0f\u7684\u63a7\u5236\u53f0\u3002\u8fd9\u90e8\u5206\u975e\u5e38\u4f9d\u8d56\u5e73\u53f0\u7279\u5b9a\u7684\u914d\u7f6e\u3002","title":"\u914d\u7f6e\u4e32\u53e3\u63a7\u5236\u53f0"},{"location":"openbsd-faq/faq7/#\u66f4\u6539-etcttys-\u4ee5\u83b7\u53d6\u767b\u5f55\u63d0\u793a","text":"\u7ec8\u7aef\u4f1a\u8bdd\u7531 ttys(5) \u6587\u4ef6\u63a7\u5236\u3002\u5728 OpenBSD \u7ed9\u4f60\u4e00\u4e2a login: \u63d0\u793a\u4e4b\u524d\uff0c\u5b83\u5fc5\u987b\u5728 /etc/ttys \u4e2d\u542f\u7528\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e32\u884c\u7ec8\u7aef\u5728\u901a\u5e38\u8fde\u63a5\u6709\u952e\u76d8\u548c\u5c4f\u5e55\u7684\u5e73\u53f0\u4e0a\u662f\u7981\u7528\u7684\u3002\u6211\u4eec\u5c06\u4f7f\u7528 amd64 \u5e73\u53f0\u4f5c\u4e3a\u793a\u4f8b\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u5fc5\u987b\u7f16\u8f91\u4ee5\u4e0b\u884c\uff1a tty00 \"/usr/libexec/getty std.9600\" unknown off \u4fee\u6539\u6210\u5982\u4e0b\u6587\u672c\uff1a tty00 \"/usr/libexec/getty std.9600\" vt220 on secure \u5728\u8fd9\u91cc\uff0c tty00 \u662f\u6211\u4eec\u7528\u4f5c\u63a7\u5236\u53f0\u7684\u4e32\u884c\u7aef\u53e3\uff0c\u800c vt220 \u662f\u4e0e\u4f60\u7684\u7ec8\u7aef\u5339\u914d\u7684 termcap(5) \u6761\u76ee\u3002\u5176\u4ed6\u53ef\u80fd\u7684\u9009\u9879\u53ef\u80fd\u5305\u62ec vt100 \u3001 xterm \u7b49\u3002 on \u901a\u8fc7\u4e3a\u8be5\u4e32\u884c\u7aef\u53e3\u6fc0\u6d3b getty(8) \u6765\u542f\u7528\u767b\u5f55\u63d0\u793a\u3002 secure \u5141\u8bb8\u5728\u6b64\u63a7\u5236\u53f0\u4e0a\u8fdb\u884c root \u767b\u5f55\u3002 9600 \u662f\u7ec8\u7aef\u6ce2\u7279\u7387\u3002 \u8bf7\u6ce8\u610f\uff0c\u4f60\u53ef\u4ee5\u5728\u4e0d\u6267\u884c\u6b64\u6b65\u9aa4\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\u4e32\u884c\u63a7\u5236\u53f0\u8fdb\u884c\u5b89\u88c5\uff0c\u56e0\u4e3a\u7cfb\u7edf\u5728\u5355\u7528\u6237\u6a21\u5f0f\u4e0b\u8fd0\u884c\uff0c\u800c\u4e0d\u662f\u4f7f\u7528 getty \u8fdb\u884c\u767b\u5f55\u3002","title":"\u66f4\u6539 /etc/ttys \u4ee5\u83b7\u53d6\u767b\u5f55\u63d0\u793a"},{"location":"openbsd-faq/faq7/#amd64-\u548c-i386","text":"\u8981\u5c06\u542f\u52a8\u8fc7\u7a0b\u914d\u7f6e\u4e3a\u4f7f\u7528\u4e32\u884c\u7aef\u53e3\u4f5c\u4e3a\u63a7\u5236\u53f0\uff0c\u4f60\u7684 boot.conf(5) \u6587\u4ef6\u5e94\u5305\u542b\u4ee5\u4e0b\u884c\uff1a set tty com0 \u8bf7\u5c06\u8fd9\u4e2a\u6587\u4ef6\u653e\u5728\u4f60\u7684\u542f\u52a8\u9a71\u52a8\u5668\u4e0a\uff0c\u5b83\u4e5f\u653e\u5728\u4f60\u7684\u5b89\u88c5\u4ecb\u8d28\u4e2d\u3002\u5982\u679c\u4f60\u9700\u8981 9600bps \u4ee5\u5916\u7684\u6ce2\u7279\u7387\uff0c\u8bf7\u4f7f\u7528 stty \u9009\u9879\u3002 \u67d0\u4e9b\u7cfb\u7edf\u53ef\u80fd\u80fd\u591f\u5728\u673a\u5668\u4e2d\u6ca1\u6709\u89c6\u9891\u5361\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\uff0c\u4f46\u80af\u5b9a\u4e0d\u662f\u6240\u6709\u7cfb\u7edf\u2014\u2014\u8bb8\u591a\u4eba\u8ba4\u4e3a\u8fd9\u662f\u4e00\u79cd\u9519\u8bef\u60c5\u51b5\u3002\u5176\u4ed6\u4eba\u80fd\u591f\u901a\u8fc7\u914d\u7f6e\u9009\u9879\u5c06\u6240\u6709 BIOS \u952e\u76d8\u548c\u5c4f\u5e55\u6d3b\u52a8\u91cd\u5b9a\u5411\u5230\u4e32\u884c\u7aef\u53e3\uff0c\u56e0\u6b64\u53ef\u4ee5\u5b8c\u5168\u901a\u8fc7\u4e32\u884c\u7aef\u53e3\u7ef4\u62a4\u673a\u5668\u3002\u4f60\u7684\u7ed3\u679c\u53ef\u80fd\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u4f7f\u7528\u6b64\u529f\u80fd\u65f6\uff0c\u67d0\u4e9b BIOS \u5b9e\u73b0\u53ef\u80fd\u4f1a\u963b\u6b62\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u770b\u5230\u4e32\u884c\u7aef\u53e3\uff0c\u56e0\u6b64\u4e0d\u4f1a\u544a\u8bc9\u5185\u6838\u4f7f\u7528\u5b83\u3002\u53ef\u80fd\u6709\u4e00\u4e2a BIOS \u9009\u9879 \u201cContinue Console Redirection after POST.\u201d\u3002\u8fd9\u5e94\u8be5\u8bbe\u7f6e\u4e3a OFF \uff0c\u4ee5\u4fbf\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u548c\u5185\u6838\u53ef\u4ee5\u5904\u7406\u4ed6\u4eec\u81ea\u5df1\u7684\u63a7\u5236\u53f0\u3002 \u8981\u5728\u591a\u7528\u6237\u6a21\u5f0f\u4e0b\u4f7f\u7528\u673a\u5668\uff0c\u4f60\u9700\u8981\u6309 \u4e0a\u8ff0\u8bf4\u660e \u7f16\u8f91 /etc/ttys \u3002","title":"amd64 \u548c i386"},{"location":"openbsd-faq/faq7/#sparc64","text":"\u8fd9\u4e9b\u673a\u5668\u8bbe\u8ba1\u4e3a\u53ef\u901a\u8fc7\u4e32\u884c\u63a7\u5236\u53f0\u8fdb\u884c\u5b8c\u5168\u7ef4\u62a4\u3002\u53ea\u9700\u4ece\u673a\u5668\u4e0a\u53d6\u4e0b\u952e\u76d8\uff0c\u7cfb\u7edf\u5c31\u4f1a\u4e32\u884c\u8fd0\u884c\u3002 \u5728\u67d0\u4e9b\u7cfb\u7edf\u4e0a\uff0c\u4e32\u884c\u7aef\u53e3\u6807\u8bb0\u4e3a ttya \u3001 ttyb \u3001 ttyh0 \u6216 ttyh1 \u3002\u5728\u591a\u7528\u6237\u6a21\u5f0f\u4e0b\u4f7f\u7528\u4e32\u884c\u63a7\u5236\u53f0\u4e0d\u9700\u8981\u5bf9 /etc/ttys \u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002 \u4e00\u4e9b sparc64 \u7cfb\u7edf\u5c06\u63a7\u5236\u53f0\u7aef\u53e3\u7684 BREAK \u4fe1\u53f7\u89e3\u91ca\u4e3a\u4e0e STOP-A \u547d\u4ee4\u76f8\u540c\u3002\u8fd9\u5c06\u4f7f\u7cfb\u7edf\u56de\u5230 Forth \u63d0\u793a\u7b26\uff0c\u5e76\u5728\u6b64\u65f6\u505c\u6b62\u4efb\u4f55\u5e94\u7528\u7a0b\u5e8f\u548c\u64cd\u4f5c\u7cfb\u7edf\u3002\u8fd9\u5728\u9700\u8981\u65f6\u662f\u5f88\u65b9\u4fbf\u7684\uff0c\u4f46\u4e0d\u5e78\u7684\u662f\uff0c\u4e00\u4e9b\u4e32\u884c\u7ec8\u7aef\u5728\u65ad\u7535\u65f6\u548c\u4e00\u4e9b RS-232 \u5f00\u5173\u8bbe\u5907\u4f1a\u53d1\u9001\u4e00\u4e9b\u88ab\u8ba1\u7b97\u673a\u89e3\u91ca\u4e3a\u4e2d\u65ad\u4fe1\u53f7\u7684\u4e1c\u897f\uff0c\u4f7f\u673a\u5668\u505c\u6b62\u5de5\u4f5c\u3002\u8bf7\u5728\u4f60\u8fdb\u5165\u751f\u4ea7\u4e4b\u524d\u8fdb\u884c\u6d4b\u8bd5\u3002 \u5982\u679c\u60a8\u8fde\u63a5\u4e86\u952e\u76d8\u548c\u663e\u793a\u5668\uff0c\u60a8\u4ecd\u7136\u53ef\u4ee5\u901a\u8fc7\u5728 ok \u63d0\u793a\u7b26\u4e0b\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u5f3a\u5236\u4f7f\u7528\u4e32\u884c\u63a7\u5236\u53f0\uff1a ok setenv input-device ttya ok setenv output-device ttya ok reset \u5982\u679c ttyC0 \u5728 /etc/ttys \u4e2d\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\uff0c \u5982\u4e0a\u6240\u8ff0 \uff0c\u4f60\u53ef\u4ee5\u5728 X \u4e2d\u4f7f\u7528\u952e\u76d8\u548c\u76d1\u89c6\u5668\u3002","title":"sparc64"},{"location":"openbsd-faq/faq7/#macppc","text":"macppc \u673a\u5668\u901a\u8fc7 OpenFirmware \u914d\u7f6e\u4e3a\u4e32\u884c\u63a7\u5236\u53f0\u3002\u4f7f\u7528\u547d\u4ee4\uff1a ok setenv output-device scca ok setenv input-device scca ok reset-all \u5c06\u60a8\u7684\u4e32\u884c\u63a7\u5236\u53f0\u8bbe\u7f6e\u4e3a 57600bps\uff0c8N1\u3002 \u4e0d\u5e78\u7684\u662f\uff0c\u5728\u5927\u591a\u6570 MacPPC \u4e0a\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u4e32\u884c\u63a7\u5236\u53f0\u3002\u867d\u7136\u8fd9\u4e9b\u673a\u5668\u4e2d\u7684\u5927\u591a\u6570\u90fd\u6709\u4e32\u884c\u786c\u4ef6\uff0c\u4f46\u5728\u673a\u5668\u5916\u90e8\u65e0\u6cd5\u8bbf\u95ee\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u4e00\u4e9b\u516c\u53f8\u4e3a\u51e0\u79cd Macintosh \u578b\u53f7\u63d0\u4f9b\u4e86\u9644\u52a0\u8bbe\u5907\uff0c\u8fd9\u5c06\u4f7f\u8be5\u7aef\u53e3\u53ef\u7528\u4f5c\u4e32\u884c\u63a7\u5236\u53f0\u3002 \u4f60\u5fc5\u987b\u5c06 /etc/ttys \u4e2d\u7684 tty00 \u66f4\u6539\u4e3a on \u5e76\u5c06\u901f\u5ea6\u8bbe\u7f6e\u4e3a 57600 \u800c\u4e0d\u662f\u9ed8\u8ba4\u7684 9600 \uff0c\u5982 \u4e0a\u9762 \u5728\u5355\u7528\u6237\u6a21\u5f0f\u4e2d\u8be6\u8ff0\u7684\u90a3\u6837\uff0c\u7136\u540e\u624d\u80fd\u542f\u52a8\u591a\u7528\u6237\u5e76\u8ba9\u4e32\u884c\u63a7\u5236\u53f0\u6b63\u5e38\u5de5\u4f5c\u3002","title":"macppc"},{"location":"openbsd-faq/faq7/#\u5c1d\u8bd5\u4f7f\u7528\u6211\u7684-tty-\u8bbe\u5907\u65f6\u51fa\u73b0\u8f93\u5165\u8f93\u51fa\u9519\u8bef","text":"\u5bf9\u4e8e\u4ece OpenBSD \u7cfb\u7edf\u53d1\u8d77\u7684\u8fde\u63a5\uff0c\u60a8\u9700\u8981\u4f7f\u7528 /dev/cuaXX \u3002 /dev/ttyXX \u8bbe\u5907\u4ec5\u7528\u4e8e\u7ec8\u7aef\u6216\u62e8\u5165\u4f7f\u7528\u3002\u6709\u5173\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 cua(4) \u624b\u518c\u3002","title":"\u5c1d\u8bd5\u4f7f\u7528\u6211\u7684 tty \u8bbe\u5907\u65f6\u51fa\u73b0\u8f93\u5165/\u8f93\u51fa\u9519\u8bef"},{"location":"openbsd-faq/faq_of_faq/","text":"\u5e38\u89c1\u95ee\u9898\u7684\u5e38\u89c1\u95ee\u9898 \u00b6 \u672c\u6587\u7684\u76ee\u7684 \u00b6 \u4e3a OpenBSD FAQ \u6587\u6863\u5bb9\u6613\u6df7\u6dc6\u7684\u4e8b\u7269\u8fdb\u884c\u8bf4\u660e\uff1b \u4f5c\u4e3a\u4e00\u4e2a\u5199\u4f5c\u4e0e\u7ffb\u8bd1\u53c2\u8003\u89c4\u8303\u3002 \u683c\u5f0f \u00b6 \u8bf7\u5728\u5206\u5272\u7ebf\u540e\uff0c\u4ee5\u4e00\u7ea7\u6807\u9898\u7684\u5f62\u5f0f\u6dfb\u52a0\u4e00\u4e2a\u65b0 faq\uff0c\u7136\u540e\u7b80\u660e\u627c\u8981\u5730\u53d9\u8ff0\u76f8\u5173\u5185\u5bb9\u3002 \u5982\u679c\u6d89\u53ca\u4e13\u6709\u540d\u8bcd\u91ca\u4e49\uff0c\u8bf7\u4f18\u5148\u5199\u5165\u5230\u672f\u8bed\u8868\u4e2d\uff08 docs/about/terminology.md \uff09","title":"\u5e38\u89c1\u95ee\u9898\u7684\u5e38\u89c1\u95ee\u9898"},{"location":"openbsd-faq/faq_of_faq/#\u5e38\u89c1\u95ee\u9898\u7684\u5e38\u89c1\u95ee\u9898","text":"","title":"\u5e38\u89c1\u95ee\u9898\u7684\u5e38\u89c1\u95ee\u9898"},{"location":"openbsd-faq/faq_of_faq/#\u672c\u6587\u7684\u76ee\u7684","text":"\u4e3a OpenBSD FAQ \u6587\u6863\u5bb9\u6613\u6df7\u6dc6\u7684\u4e8b\u7269\u8fdb\u884c\u8bf4\u660e\uff1b \u4f5c\u4e3a\u4e00\u4e2a\u5199\u4f5c\u4e0e\u7ffb\u8bd1\u53c2\u8003\u89c4\u8303\u3002","title":"\u672c\u6587\u7684\u76ee\u7684"},{"location":"openbsd-faq/faq_of_faq/#\u683c\u5f0f","text":"\u8bf7\u5728\u5206\u5272\u7ebf\u540e\uff0c\u4ee5\u4e00\u7ea7\u6807\u9898\u7684\u5f62\u5f0f\u6dfb\u52a0\u4e00\u4e2a\u65b0 faq\uff0c\u7136\u540e\u7b80\u660e\u627c\u8981\u5730\u53d9\u8ff0\u76f8\u5173\u5185\u5bb9\u3002 \u5982\u679c\u6d89\u53ca\u4e13\u6709\u540d\u8bcd\u91ca\u4e49\uff0c\u8bf7\u4f18\u5148\u5199\u5165\u5230\u672f\u8bed\u8868\u4e2d\uff08 docs/about/terminology.md \uff09","title":"\u683c\u5f0f"},{"location":"others/","text":"","title":"Index"},{"location":"others/current/","text":"OpenBSD - \u8ddf\u968f -current \u548c\u4f7f\u7528\u5feb\u7167 \u00b6 \u6d3b\u8dc3\u7684 OpenBSD \u5f00\u53d1\u88ab\u79f0\u4e3a -current \u5206\u652f\u3002 \u8fd9\u4e9b\u6e90\u4ee3\u7801\u7ecf\u5e38\u88ab\u7f16\u8bd1\u6210\u79f0\u4e3a\u5feb\u7167\uff08snapshots\uff09\u7684\u7248\u672c\u3002 \u6211\u4eec\u6709\u65f6\u4f1a\u5728\u6b64\u5206\u652f\u4e2d\u63a8\u9001\u6fc0\u8fdb\u7684\u66f4\u6539\uff0c\u5e76\u4e14\u5728\u7f16\u8bd1\u6700\u65b0\u4ee3\u7801\u6216\u4ece\u4ee5\u524d\u7684\u65f6\u95f4\u5feb\u7167\u70b9\u5347\u7ea7\u65f6\u53ef\u80fd\u4f1a\u51fa\u73b0\u590d\u6742\u60c5\u51b5\u3002\u672c\u9875\u89e3\u91ca\u4e86\u514b\u670d\u8fd9\u4e9b\u969c\u788d\u7684\u4e00\u4e9b\u6b65\u9aa4\u3002\u5728\u4f7f\u7528 -current \u548c\u4ee5\u4e0b\u8bf4\u660e\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u4f60\u5df2\u9605\u8bfb\u5e76\u4e86\u89e3 \u5982\u4f55\u4ece\u6e90\u4ee3\u7801\u6784\u5efa\u7cfb\u7edf \u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u4f7f\u7528\u5feb\u7167\u8981\u5bb9\u6613\u5f97\u591a\uff0c\u56e0\u4e3a\u5f00\u53d1\u4eba\u5458\u5df2\u7ecf\u4e3a\u4f60\u89e3\u51b3\u4e86\u5f88\u591a\u9ebb\u70e6\u3002 \u4f60\u5e94\u8be5 \u59cb\u7ec8 \u4f7f\u7528\u5feb\u7167\u4f5c\u4e3a\u8fd0\u884c -current \u7684\u8d77\u70b9\u3002\u6b64\u8fc7\u7a0b\u901a\u5e38\u5305\u62ec\u8fd0\u884c\u5e26\u6709 -s \u6807\u5fd7\u7684 sysupgrade(8) \u3002\u6216\u8005\uff0c\u4ece\u9996\u9009\u955c\u50cf\u7684 /snapshots/ \u76ee\u5f55\u4e0b\u8f7d\uff08\u5e76\u9a8c\u8bc1\uff09\u5408\u9002\u7684 bsd.rd \u6587\u4ef6\uff0c\u5e76\u4ece\u8be5\u6587\u4ef6\u5f15\u5bfc\uff0c\u7136\u540e\u5728\u63d0\u793a\u7b26\u5904\u9009\u62e9 (U)pgrade \u3002\u4efb\u4f55\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\u90fd\u5e94\u5728\u5f15\u5bfc\u81f3\u65b0\u7cfb\u7edf\u540e\u8fdb\u884c\u5347\u7ea7\u3002 \u4e0d\u9f13\u52b1\u9664\u4e13\u5bb6\u4e4b\u5916\u7684\u6240\u6709\u4eba\u901a\u8fc7\u7f16\u8bd1\u81ea\u5df1\u7684\u6e90\u4ee3\u7801\u5347\u7ea7\u5230 -current \uff0c\u56e0\u4e3a\u56f0\u96be\u7684\u6784\u5efa\u65f6\u4ea4\u53c9\u70b9\u7ecf\u5e38\u53d1\u751f\uff0c\u5e76\u4e14\u6211\u4eec\u4e0d\u4f1a\u63d0\u4f9b\u4efb\u4f55\u5e2e\u52a9\u3002\u5982\u679c\u51fa\u73b0\u6545\u969c\uff0c\u8bf7\u4f7f\u7528\u5feb\u7167\u8fdb\u884c\u6062\u590d\u3002 \u5927\u591a\u6570\u8fd9\u4e9b\u66f4\u6539\u90fd\u5fc5\u987b\u4ee5 root \u8eab\u4efd\u6267\u884c\u3002 2021/11/01 - sndio(7) \u63cf\u8ff0\u7b26\u683c\u5f0f\u66f4\u6539 \u00b6 \u5982\u679c\u4f60\u5c06\u97f3\u9891\u8bbe\u5907\u63cf\u8ff0\u7b26\uff08descriptors\uff09\u663e\u5f0f\u4f20\u9012\u7ed9\u7a0b\u5e8f\uff08\u901a\u8fc7\u7a0b\u5e8f\u9009\u9879\u6216\u901a\u8fc7 AUDIODEVICE \u73af\u5883\u53d8\u91cf\uff09\uff0c\u5219\u53ef\u80fd\u9700\u8981\u6309\u5982\u4e0b\u65b9\u5f0f\u66f4\u65b0\u63cf\u8ff0\u7b26\u3002\u5426\u5219\uff0c\u8bf7\u8df3\u8fc7\u672c\u8282\u3002 sndio(8) \u66b4\u9732\u7684\u97f3\u9891\u8bbe\u5907\u4e0d\u518d\u7ed1\u5b9a\u5230\u7269\u7406\u97f3\u9891\u8bbe\u5907\uff0c\u56e0\u6b64 sndio(7) \u63cf\u8ff0\u7b26\u7684\u7269\u7406\u97f3\u9891\u8bbe\u5907\u7f16\u53f7\u7ec4\u4ef6\u88ab\u5220\u9664\u3002\u4f8b\u5982\uff0c\u5982\u679c\u670d\u52a1\u5668\u4ee5\u4ee5\u4e0b\u65b9\u5f0f\u542f\u52a8\uff1a # sndiod -f rsnd/0 -s foo -f rsnd/1 -s bar \u90a3\u4e48\u7a0b\u5e8f\u5c06\u9700\u8981\u4f7f\u7528 \u201c snd/foo \u201d \u548c \u201c snd/bar \u201d\uff08\u800c\u4e0d\u662f \u201c snd/0.foo \u201d \u548c \u201c snd/1.bar \u201d\uff09\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7a0b\u5e8f\u5c06\u5c1d\u8bd5\u4f7f\u7528 \u201c snd/default \u201d\uff08\u800c\u4e0d\u662f \u201c snd/0 \u201d\uff09\u3002\u9664\u975e\u4f7f\u7528 -s default \u9009\u9879\uff0c\u5426\u5219 \u201c snd/default \u201d \u4f1a\u81ea\u52a8\u521b\u5efa\u5e76\u9644\u52a0\u5230\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u7684\u7b2c\u4e00\u4e2a\u7269\u7406\u97f3\u9891\u8bbe\u5907\uff08\u5373\u7b2c\u4e00\u4e2a -f \u6216 -F \u9009\u9879\uff09\u3002\u5982\u679c\u9700\u8981\uff0c\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u4f7f\u7528 sndioctl(1) \u516c\u5f00\u7684 server.device \u63a7\u4ef6\u66f4\u6539\u6b64\u8bbe\u7f6e\u3002 \u5bf9\u4e8e\u670d\u52a1\u5668\u7ba1\u7406\u7684\u6bcf\u4e2a\u7269\u7406\u8bbe\u5907\uff08\u5373\u6bcf\u4e2a -f \u6216 -F \u9009\u9879\uff09\uff0c\u670d\u52a1\u5668\u8fd8\u516c\u5f00\u7ed1\u5b9a\u5230\u76f8\u540c\u7f16\u53f7\u7684\u7269\u7406\u8bbe\u5907\u7684 \u201c snd/<number> \u201d \u63cf\u8ff0\u7b26\u3002\u56e0\u6b64\uff0c\u201c snd/0 \u201d\u3001\u201c snd/1 \u201d \u2026\u2026\u7b49\u4ecd\u7136\u53ef\u4ee5\u7528\u6765\u6307\u4ee3\u7279\u5b9a\u7684\u7269\u7406\u8bbe\u5907\u3002 2021/11/03 - xterm(1) \u9ed8\u8ba4\u7981\u7528\u9f20\u6807\u652f\u6301 \u00b6 xterm(1) \u4e2d\u9ed8\u8ba4\u7981\u7528\u9f20\u6807\u652f\u6301\u3002\u53ef\u4ee5\u901a\u8fc7\u5c06\u4ee5\u4e0b\u5185\u5bb9\u6dfb\u52a0\u5230 .Xresources \u6765\u91cd\u65b0\u542f\u7528\u5b83\uff1a xterm*allowMouseOps: true","title":"\u8ddf\u968f -current \u548c\u4f7f\u7528\u5feb\u7167"},{"location":"others/current/#openbsd---\u8ddf\u968f--current-\u548c\u4f7f\u7528\u5feb\u7167","text":"\u6d3b\u8dc3\u7684 OpenBSD \u5f00\u53d1\u88ab\u79f0\u4e3a -current \u5206\u652f\u3002 \u8fd9\u4e9b\u6e90\u4ee3\u7801\u7ecf\u5e38\u88ab\u7f16\u8bd1\u6210\u79f0\u4e3a\u5feb\u7167\uff08snapshots\uff09\u7684\u7248\u672c\u3002 \u6211\u4eec\u6709\u65f6\u4f1a\u5728\u6b64\u5206\u652f\u4e2d\u63a8\u9001\u6fc0\u8fdb\u7684\u66f4\u6539\uff0c\u5e76\u4e14\u5728\u7f16\u8bd1\u6700\u65b0\u4ee3\u7801\u6216\u4ece\u4ee5\u524d\u7684\u65f6\u95f4\u5feb\u7167\u70b9\u5347\u7ea7\u65f6\u53ef\u80fd\u4f1a\u51fa\u73b0\u590d\u6742\u60c5\u51b5\u3002\u672c\u9875\u89e3\u91ca\u4e86\u514b\u670d\u8fd9\u4e9b\u969c\u788d\u7684\u4e00\u4e9b\u6b65\u9aa4\u3002\u5728\u4f7f\u7528 -current \u548c\u4ee5\u4e0b\u8bf4\u660e\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u4f60\u5df2\u9605\u8bfb\u5e76\u4e86\u89e3 \u5982\u4f55\u4ece\u6e90\u4ee3\u7801\u6784\u5efa\u7cfb\u7edf \u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u4f7f\u7528\u5feb\u7167\u8981\u5bb9\u6613\u5f97\u591a\uff0c\u56e0\u4e3a\u5f00\u53d1\u4eba\u5458\u5df2\u7ecf\u4e3a\u4f60\u89e3\u51b3\u4e86\u5f88\u591a\u9ebb\u70e6\u3002 \u4f60\u5e94\u8be5 \u59cb\u7ec8 \u4f7f\u7528\u5feb\u7167\u4f5c\u4e3a\u8fd0\u884c -current \u7684\u8d77\u70b9\u3002\u6b64\u8fc7\u7a0b\u901a\u5e38\u5305\u62ec\u8fd0\u884c\u5e26\u6709 -s \u6807\u5fd7\u7684 sysupgrade(8) \u3002\u6216\u8005\uff0c\u4ece\u9996\u9009\u955c\u50cf\u7684 /snapshots/ \u76ee\u5f55\u4e0b\u8f7d\uff08\u5e76\u9a8c\u8bc1\uff09\u5408\u9002\u7684 bsd.rd \u6587\u4ef6\uff0c\u5e76\u4ece\u8be5\u6587\u4ef6\u5f15\u5bfc\uff0c\u7136\u540e\u5728\u63d0\u793a\u7b26\u5904\u9009\u62e9 (U)pgrade \u3002\u4efb\u4f55\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\u90fd\u5e94\u5728\u5f15\u5bfc\u81f3\u65b0\u7cfb\u7edf\u540e\u8fdb\u884c\u5347\u7ea7\u3002 \u4e0d\u9f13\u52b1\u9664\u4e13\u5bb6\u4e4b\u5916\u7684\u6240\u6709\u4eba\u901a\u8fc7\u7f16\u8bd1\u81ea\u5df1\u7684\u6e90\u4ee3\u7801\u5347\u7ea7\u5230 -current \uff0c\u56e0\u4e3a\u56f0\u96be\u7684\u6784\u5efa\u65f6\u4ea4\u53c9\u70b9\u7ecf\u5e38\u53d1\u751f\uff0c\u5e76\u4e14\u6211\u4eec\u4e0d\u4f1a\u63d0\u4f9b\u4efb\u4f55\u5e2e\u52a9\u3002\u5982\u679c\u51fa\u73b0\u6545\u969c\uff0c\u8bf7\u4f7f\u7528\u5feb\u7167\u8fdb\u884c\u6062\u590d\u3002 \u5927\u591a\u6570\u8fd9\u4e9b\u66f4\u6539\u90fd\u5fc5\u987b\u4ee5 root \u8eab\u4efd\u6267\u884c\u3002","title":"OpenBSD - \u8ddf\u968f -current \u548c\u4f7f\u7528\u5feb\u7167"},{"location":"others/current/#20211101---sndio7-\u63cf\u8ff0\u7b26\u683c\u5f0f\u66f4\u6539","text":"\u5982\u679c\u4f60\u5c06\u97f3\u9891\u8bbe\u5907\u63cf\u8ff0\u7b26\uff08descriptors\uff09\u663e\u5f0f\u4f20\u9012\u7ed9\u7a0b\u5e8f\uff08\u901a\u8fc7\u7a0b\u5e8f\u9009\u9879\u6216\u901a\u8fc7 AUDIODEVICE \u73af\u5883\u53d8\u91cf\uff09\uff0c\u5219\u53ef\u80fd\u9700\u8981\u6309\u5982\u4e0b\u65b9\u5f0f\u66f4\u65b0\u63cf\u8ff0\u7b26\u3002\u5426\u5219\uff0c\u8bf7\u8df3\u8fc7\u672c\u8282\u3002 sndio(8) \u66b4\u9732\u7684\u97f3\u9891\u8bbe\u5907\u4e0d\u518d\u7ed1\u5b9a\u5230\u7269\u7406\u97f3\u9891\u8bbe\u5907\uff0c\u56e0\u6b64 sndio(7) \u63cf\u8ff0\u7b26\u7684\u7269\u7406\u97f3\u9891\u8bbe\u5907\u7f16\u53f7\u7ec4\u4ef6\u88ab\u5220\u9664\u3002\u4f8b\u5982\uff0c\u5982\u679c\u670d\u52a1\u5668\u4ee5\u4ee5\u4e0b\u65b9\u5f0f\u542f\u52a8\uff1a # sndiod -f rsnd/0 -s foo -f rsnd/1 -s bar \u90a3\u4e48\u7a0b\u5e8f\u5c06\u9700\u8981\u4f7f\u7528 \u201c snd/foo \u201d \u548c \u201c snd/bar \u201d\uff08\u800c\u4e0d\u662f \u201c snd/0.foo \u201d \u548c \u201c snd/1.bar \u201d\uff09\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7a0b\u5e8f\u5c06\u5c1d\u8bd5\u4f7f\u7528 \u201c snd/default \u201d\uff08\u800c\u4e0d\u662f \u201c snd/0 \u201d\uff09\u3002\u9664\u975e\u4f7f\u7528 -s default \u9009\u9879\uff0c\u5426\u5219 \u201c snd/default \u201d \u4f1a\u81ea\u52a8\u521b\u5efa\u5e76\u9644\u52a0\u5230\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u7684\u7b2c\u4e00\u4e2a\u7269\u7406\u97f3\u9891\u8bbe\u5907\uff08\u5373\u7b2c\u4e00\u4e2a -f \u6216 -F \u9009\u9879\uff09\u3002\u5982\u679c\u9700\u8981\uff0c\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u4f7f\u7528 sndioctl(1) \u516c\u5f00\u7684 server.device \u63a7\u4ef6\u66f4\u6539\u6b64\u8bbe\u7f6e\u3002 \u5bf9\u4e8e\u670d\u52a1\u5668\u7ba1\u7406\u7684\u6bcf\u4e2a\u7269\u7406\u8bbe\u5907\uff08\u5373\u6bcf\u4e2a -f \u6216 -F \u9009\u9879\uff09\uff0c\u670d\u52a1\u5668\u8fd8\u516c\u5f00\u7ed1\u5b9a\u5230\u76f8\u540c\u7f16\u53f7\u7684\u7269\u7406\u8bbe\u5907\u7684 \u201c snd/<number> \u201d \u63cf\u8ff0\u7b26\u3002\u56e0\u6b64\uff0c\u201c snd/0 \u201d\u3001\u201c snd/1 \u201d \u2026\u2026\u7b49\u4ecd\u7136\u53ef\u4ee5\u7528\u6765\u6307\u4ee3\u7279\u5b9a\u7684\u7269\u7406\u8bbe\u5907\u3002","title":"2021/11/01 - sndio(7) \u63cf\u8ff0\u7b26\u683c\u5f0f\u66f4\u6539"},{"location":"others/current/#20211103---xterm1-\u9ed8\u8ba4\u7981\u7528\u9f20\u6807\u652f\u6301","text":"xterm(1) \u4e2d\u9ed8\u8ba4\u7981\u7528\u9f20\u6807\u652f\u6301\u3002\u53ef\u4ee5\u901a\u8fc7\u5c06\u4ee5\u4e0b\u5185\u5bb9\u6dfb\u52a0\u5230 .Xresources \u6765\u91cd\u65b0\u542f\u7528\u5b83\uff1a xterm*allowMouseOps: true","title":"2021/11/03 - xterm(1) \u9ed8\u8ba4\u7981\u7528\u9f20\u6807\u652f\u6301"},{"location":"others/mail/","text":"OpenBSD - \u90ae\u4ef6\u5217\u8868 \u00b6 \u90ae\u4ef6\u5217\u8868\u662f OpenBSD \u7528\u6237\u548c\u5f00\u53d1\u4eba\u5458\u4e4b\u95f4\u4ea4\u6d41\u7684\u91cd\u8981\u624b\u6bb5\u3002\u9664 \u516c\u544a \u5916\uff0c\u8fd9\u4e9b\u5217\u8868\u5747\u672a\u7ecf\u8fc7\u5ba1\u6838\u3002\u6211\u4eec\u6709\u610f\u9650\u5236\u4e0d\u540c\u90ae\u4ef6\u5217\u8868\u7684\u6570\u91cf\u3002\u8fd9\u6709\u52a9\u4e8e\u51cf\u5c11\u4ea4\u53c9\u53d1\u5e03\u7684\u6570\u91cf\uff0c\u5e76\u786e\u4fdd\u5c06\u4fe1\u606f\u5206\u53d1\u7ed9\u5e7f\u6cdb\u7684\u53d7\u4f17\u3002 \u7f51\u7edc\u793c\u4eea \u00b6 \u8003\u8651\u90ae\u4ef6\u5217\u8868\u4e2d\u7684\u5176\u4ed6\u8ba2\u9605\u8005\u3002 \u7eaf\u6587\u672c\uff0c\u6bcf\u884c 72 \u4e2a\u5b57\u7b26\u3002 \u8bb8\u591a\u8ba2\u9605\u8005\u548c\u5f00\u53d1\u4eba\u5458\u5728\u57fa\u4e8e\u6587\u672c\u7684\u90ae\u4ef6\u7a0b\u5e8f\uff08\u5982 mail(1) \u3001emacs \u6216 mutt\uff09\u4e0a\u9605\u8bfb\u4ed6\u4eec\u7684\u90ae\u4ef6\uff0c\u5e76\u4e14\u4ed6\u4eec\u7ecf\u5e38\u53d1\u73b0 HTML \u683c\u5f0f\u7684\u90ae\u4ef6\uff08\u6216\u8d85\u8fc7 72 \u4e2a\u5b57\u7b26\u7684\u884c\uff09\u4e0d\u53ef\u8bfb\u3002\u5927\u591a\u6570 OpenBSD \u90ae\u4ef6\u5217\u8868\u4f1a\u5728\u5c06 MIME \u5185\u5bb9\u7684\u6d88\u606f\u53d1\u9001\u5230\u5217\u8868\u7684\u5176\u4f59\u90e8\u5206\u4e4b\u524d\u5c06\u5b83\u4eec\u5265\u79bb\u3002\u5982\u679c\u4f60\u4e0d\u4f7f\u7528\u7eaf\u6587\u672c\uff0c\u4f60\u7684\u90ae\u4ef6\u5c06\u88ab\u91cd\u65b0\u683c\u5f0f\u5316\u3002\u5982\u679c\u5b83\u4eec\u4e0d\u80fd\u88ab\u91cd\u65b0\u683c\u5f0f\u5316\uff0c\u5b83\u4eec\u5c06\u88ab\u7acb\u5373\u62d2\u7edd\u3002 \u552f\u4e00\u5141\u8bb8\u6587\u4ef6\u9644\u4ef6\u7684\u90ae\u4ef6\u5217\u8868\u662f bugs \u3001 ports \u548c tech \u5217\u8868\u3002\u4ed6\u4eec\u5c06\u4ece\u5176\u4ed6\u4eba\u7684\u6d88\u606f\u4e2d\u5220\u9664\u3002 \u53d1\u5e16\u524d\u505a\u597d\u529f\u8bfe\u3002 \u5982\u679c\u4f60\u6709\u5b89\u88c5\u95ee\u9898\uff0c\u8bf7\u786e\u4fdd\u4f60\u5df2\u9605\u8bfb\u76f8\u5173\u6587\u6863\uff0c\u4f8b\u5982\u5b89\u88c5\u76ee\u5f55\u4e2d\u7684 INSTALL.* \u6587\u672c\u6587\u4ef6\u3001 FAQ \u548c\u76f8\u5173\u624b\u518c\u9875\uff08\u4ece afterboot(8) \u5f00\u59cb\uff09\u3002 \u8fd8\u8981\u68c0\u67e5\u90ae\u4ef6\u5217\u8868\u6863\u6848\u3002 \u6211\u4eec\u60f3\u63d0\u4f9b\u5e2e\u52a9\uff0c\u4f46\u6211\u4eec\u4e0d\u60f3\u5265\u593a\u4f60\u5b9d\u8d35\u7684\u5b66\u4e60\u7ecf\u9a8c\uff0c\u800c\u4e14\u6ca1\u6709\u4eba\u5e0c\u671b\u5728\u4e00\u4e2a\u6708\u5185\u7b2c\u4e94\u6b21\u5728\u5217\u8868\u4e2d\u770b\u5230\u76f8\u540c\u7684\u95ee\u9898\u3002 \u5305\u62ec\u4e00\u4e2a\u6709\u7528\u7684\u4e3b\u9898\u884c\u3002 \u4e3b\u9898\u4e3a\u7a7a\u7684\u90ae\u4ef6\u5c06\u88ab\u9000\u56de\u5230\u5217\u8868\u7ba1\u7406\u5668\uff0c\u5e76\u4e14\u9700\u8981\u66f4\u957f\u7684\u65f6\u95f4\u624d\u80fd\u663e\u793a\u51fa\u6765\u3002 \u5728\u6d88\u606f\u4e2d\u5305\u542b\u76f8\u5173\u4e3b\u9898\u5c06\u786e\u4fdd\u66f4\u591a\u4eba\u771f\u6b63\u9605\u8bfb\u4f60\u6240\u5199\u7684\u5185\u5bb9\u3002\u6b64\u5916\uff0c\u8bf7\u907f\u514d\u4f7f\u7528\u8fc7\u591a\u5927\u5199\u7684\u4e3b\u9898\u884c\u3002 \u201cHelp!\u201d \u6216 \u201cI can't get it to work!\u201d \u4e0d\u662f\u6709\u7528\u7684\u4e3b\u9898\u884c\u3002\u4e0d\u8981\u5728\u540c\u4e00\u4e3b\u9898\u4e0a\u66f4\u6539\u4e3b\u9898\u884c\u3002\u4f60\u53ef\u80fd\u77e5\u9053\u5b83\u662f\u5173\u4e8e\u4ec0\u4e48\u7684\uff0c\u6211\u4eec\u5176\u4ed6\u6bcf\u5929\u6536\u5230\u6570\u767e\u6761\u6d88\u606f\u7684\u4eba\u5c06\u4e0d\u77e5\u9053\u3002 \u4fee\u526a\u4f60\u7684\u7b7e\u540d\u3002 \u5c06\u90ae\u4ef6\u5e95\u90e8\u7684\u7b7e\u540d\u884c\u4fdd\u6301\u5728\u5408\u7406\u7684\u957f\u5ea6\u3002PGP \u7b7e\u540d\u548c\u90a3\u4e9b\u81ea\u52a8\u5730\u5740\u5361\u53ea\u4f1a\u5f88\u70e6\u4eba\u5e76\u4e14\u88ab\u5265\u79bb\u4e86\u3002\u6cd5\u5f8b\u4e0a\u7684\u514d\u8d23\u58f0\u660e\u548c\u5fe0\u544a\u4e5f\u662f\u975e\u5e38\u4ee4\u4eba\u8ba8\u538c\u7684\uff0c\u800c\u4e14\u4e0d\u9002\u5408\u516c\u5f00\u7684\u90ae\u4ef6\u5217\u8868\u3002 \u7559\u5728\u8bdd\u9898\u4e0a\u3002 \u8bf7\u4fdd\u6301\u5e16\u5b50\u4e3b\u9898\u4e0e OpenBSD \u7528\u6237\u76f8\u5173\u3002 \u5305\u542b\u91cd\u8981\u4fe1\u606f\u3002 \u4e0d\u8981\u7528\u4e00\u4e2a\u65e0\u671b\u7684\u4e0d\u5b8c\u6574\u7684\u95ee\u9898\u6d6a\u8d39\u5927\u5bb6\u7684\u65f6\u95f4\u3002\u9664\u4e86\u4f60\u4e4b\u5916\uff0c\u6ca1\u6709\u4eba\u62e5\u6709\u89e3\u51b3\u4f60\u7684\u95ee\u9898\u6240\u9700\u7684\u4fe1\u606f\uff0c\u63d0\u4f9b\u66f4\u591a\u7684\u4fe1\u606f\u6bd4\u6ca1\u6709\u8db3\u591f\u7684\u7ec6\u8282\u8981\u597d\u3002\u6240\u6709\u7684\u95ee\u9898\u90fd\u5e94\u8be5\u81f3\u5c11\u5305\u62ec OpenBSD \u7684 \u7248\u672c \u3002\u4efb\u4f55\u4e0e\u786c\u4ef6\u76f8\u5173\u7684\u95ee\u9898\u90fd\u5e94\u8be5\u63d0\u5230\u5e73\u53f0(i386, amd64, \u7b49\u7b49)\u5e76\u63d0\u4f9b\u5b8c\u6574\u7684 dmesg(8) \u3002\u4e0d\u5e78\u7684\u662f, \u786c\u4ef6\u578b\u53f7\u5e76\u4e0d\u80fd\u8bf4\u660e\u67d0\u53f0\u673a\u5668\u6216\u914d\u4ef6\u7684\u5b9e\u9645\u5185\u5bb9, \u800c\u4e14\u5bf9\u4e8e\u90a3\u4e9b\u6ca1\u6709\u786e\u5207\u7684\u673a\u5668\u5750\u5728\u90a3\u91cc\u53ef\u4ee5\u8f7b\u6613\u8fa8\u8ba4\u7684\u4eba\u6765\u8bf4\u662f\u6ca1\u6709\u7528\u7684\u3002dmesg \u7684\u8f93\u51fa\u544a\u8bc9\u6211\u4eec\u4f60\u7684\u673a\u5668\u91cc \u6709\u4ec0\u4e48 \uff0c\u800c\u4e0d\u662f\u5916\u9762\u6709\u4ec0\u4e48\u8d34\u7eb8\u3002 \u5c0a\u91cd\u89c2\u70b9\u548c\u54f2\u5b66\u7684\u5dee\u5f02\u3002 \u806a\u660e\u7684\u4eba\u53ef\u80fd\u4f1a\u770b\u5230\u76f8\u540c\u7684\u4e8b\u5b9e\u5e76\u5f97\u51fa\u622a\u7136\u4e0d\u540c\u7684\u7ed3\u8bba\u3002\u91cd\u590d\u4ee5\u524d\u4e0d\u80fd\u8bf4\u670d\u67d0\u4eba\u7684\u76f8\u540c\u89c2\u70b9\u5f88\u5c11\u4f1a\u6539\u53d8\u4ed6\u4eec\u7684\u60f3\u6cd5\uff0c\u5e76\u6fc0\u6012\u6240\u6709\u5176\u4ed6\u8bfb\u8005\u3002 \u5783\u573e\u90ae\u4ef6 \u00b6 OpenBSD \u90ae\u4ef6\u5217\u8868\u4f7f\u7528 spamd(8) \u548c SpamAssassin \u6765\u964d\u4f4e\u5783\u573e\u90ae\u4ef6\u7684\u6570\u91cf\uff0c\u4f46\u6709\u65f6\u4e5f\u4f1a\u6709\u4e00\u4e9b\u4e1c\u897f\u5077\u5077\u6e9c\u8fdb\u6765\u2014\u2014\u5904\u7406\u5b83\u3002\u6b64\u5916\uff0c\u90ae\u4ef6\u5217\u8868\u670d\u52a1\u5668\u8fd8\u5177\u6709\u57fa\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u89c4\u5219\uff0c\u53ef\u4ee5\u6839\u636e\u4e00\u4e9b\u5e38\u89c1\u7684\u5783\u573e\u90ae\u4ef6\u548c\u75c5\u6bd2\u7ebf\u7d22\u62d2\u7edd\u7535\u5b50\u90ae\u4ef6\u3002\u5982\u679c\u4f60\u901a\u8fc7 OpenBSD \u90ae\u4ef6\u5217\u8868\u4e4b\u4e00\u6536\u5230\u5783\u573e\u90ae\u4ef6\uff0c\u5219\u65e0\u9700\u5c06\u526f\u672c\u53d1\u9001\u7ed9\u5217\u8868\u6240\u6709\u8005\u2014\u2014\u5f88\u53ef\u80fd\u4ed6\u5df2\u7ecf\u770b\u5230\u4e86\u3002\u53e6\u5916\uff0c\u8bf7 \u4e0d\u8981 \u5c06\u901a\u8fc7\u90ae\u4ef6\u5217\u8868\u6536\u5230\u7684\u5783\u573e\u90ae\u4ef6\u63d0\u4ea4\u7ed9 spamcop \uff0c\u56e0\u4e3a\u8fd9\u4f1a\u5bfc\u81f4\u90ae\u4ef6\u5217\u8868\u670d\u52a1\u5668\u88ab\u6dfb\u52a0\u5230\u4ed6\u4eec\u7684 RBL\u3002\u5bf9\u90ae\u4ef6\u5217\u8868\u4e2d\u7684\u5783\u573e\u90ae\u4ef6\u8fdb\u884c\u6295\u8bc9\u548c\u8bc4\u8bba\u4f1a\u9002\u5f97\u5176\u53cd\uff0c\u56e0\u4e3a\u5b83\u4ea7\u751f\u7684\u6d41\u91cf\u6bd4\u5783\u573e\u90ae\u4ef6\u672c\u8eab\u8fd8\u591a\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u4f60\u4ece\u52a8\u6001 IP \u5730\u5740\u53d1\u9001\u90ae\u4ef6\uff0c\u4f60\u53ef\u80fd\u65e0\u6cd5\u6295\u9012\u5230\u90ae\u4ef6\u5217\u8868\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u5229\u7528 ISP \u90ae\u4ef6\u670d\u52a1\u5668\u7684\u667a\u80fd\u4e3b\u673a\u90ae\u4ef6\u914d\u7f6e\u3002\u8bf7\u9605\u8bfb smtpd.conf(5) \u4e2d\u7684\u793a\u4f8b\u4ee5\u4e86\u89e3\u5982\u4f55\u6267\u884c\u6b64\u64cd\u4f5c\u3002 \u4e00\u822c\u5174\u8da3\u90ae\u4ef6\u5217\u8868 \u00b6 \u5927\u591a\u6570 OpenBSD \u7528\u6237\u90fd\u5bf9\u8fd9\u4e9b\u5217\u8868\u611f\u5174\u8da3\u3002 announce@openbsd.org ( Archive ) \u516c\u544a\u548c\u5b89\u5168\u5efa\u8bae\u3002 misc@openbsd.org ( Archive ) \u7528\u6237\u95ee\u7b54\uff0c\u4e00\u822c\u95ee\u9898\u3002\u8fd9\u662f\u6700\u6d3b\u8dc3\u7684\u5217\u8868\u3002\u8bf7\u9605\u8bfb \u5e38\u89c1\u95ee\u9898\u89e3\u7b54 \u548c\u5b89\u88c5\u6587\u6863\uff0c\u5e76\u5728\u53d1\u5e03\u4e4b\u524d\u67e5\u770b \u5982\u4f55\u62a5\u544a\u95ee\u9898 \u3002 advocacy@openbsd.org ( Archive ) \u63a8\u5e7f\u4f7f\u7528 OpenBSD\u3002 ports@openbsd.org ( Archive ) \u5173\u4e8e\u4f7f\u7528\u548c\u8d21\u732e ports tree \u7684\u8ba8\u8bba\u3002 misc@opensmtpd.org ( Archive ) \u5173\u4e8e\u539f\u751f\u548c\u53ef\u79fb\u690d OpenSMTPD \u7684\u4e00\u822c\u8ba8\u8bba\u3001\u95ee\u9898\u548c\u60f3\u6cd5\u3002\u53ef\u79fb\u690d\u4f4d\u7684\u8865\u4e01\u5e94\u8be5\u662f Github \u4e0a\u7684 pull request\u3002\u8981\u5728\u90a3\u91cc\u8ba2\u9605\uff0c\u8bf7\u6309\u7167 OpenSMTPD \u7f51\u7ad9 \u4e0a\u7684\u8bf4\u660e\u8fdb\u884c\u64cd\u4f5c\u3002 users@openbgpd.org ( Archive ) \u5173\u4e8e\u539f\u751f\u548c\u53ef\u79fb\u690d OpenBGPD \u7684\u4e00\u822c\u8ba8\u8bba\u3001\u95ee\u9898\u548c\u60f3\u6cd5\u3002\u53ef\u79fb\u690d\u4f4d\u7684\u8865\u4e01\u5e94\u8be5\u662f Github \u4e0a\u7684 pull request\u3002 \u5f00\u53d1\u8005\u90ae\u4ef6\u5217\u8868 \u00b6 \u8fd9\u4e9b\u5217\u8868\u7528\u4e8e OpenBSD \u5404\u4e2a\u65b9\u9762\u7684\u6280\u672f\u8ba8\u8bba\u3002\u5b83\u4eec\u4e0d\u9002\u5408\u521d\u5b66\u8005\u6216\u666e\u901a\u7528\u6237\uff0c\u4e0d\u9002\u5408\u62a5\u544a\u95ee\u9898\uff08\u9664\u975e\u4f60\u63d0\u4f9b\u4e00\u4e2a\u597d\u7684\u4fee\u590d\u7a0b\u5e8f\uff09\uff0c\u4e5f\u4e0d\u9002\u5408\u5b89\u88c5\u95ee\u9898\u3002\u5982\u679c\u4f60\u5bf9\u662f\u5426\u5e94\u8be5\u5c06\u6d88\u606f\u53d1\u5e03\u5230\u8fd9\u4e9b\u5217\u8868\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u6709\u4efb\u4f55\u7591\u95ee\uff0c\u5b83\u53ef\u80fd\u4e5f\u4e0d\u9002\u5408\u3002\u8bf7\u5148\u6539\u7528 misc@opensmtpd.org \u8be2\u95ee\u4e00\u4e0b\u3002 bugs@openbsd.org ( Archive ) \u901a\u8fc7 sendbug(1) \u53d1\u9001\u7684\u9519\u8bef\u62a5\u544a\u548c\u540e\u7eed\u8ba8\u8bba\u3002 tech@openbsd.org ( Archive ) \u4e3a OpenBSD \u5f00\u53d1\u4eba\u5458\u548c\u9ad8\u7ea7\u7528\u6237\u8ba8\u8bba\u6280\u672f\u4e3b\u9898\u3002\u8fd9\u4e0d\u662f\u4e00\u4e2a\u201c\u6280\u672f\u652f\u6301\u201d\u8bba\u575b\u2014\u2014\u4e0d\u8981\u8fd9\u6837\u4f7f\u7528\u5b83\u3002OpenBSD \u5f00\u53d1\u4eba\u5458\u901a\u5e38\u4f1a\u901a\u8fc7\u6b64\u5217\u8868\u5236\u4f5c\u8865\u4e01\u4ee5\u5b9e\u73b0\u65b0\u529f\u80fd\u548c\u5176\u4ed6\u91cd\u8981\u53d8\u5316\u7684\u8865\u4e01\uff0c\u4f9b\u516c\u4f17\u6d4b\u8bd5\u3002 libressl@openbsd.org ( Archive ) \u5173\u4e8e\u539f\u751f\u548c\u53ef\u79fb\u690d LibreSSL \u7684\u6280\u672f\u8ba8\u8bba\u3002 \u53ef\u79fb\u690d\u4f4d\u7684\u8865\u4e01\u5e94\u8be5\u662f Github \u4e0a\u7684 pull request\u3002 \u62a5\u544a\u5b89\u5168\u95ee\u9898 \u00b6 \u8fd9\u4e9b\u79c1\u6709\u5730\u5740\u7528\u4e8e\u5411 OpenBSD \u56e2\u961f\u62a5\u544a\u6f0f\u6d1e\u3002 security@openbsd.org \u62a5\u544a\u4e0e OpenBSD \u76f8\u5173\u7684\u6f0f\u6d1e\u3002 openssh@openssh.com \u62a5\u544a\u4e0e OpenSSH \u76f8\u5173\u7684\u6f0f\u6d1e\u3002 libressl-security@openbsd.org \u62a5\u544a\u4e0e LibreSSL \u76f8\u5173\u7684\u6f0f\u6d1e\u3002 opensmtpd-security@openbsd.org \u62a5\u544a\u4e0e OpenSMTPD \u76f8\u5173\u7684\u6f0f\u6d1e\u3002 \u5e73\u53f0\u7279\u5b9a\u90ae\u4ef6\u5217\u8868 \u00b6 \u8fd9\u4e9b\u5217\u8868\u4fa7\u91cd\u4e8e\u5404\u4e2a\u5e73\u53f0\u4e0a\u7684\u7528\u6237\u95ee\u9898\u548c\u5f00\u53d1\u3002 alpha@openbsd.org ( Archive ) OpenBSD/alpha port arm@openbsd.org ( Archive ) OpenBSD/armv7 \u548c OpenBSD/arm64 ports hppa@openbsd.org ( Archive ) OpenBSD/hppa port m88k@openbsd.org ( Archive ) OpenBSD/luna88k port ppc@openbsd.org ( Archive ) OpenBSD/macppc \u548c\u5176\u4ed6 PowerPC porting \u884c\u52a8 sparc@openbsd.org ( Archive ) OpenBSD/sparc64 port. CVS \u66f4\u6539\u90ae\u4ef6\u5217\u8868 \u00b6 \u6bcf\u6b21\u5f00\u53d1\u4eba\u5458\u63d0\u4ea4\u5bf9 OpenBSD CVS \u6811\u7684\u66f4\u6539\u65f6\uff0c\u90fd\u4f1a\u5411\u8fd9\u4e9b\u5217\u8868\u7684\u6240\u6709\u8ba2\u9605\u8005\u90ae\u5bc4\u4e00\u6761\u6d88\u606f\uff0c\u5176\u4e2d\u5305\u542b\u63d0\u4ea4\u6ce8\u91ca\u3002 source-changes@openbsd.org ( Archive ) src \u3001 xenocara \u548c www \u5b58\u50a8\u5e93\u4e2d CVS \u6e90\u4ee3\u7801\u6811\u66f4\u6539\u7684\u81ea\u52a8\u90ae\u4ef6\u3002 ports-changes@openbsd.org ( Archive ) ports \u5b58\u50a8\u5e93\u4e2d CVS \u6e90\u4ee3\u7801\u6811\u66f4\u6539\u7684\u81ea\u52a8\u90ae\u4ef6\u3002 \u955c\u50cf\u76f8\u5173\u5217\u8868 \u00b6 \u6709\u5173 OpenBSD \u955c\u50cf \u7684\u516c\u544a\u548c\u8ba8\u8bba\u3002 mirrors-announce@openbsd.org \u8fd9\u662f\u4e00\u4e2a\u5ba1\u6838\u5217\u8868\uff0c\u4ec5\u7528\u4e8e\u5411 OpenBSD \u955c\u50cf\u64cd\u4f5c\u5458\u53d1\u5e03\u91cd\u8981\u516c\u544a\u3002 mirrors-discuss@openbsd.org \u6709\u5173 OpenBSD \u955c\u50cf\u7684\u8ba8\u8bba\u3002 \u901a\u8fc7 Majordomo \u7ba1\u7406\u5217\u8868\u6210\u5458 \u00b6 \u5982\u679c\u4f60\u60f3\u6536\u5230\u4e00\u4efd\u5b8c\u6574\u7684\u5217\u8868\uff0c\u5176\u4e2d\u5305\u542b openbsd.org \u4e0a\u63d0\u4f9b\u7684\u6240\u6709\u90ae\u4ef6\u5217\u8868\uff0c\u8bf7\u5c06\u547d\u4ee4 lists \u4f5c\u4e3a\u90ae\u4ef6\u6b63\u6587\u53d1\u9001\u5230 majordomo@openbsd.org \u3002 \u8981\u8ba2\u9605\u7ed9\u5b9a\u5217\u8868\uff0c\u8bf7\u5c06\u90ae\u4ef6\u53d1\u9001\u5230 majordomo@openbsd.org \uff0c\u90ae\u4ef6\u6b63\u6587\u4e3a \u201csubscribe mailing-list-name \u201d\uff08\u5176\u4e2d mailing-list-name \u662f\u4f60\u9996\u9009\u5217\u8868\u7684\u540d\u79f0\uff09\u3002 \u5982\u9700\u8fdb\u4e00\u6b65\u7684\u5e2e\u52a9\uff0c\u8bf7\u5c06 \u201chelp\u201d \u4f5c\u4e3a\u90ae\u4ef6\u6b63\u6587\u53d1\u9001\u81f3 majordomo@openbsd.org \uff0c\u4f60\u5c06\u6536\u5230\u6982\u8ff0\u6240\u6709\u9009\u9879\u7684\u56de\u590d\u3002\u4f60\u7684\u57df \u5fc5\u987b \u6b63\u786e\u89e3\u6790\uff0c\u5426\u5219\u90ae\u4ef6\u5c06\u65e0\u6cd5\u901a\u8fc7\uff01 \u901a\u8fc7 Web \u7ba1\u7406\u5217\u8868\u6210\u5458\u8d44\u683c \u00b6 \u4f60\u5728 OpenBSD \u90ae\u4ef6\u5217\u8868\u4e2d\u7684\u6210\u5458\u8d44\u683c\u4e5f\u53ef\u4ee5\u901a\u8fc7 lists.openbsd.org \u4e0a\u7684 Web \u754c\u9762\u8fdb\u884c\u7ba1\u7406\u3002 \u90ae\u4ef6\u5217\u8868\u6280\u5de7 \u00b6 \u4f60\u53ef\u4ee5\u901a\u8fc7 \u7f51\u9875\u754c\u9762 \u6216\u901a\u8fc7 Majordomo \u6765\u9009\u62e9\u8bb8\u591a\u975e\u5e38\u6709\u7528\u7684\u9009\u9879\u3002\u4f60\u53ef\u4ee5\u6539\u53d8\u4f60\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\uff0c\u800c\u4e0d\u5fc5\u53d6\u6d88\u8ba2\u9605\u548c\u91cd\u65b0\u8ba2\u9605\uff0c\u5f53\u4f60\u53bb\u5ea6\u5047\u65f6\uff0c\u6682\u65f6\u505c\u6b62\u4f60\u7684\u4fe1\u606f\u4f20\u9012\u51e0\u5929\uff0c\u4ee5\u53ca\u66f4\u957f\u65f6\u95f4\u3002\u8bf7\u4f60\u591a\u82b1\u4e00\u4e9b\u65f6\u95f4\u9605\u8bfb\u8fd9\u4e9b\u9009\u9879\uff0c\u4f60\u53ef\u901a\u8fc7\u5411 Majordomo \u53d1\u9001\u5305\u542b \"help\" \u4f5c\u4e3a\u6b63\u6587\u7684\u90ae\u4ef6\uff0c\u6216\u901a\u8fc7 \u7f51\u9875\u754c\u9762 \u7684 \"Help\" \u6807\u7b7e\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u4f60\u8981\u4f11\u5047\u4e24\u5468\u5e76\u4e14\u4e0d\u5e0c\u671b\u6536\u5230\u6570\u5343\u5c01\u7535\u5b50\u90ae\u4ef6\uff0c\u4f60\u53ef\u4ee5\u5728\u5047\u671f\u671f\u95f4\u7981\u7528\u90ae\u4ef6\u670d\u52a1\u5668\u7684\u90ae\u4ef6\u4f20\u9012\uff0c\u5e76\u5728\u4f60\u9884\u5b9a\u7684\u8fd4\u56de\u65f6\u81ea\u52a8\u6062\u590d\u4f20\u9012 \u4f7f\u7528\u547d\u4ee4\uff1a set ALL nomail-14d \u8fd9\u5c06\u6682\u505c\u4f60\u5bf9\u6240\u6709\u90ae\u4ef6\u5217\u8868\u7684\u8ba2\u9605 14 \u5929 ( -14d )\u3002 \u66f4\u591a\u7ec6\u8282\u548c\u9009\u9879\u53ef\u4ee5\u5728 Majordomo \u6982\u89c8\u9875\u9762 \u4e0a\u770b\u5230\u3002 \u6458\u8981 \u00b6 \u5982\u679c\u4f60\u5e0c\u671b\u67e5\u770b\u201c\u6458\u8981\u201d\uff08\u4e00\u6bb5\u65f6\u95f4\u5185\u6240\u6709\u6d88\u606f\u7684\u5408\u5e76\u5217\u8868\uff09\uff0c\u800c\u4e0d\u662f\u4ee5\u201c\u5b9e\u65f6\u201d\u5f62\u5f0f\u5355\u72ec\u83b7\u53d6\u6d88\u606f\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a set misc digest-daily set source-changes digest-weekly \u7528\u4e8e\u6742\u9879\u5217\u8868\uff08 misc \uff09\u7684\u6bcf\u65e5\u6458\u8981\u548c source-changes \u5217\u8868\u7684\u6bcf\u5468\u6458\u8981\u3002\u662f\u7684\uff0c\u4f60\u53ef\u4ee5\u5728\u4e00\u5c01 Majordomo \u7535\u5b50\u90ae\u4ef6\u4e2d\u653e\u7f6e\u591a\u4e2a\u547d\u4ee4\u3002 \u5176\u4ed6\u5217\u8868 \u00b6 pf@benzedrine.ch (Archive) \u5173\u4e8e OpenBSD \u5305\u8fc7\u6ee4\u5668 \u7684\u8ba8\u8bba\u3002\u8981\u8ba2\u9605\uff0c\u8bf7\u5c06\u6d88\u606f\u6b63\u6587\u4e3a \u201csubscribe\u201d \u7684\u7535\u5b50\u90ae\u4ef6\u53d1\u9001\u5230 pf-request@benzedrine.ch \u3002 \u66f4\u591a\u4fe1\u606f\u53ef\u4ee5\u5728 \u8fd9\u91cc \u627e\u5230\u3002 \u975e\u82f1\u8bed\u5217\u8868 \u00b6 \u51e0\u4e2a\u4e0e OpenBSD \u76f8\u5173\u7684\u975e\u82f1\u8bed\u90ae\u4ef6\u5217\u8868\u53ef\u5355\u72ec\u83b7\u5f97\u3002\u4ee5\u4e0b\u662f\u5f53\u524d\u5df2\u77e5\u90ae\u4ef6\u5217\u8868\u7684\u5217\u8868\uff1a \u6cd5\u8bed\uff1a blabla@openbsd.fr.eu.org ( Archive ) \u8981\u8ba2\u9605\uff0c\u8bf7\u53d1\u9001\u6d88\u606f\u81f3 blabla+subscribe@openbsd.fr.eu.org \u897f\u73ed\u7259\u8bed\uff1a OpenBSD-Mexico@googlegroups.com \u8981\u8ba2\u9605\uff0c\u8bf7\u8bbf\u95ee\u4ee5\u4e0b\u7f51\u5740\uff1ahttps://groups.google.com/group/OpenBSD-Mexico \u4e4c\u514b\u5170\u8bed\uff1a openbsd@uaoug.org.ua \u8981\u8ba2\u9605\uff0c\u8bf7\u53d1\u9001\u7a7a\u6d88\u606f\u81f3 openbsd+subscribe@uaoug.org.ua","title":"\u90ae\u4ef6\u5217\u8868"},{"location":"others/mail/#openbsd---\u90ae\u4ef6\u5217\u8868","text":"\u90ae\u4ef6\u5217\u8868\u662f OpenBSD \u7528\u6237\u548c\u5f00\u53d1\u4eba\u5458\u4e4b\u95f4\u4ea4\u6d41\u7684\u91cd\u8981\u624b\u6bb5\u3002\u9664 \u516c\u544a \u5916\uff0c\u8fd9\u4e9b\u5217\u8868\u5747\u672a\u7ecf\u8fc7\u5ba1\u6838\u3002\u6211\u4eec\u6709\u610f\u9650\u5236\u4e0d\u540c\u90ae\u4ef6\u5217\u8868\u7684\u6570\u91cf\u3002\u8fd9\u6709\u52a9\u4e8e\u51cf\u5c11\u4ea4\u53c9\u53d1\u5e03\u7684\u6570\u91cf\uff0c\u5e76\u786e\u4fdd\u5c06\u4fe1\u606f\u5206\u53d1\u7ed9\u5e7f\u6cdb\u7684\u53d7\u4f17\u3002","title":"OpenBSD - \u90ae\u4ef6\u5217\u8868"},{"location":"others/mail/#\u7f51\u7edc\u793c\u4eea","text":"\u8003\u8651\u90ae\u4ef6\u5217\u8868\u4e2d\u7684\u5176\u4ed6\u8ba2\u9605\u8005\u3002 \u7eaf\u6587\u672c\uff0c\u6bcf\u884c 72 \u4e2a\u5b57\u7b26\u3002 \u8bb8\u591a\u8ba2\u9605\u8005\u548c\u5f00\u53d1\u4eba\u5458\u5728\u57fa\u4e8e\u6587\u672c\u7684\u90ae\u4ef6\u7a0b\u5e8f\uff08\u5982 mail(1) \u3001emacs \u6216 mutt\uff09\u4e0a\u9605\u8bfb\u4ed6\u4eec\u7684\u90ae\u4ef6\uff0c\u5e76\u4e14\u4ed6\u4eec\u7ecf\u5e38\u53d1\u73b0 HTML \u683c\u5f0f\u7684\u90ae\u4ef6\uff08\u6216\u8d85\u8fc7 72 \u4e2a\u5b57\u7b26\u7684\u884c\uff09\u4e0d\u53ef\u8bfb\u3002\u5927\u591a\u6570 OpenBSD \u90ae\u4ef6\u5217\u8868\u4f1a\u5728\u5c06 MIME \u5185\u5bb9\u7684\u6d88\u606f\u53d1\u9001\u5230\u5217\u8868\u7684\u5176\u4f59\u90e8\u5206\u4e4b\u524d\u5c06\u5b83\u4eec\u5265\u79bb\u3002\u5982\u679c\u4f60\u4e0d\u4f7f\u7528\u7eaf\u6587\u672c\uff0c\u4f60\u7684\u90ae\u4ef6\u5c06\u88ab\u91cd\u65b0\u683c\u5f0f\u5316\u3002\u5982\u679c\u5b83\u4eec\u4e0d\u80fd\u88ab\u91cd\u65b0\u683c\u5f0f\u5316\uff0c\u5b83\u4eec\u5c06\u88ab\u7acb\u5373\u62d2\u7edd\u3002 \u552f\u4e00\u5141\u8bb8\u6587\u4ef6\u9644\u4ef6\u7684\u90ae\u4ef6\u5217\u8868\u662f bugs \u3001 ports \u548c tech \u5217\u8868\u3002\u4ed6\u4eec\u5c06\u4ece\u5176\u4ed6\u4eba\u7684\u6d88\u606f\u4e2d\u5220\u9664\u3002 \u53d1\u5e16\u524d\u505a\u597d\u529f\u8bfe\u3002 \u5982\u679c\u4f60\u6709\u5b89\u88c5\u95ee\u9898\uff0c\u8bf7\u786e\u4fdd\u4f60\u5df2\u9605\u8bfb\u76f8\u5173\u6587\u6863\uff0c\u4f8b\u5982\u5b89\u88c5\u76ee\u5f55\u4e2d\u7684 INSTALL.* \u6587\u672c\u6587\u4ef6\u3001 FAQ \u548c\u76f8\u5173\u624b\u518c\u9875\uff08\u4ece afterboot(8) \u5f00\u59cb\uff09\u3002 \u8fd8\u8981\u68c0\u67e5\u90ae\u4ef6\u5217\u8868\u6863\u6848\u3002 \u6211\u4eec\u60f3\u63d0\u4f9b\u5e2e\u52a9\uff0c\u4f46\u6211\u4eec\u4e0d\u60f3\u5265\u593a\u4f60\u5b9d\u8d35\u7684\u5b66\u4e60\u7ecf\u9a8c\uff0c\u800c\u4e14\u6ca1\u6709\u4eba\u5e0c\u671b\u5728\u4e00\u4e2a\u6708\u5185\u7b2c\u4e94\u6b21\u5728\u5217\u8868\u4e2d\u770b\u5230\u76f8\u540c\u7684\u95ee\u9898\u3002 \u5305\u62ec\u4e00\u4e2a\u6709\u7528\u7684\u4e3b\u9898\u884c\u3002 \u4e3b\u9898\u4e3a\u7a7a\u7684\u90ae\u4ef6\u5c06\u88ab\u9000\u56de\u5230\u5217\u8868\u7ba1\u7406\u5668\uff0c\u5e76\u4e14\u9700\u8981\u66f4\u957f\u7684\u65f6\u95f4\u624d\u80fd\u663e\u793a\u51fa\u6765\u3002 \u5728\u6d88\u606f\u4e2d\u5305\u542b\u76f8\u5173\u4e3b\u9898\u5c06\u786e\u4fdd\u66f4\u591a\u4eba\u771f\u6b63\u9605\u8bfb\u4f60\u6240\u5199\u7684\u5185\u5bb9\u3002\u6b64\u5916\uff0c\u8bf7\u907f\u514d\u4f7f\u7528\u8fc7\u591a\u5927\u5199\u7684\u4e3b\u9898\u884c\u3002 \u201cHelp!\u201d \u6216 \u201cI can't get it to work!\u201d \u4e0d\u662f\u6709\u7528\u7684\u4e3b\u9898\u884c\u3002\u4e0d\u8981\u5728\u540c\u4e00\u4e3b\u9898\u4e0a\u66f4\u6539\u4e3b\u9898\u884c\u3002\u4f60\u53ef\u80fd\u77e5\u9053\u5b83\u662f\u5173\u4e8e\u4ec0\u4e48\u7684\uff0c\u6211\u4eec\u5176\u4ed6\u6bcf\u5929\u6536\u5230\u6570\u767e\u6761\u6d88\u606f\u7684\u4eba\u5c06\u4e0d\u77e5\u9053\u3002 \u4fee\u526a\u4f60\u7684\u7b7e\u540d\u3002 \u5c06\u90ae\u4ef6\u5e95\u90e8\u7684\u7b7e\u540d\u884c\u4fdd\u6301\u5728\u5408\u7406\u7684\u957f\u5ea6\u3002PGP \u7b7e\u540d\u548c\u90a3\u4e9b\u81ea\u52a8\u5730\u5740\u5361\u53ea\u4f1a\u5f88\u70e6\u4eba\u5e76\u4e14\u88ab\u5265\u79bb\u4e86\u3002\u6cd5\u5f8b\u4e0a\u7684\u514d\u8d23\u58f0\u660e\u548c\u5fe0\u544a\u4e5f\u662f\u975e\u5e38\u4ee4\u4eba\u8ba8\u538c\u7684\uff0c\u800c\u4e14\u4e0d\u9002\u5408\u516c\u5f00\u7684\u90ae\u4ef6\u5217\u8868\u3002 \u7559\u5728\u8bdd\u9898\u4e0a\u3002 \u8bf7\u4fdd\u6301\u5e16\u5b50\u4e3b\u9898\u4e0e OpenBSD \u7528\u6237\u76f8\u5173\u3002 \u5305\u542b\u91cd\u8981\u4fe1\u606f\u3002 \u4e0d\u8981\u7528\u4e00\u4e2a\u65e0\u671b\u7684\u4e0d\u5b8c\u6574\u7684\u95ee\u9898\u6d6a\u8d39\u5927\u5bb6\u7684\u65f6\u95f4\u3002\u9664\u4e86\u4f60\u4e4b\u5916\uff0c\u6ca1\u6709\u4eba\u62e5\u6709\u89e3\u51b3\u4f60\u7684\u95ee\u9898\u6240\u9700\u7684\u4fe1\u606f\uff0c\u63d0\u4f9b\u66f4\u591a\u7684\u4fe1\u606f\u6bd4\u6ca1\u6709\u8db3\u591f\u7684\u7ec6\u8282\u8981\u597d\u3002\u6240\u6709\u7684\u95ee\u9898\u90fd\u5e94\u8be5\u81f3\u5c11\u5305\u62ec OpenBSD \u7684 \u7248\u672c \u3002\u4efb\u4f55\u4e0e\u786c\u4ef6\u76f8\u5173\u7684\u95ee\u9898\u90fd\u5e94\u8be5\u63d0\u5230\u5e73\u53f0(i386, amd64, \u7b49\u7b49)\u5e76\u63d0\u4f9b\u5b8c\u6574\u7684 dmesg(8) \u3002\u4e0d\u5e78\u7684\u662f, \u786c\u4ef6\u578b\u53f7\u5e76\u4e0d\u80fd\u8bf4\u660e\u67d0\u53f0\u673a\u5668\u6216\u914d\u4ef6\u7684\u5b9e\u9645\u5185\u5bb9, \u800c\u4e14\u5bf9\u4e8e\u90a3\u4e9b\u6ca1\u6709\u786e\u5207\u7684\u673a\u5668\u5750\u5728\u90a3\u91cc\u53ef\u4ee5\u8f7b\u6613\u8fa8\u8ba4\u7684\u4eba\u6765\u8bf4\u662f\u6ca1\u6709\u7528\u7684\u3002dmesg \u7684\u8f93\u51fa\u544a\u8bc9\u6211\u4eec\u4f60\u7684\u673a\u5668\u91cc \u6709\u4ec0\u4e48 \uff0c\u800c\u4e0d\u662f\u5916\u9762\u6709\u4ec0\u4e48\u8d34\u7eb8\u3002 \u5c0a\u91cd\u89c2\u70b9\u548c\u54f2\u5b66\u7684\u5dee\u5f02\u3002 \u806a\u660e\u7684\u4eba\u53ef\u80fd\u4f1a\u770b\u5230\u76f8\u540c\u7684\u4e8b\u5b9e\u5e76\u5f97\u51fa\u622a\u7136\u4e0d\u540c\u7684\u7ed3\u8bba\u3002\u91cd\u590d\u4ee5\u524d\u4e0d\u80fd\u8bf4\u670d\u67d0\u4eba\u7684\u76f8\u540c\u89c2\u70b9\u5f88\u5c11\u4f1a\u6539\u53d8\u4ed6\u4eec\u7684\u60f3\u6cd5\uff0c\u5e76\u6fc0\u6012\u6240\u6709\u5176\u4ed6\u8bfb\u8005\u3002","title":"\u7f51\u7edc\u793c\u4eea"},{"location":"others/mail/#\u5783\u573e\u90ae\u4ef6","text":"OpenBSD \u90ae\u4ef6\u5217\u8868\u4f7f\u7528 spamd(8) \u548c SpamAssassin \u6765\u964d\u4f4e\u5783\u573e\u90ae\u4ef6\u7684\u6570\u91cf\uff0c\u4f46\u6709\u65f6\u4e5f\u4f1a\u6709\u4e00\u4e9b\u4e1c\u897f\u5077\u5077\u6e9c\u8fdb\u6765\u2014\u2014\u5904\u7406\u5b83\u3002\u6b64\u5916\uff0c\u90ae\u4ef6\u5217\u8868\u670d\u52a1\u5668\u8fd8\u5177\u6709\u57fa\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u89c4\u5219\uff0c\u53ef\u4ee5\u6839\u636e\u4e00\u4e9b\u5e38\u89c1\u7684\u5783\u573e\u90ae\u4ef6\u548c\u75c5\u6bd2\u7ebf\u7d22\u62d2\u7edd\u7535\u5b50\u90ae\u4ef6\u3002\u5982\u679c\u4f60\u901a\u8fc7 OpenBSD \u90ae\u4ef6\u5217\u8868\u4e4b\u4e00\u6536\u5230\u5783\u573e\u90ae\u4ef6\uff0c\u5219\u65e0\u9700\u5c06\u526f\u672c\u53d1\u9001\u7ed9\u5217\u8868\u6240\u6709\u8005\u2014\u2014\u5f88\u53ef\u80fd\u4ed6\u5df2\u7ecf\u770b\u5230\u4e86\u3002\u53e6\u5916\uff0c\u8bf7 \u4e0d\u8981 \u5c06\u901a\u8fc7\u90ae\u4ef6\u5217\u8868\u6536\u5230\u7684\u5783\u573e\u90ae\u4ef6\u63d0\u4ea4\u7ed9 spamcop \uff0c\u56e0\u4e3a\u8fd9\u4f1a\u5bfc\u81f4\u90ae\u4ef6\u5217\u8868\u670d\u52a1\u5668\u88ab\u6dfb\u52a0\u5230\u4ed6\u4eec\u7684 RBL\u3002\u5bf9\u90ae\u4ef6\u5217\u8868\u4e2d\u7684\u5783\u573e\u90ae\u4ef6\u8fdb\u884c\u6295\u8bc9\u548c\u8bc4\u8bba\u4f1a\u9002\u5f97\u5176\u53cd\uff0c\u56e0\u4e3a\u5b83\u4ea7\u751f\u7684\u6d41\u91cf\u6bd4\u5783\u573e\u90ae\u4ef6\u672c\u8eab\u8fd8\u591a\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u4f60\u4ece\u52a8\u6001 IP \u5730\u5740\u53d1\u9001\u90ae\u4ef6\uff0c\u4f60\u53ef\u80fd\u65e0\u6cd5\u6295\u9012\u5230\u90ae\u4ef6\u5217\u8868\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u5229\u7528 ISP \u90ae\u4ef6\u670d\u52a1\u5668\u7684\u667a\u80fd\u4e3b\u673a\u90ae\u4ef6\u914d\u7f6e\u3002\u8bf7\u9605\u8bfb smtpd.conf(5) \u4e2d\u7684\u793a\u4f8b\u4ee5\u4e86\u89e3\u5982\u4f55\u6267\u884c\u6b64\u64cd\u4f5c\u3002","title":"\u5783\u573e\u90ae\u4ef6"},{"location":"others/mail/#\u4e00\u822c\u5174\u8da3\u90ae\u4ef6\u5217\u8868","text":"\u5927\u591a\u6570 OpenBSD \u7528\u6237\u90fd\u5bf9\u8fd9\u4e9b\u5217\u8868\u611f\u5174\u8da3\u3002 announce@openbsd.org ( Archive ) \u516c\u544a\u548c\u5b89\u5168\u5efa\u8bae\u3002 misc@openbsd.org ( Archive ) \u7528\u6237\u95ee\u7b54\uff0c\u4e00\u822c\u95ee\u9898\u3002\u8fd9\u662f\u6700\u6d3b\u8dc3\u7684\u5217\u8868\u3002\u8bf7\u9605\u8bfb \u5e38\u89c1\u95ee\u9898\u89e3\u7b54 \u548c\u5b89\u88c5\u6587\u6863\uff0c\u5e76\u5728\u53d1\u5e03\u4e4b\u524d\u67e5\u770b \u5982\u4f55\u62a5\u544a\u95ee\u9898 \u3002 advocacy@openbsd.org ( Archive ) \u63a8\u5e7f\u4f7f\u7528 OpenBSD\u3002 ports@openbsd.org ( Archive ) \u5173\u4e8e\u4f7f\u7528\u548c\u8d21\u732e ports tree \u7684\u8ba8\u8bba\u3002 misc@opensmtpd.org ( Archive ) \u5173\u4e8e\u539f\u751f\u548c\u53ef\u79fb\u690d OpenSMTPD \u7684\u4e00\u822c\u8ba8\u8bba\u3001\u95ee\u9898\u548c\u60f3\u6cd5\u3002\u53ef\u79fb\u690d\u4f4d\u7684\u8865\u4e01\u5e94\u8be5\u662f Github \u4e0a\u7684 pull request\u3002\u8981\u5728\u90a3\u91cc\u8ba2\u9605\uff0c\u8bf7\u6309\u7167 OpenSMTPD \u7f51\u7ad9 \u4e0a\u7684\u8bf4\u660e\u8fdb\u884c\u64cd\u4f5c\u3002 users@openbgpd.org ( Archive ) \u5173\u4e8e\u539f\u751f\u548c\u53ef\u79fb\u690d OpenBGPD \u7684\u4e00\u822c\u8ba8\u8bba\u3001\u95ee\u9898\u548c\u60f3\u6cd5\u3002\u53ef\u79fb\u690d\u4f4d\u7684\u8865\u4e01\u5e94\u8be5\u662f Github \u4e0a\u7684 pull request\u3002","title":"\u4e00\u822c\u5174\u8da3\u90ae\u4ef6\u5217\u8868"},{"location":"others/mail/#\u5f00\u53d1\u8005\u90ae\u4ef6\u5217\u8868","text":"\u8fd9\u4e9b\u5217\u8868\u7528\u4e8e OpenBSD \u5404\u4e2a\u65b9\u9762\u7684\u6280\u672f\u8ba8\u8bba\u3002\u5b83\u4eec\u4e0d\u9002\u5408\u521d\u5b66\u8005\u6216\u666e\u901a\u7528\u6237\uff0c\u4e0d\u9002\u5408\u62a5\u544a\u95ee\u9898\uff08\u9664\u975e\u4f60\u63d0\u4f9b\u4e00\u4e2a\u597d\u7684\u4fee\u590d\u7a0b\u5e8f\uff09\uff0c\u4e5f\u4e0d\u9002\u5408\u5b89\u88c5\u95ee\u9898\u3002\u5982\u679c\u4f60\u5bf9\u662f\u5426\u5e94\u8be5\u5c06\u6d88\u606f\u53d1\u5e03\u5230\u8fd9\u4e9b\u5217\u8868\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u6709\u4efb\u4f55\u7591\u95ee\uff0c\u5b83\u53ef\u80fd\u4e5f\u4e0d\u9002\u5408\u3002\u8bf7\u5148\u6539\u7528 misc@opensmtpd.org \u8be2\u95ee\u4e00\u4e0b\u3002 bugs@openbsd.org ( Archive ) \u901a\u8fc7 sendbug(1) \u53d1\u9001\u7684\u9519\u8bef\u62a5\u544a\u548c\u540e\u7eed\u8ba8\u8bba\u3002 tech@openbsd.org ( Archive ) \u4e3a OpenBSD \u5f00\u53d1\u4eba\u5458\u548c\u9ad8\u7ea7\u7528\u6237\u8ba8\u8bba\u6280\u672f\u4e3b\u9898\u3002\u8fd9\u4e0d\u662f\u4e00\u4e2a\u201c\u6280\u672f\u652f\u6301\u201d\u8bba\u575b\u2014\u2014\u4e0d\u8981\u8fd9\u6837\u4f7f\u7528\u5b83\u3002OpenBSD \u5f00\u53d1\u4eba\u5458\u901a\u5e38\u4f1a\u901a\u8fc7\u6b64\u5217\u8868\u5236\u4f5c\u8865\u4e01\u4ee5\u5b9e\u73b0\u65b0\u529f\u80fd\u548c\u5176\u4ed6\u91cd\u8981\u53d8\u5316\u7684\u8865\u4e01\uff0c\u4f9b\u516c\u4f17\u6d4b\u8bd5\u3002 libressl@openbsd.org ( Archive ) \u5173\u4e8e\u539f\u751f\u548c\u53ef\u79fb\u690d LibreSSL \u7684\u6280\u672f\u8ba8\u8bba\u3002 \u53ef\u79fb\u690d\u4f4d\u7684\u8865\u4e01\u5e94\u8be5\u662f Github \u4e0a\u7684 pull request\u3002","title":"\u5f00\u53d1\u8005\u90ae\u4ef6\u5217\u8868"},{"location":"others/mail/#\u62a5\u544a\u5b89\u5168\u95ee\u9898","text":"\u8fd9\u4e9b\u79c1\u6709\u5730\u5740\u7528\u4e8e\u5411 OpenBSD \u56e2\u961f\u62a5\u544a\u6f0f\u6d1e\u3002 security@openbsd.org \u62a5\u544a\u4e0e OpenBSD \u76f8\u5173\u7684\u6f0f\u6d1e\u3002 openssh@openssh.com \u62a5\u544a\u4e0e OpenSSH \u76f8\u5173\u7684\u6f0f\u6d1e\u3002 libressl-security@openbsd.org \u62a5\u544a\u4e0e LibreSSL \u76f8\u5173\u7684\u6f0f\u6d1e\u3002 opensmtpd-security@openbsd.org \u62a5\u544a\u4e0e OpenSMTPD \u76f8\u5173\u7684\u6f0f\u6d1e\u3002","title":"\u62a5\u544a\u5b89\u5168\u95ee\u9898"},{"location":"others/mail/#\u5e73\u53f0\u7279\u5b9a\u90ae\u4ef6\u5217\u8868","text":"\u8fd9\u4e9b\u5217\u8868\u4fa7\u91cd\u4e8e\u5404\u4e2a\u5e73\u53f0\u4e0a\u7684\u7528\u6237\u95ee\u9898\u548c\u5f00\u53d1\u3002 alpha@openbsd.org ( Archive ) OpenBSD/alpha port arm@openbsd.org ( Archive ) OpenBSD/armv7 \u548c OpenBSD/arm64 ports hppa@openbsd.org ( Archive ) OpenBSD/hppa port m88k@openbsd.org ( Archive ) OpenBSD/luna88k port ppc@openbsd.org ( Archive ) OpenBSD/macppc \u548c\u5176\u4ed6 PowerPC porting \u884c\u52a8 sparc@openbsd.org ( Archive ) OpenBSD/sparc64 port.","title":"\u5e73\u53f0\u7279\u5b9a\u90ae\u4ef6\u5217\u8868"},{"location":"others/mail/#cvs-\u66f4\u6539\u90ae\u4ef6\u5217\u8868","text":"\u6bcf\u6b21\u5f00\u53d1\u4eba\u5458\u63d0\u4ea4\u5bf9 OpenBSD CVS \u6811\u7684\u66f4\u6539\u65f6\uff0c\u90fd\u4f1a\u5411\u8fd9\u4e9b\u5217\u8868\u7684\u6240\u6709\u8ba2\u9605\u8005\u90ae\u5bc4\u4e00\u6761\u6d88\u606f\uff0c\u5176\u4e2d\u5305\u542b\u63d0\u4ea4\u6ce8\u91ca\u3002 source-changes@openbsd.org ( Archive ) src \u3001 xenocara \u548c www \u5b58\u50a8\u5e93\u4e2d CVS \u6e90\u4ee3\u7801\u6811\u66f4\u6539\u7684\u81ea\u52a8\u90ae\u4ef6\u3002 ports-changes@openbsd.org ( Archive ) ports \u5b58\u50a8\u5e93\u4e2d CVS \u6e90\u4ee3\u7801\u6811\u66f4\u6539\u7684\u81ea\u52a8\u90ae\u4ef6\u3002","title":"CVS \u66f4\u6539\u90ae\u4ef6\u5217\u8868"},{"location":"others/mail/#\u955c\u50cf\u76f8\u5173\u5217\u8868","text":"\u6709\u5173 OpenBSD \u955c\u50cf \u7684\u516c\u544a\u548c\u8ba8\u8bba\u3002 mirrors-announce@openbsd.org \u8fd9\u662f\u4e00\u4e2a\u5ba1\u6838\u5217\u8868\uff0c\u4ec5\u7528\u4e8e\u5411 OpenBSD \u955c\u50cf\u64cd\u4f5c\u5458\u53d1\u5e03\u91cd\u8981\u516c\u544a\u3002 mirrors-discuss@openbsd.org \u6709\u5173 OpenBSD \u955c\u50cf\u7684\u8ba8\u8bba\u3002","title":"\u955c\u50cf\u76f8\u5173\u5217\u8868"},{"location":"others/mail/#\u901a\u8fc7-majordomo-\u7ba1\u7406\u5217\u8868\u6210\u5458","text":"\u5982\u679c\u4f60\u60f3\u6536\u5230\u4e00\u4efd\u5b8c\u6574\u7684\u5217\u8868\uff0c\u5176\u4e2d\u5305\u542b openbsd.org \u4e0a\u63d0\u4f9b\u7684\u6240\u6709\u90ae\u4ef6\u5217\u8868\uff0c\u8bf7\u5c06\u547d\u4ee4 lists \u4f5c\u4e3a\u90ae\u4ef6\u6b63\u6587\u53d1\u9001\u5230 majordomo@openbsd.org \u3002 \u8981\u8ba2\u9605\u7ed9\u5b9a\u5217\u8868\uff0c\u8bf7\u5c06\u90ae\u4ef6\u53d1\u9001\u5230 majordomo@openbsd.org \uff0c\u90ae\u4ef6\u6b63\u6587\u4e3a \u201csubscribe mailing-list-name \u201d\uff08\u5176\u4e2d mailing-list-name \u662f\u4f60\u9996\u9009\u5217\u8868\u7684\u540d\u79f0\uff09\u3002 \u5982\u9700\u8fdb\u4e00\u6b65\u7684\u5e2e\u52a9\uff0c\u8bf7\u5c06 \u201chelp\u201d \u4f5c\u4e3a\u90ae\u4ef6\u6b63\u6587\u53d1\u9001\u81f3 majordomo@openbsd.org \uff0c\u4f60\u5c06\u6536\u5230\u6982\u8ff0\u6240\u6709\u9009\u9879\u7684\u56de\u590d\u3002\u4f60\u7684\u57df \u5fc5\u987b \u6b63\u786e\u89e3\u6790\uff0c\u5426\u5219\u90ae\u4ef6\u5c06\u65e0\u6cd5\u901a\u8fc7\uff01","title":"\u901a\u8fc7 Majordomo \u7ba1\u7406\u5217\u8868\u6210\u5458"},{"location":"others/mail/#\u901a\u8fc7-web-\u7ba1\u7406\u5217\u8868\u6210\u5458\u8d44\u683c","text":"\u4f60\u5728 OpenBSD \u90ae\u4ef6\u5217\u8868\u4e2d\u7684\u6210\u5458\u8d44\u683c\u4e5f\u53ef\u4ee5\u901a\u8fc7 lists.openbsd.org \u4e0a\u7684 Web \u754c\u9762\u8fdb\u884c\u7ba1\u7406\u3002","title":"\u901a\u8fc7 Web \u7ba1\u7406\u5217\u8868\u6210\u5458\u8d44\u683c"},{"location":"others/mail/#\u90ae\u4ef6\u5217\u8868\u6280\u5de7","text":"\u4f60\u53ef\u4ee5\u901a\u8fc7 \u7f51\u9875\u754c\u9762 \u6216\u901a\u8fc7 Majordomo \u6765\u9009\u62e9\u8bb8\u591a\u975e\u5e38\u6709\u7528\u7684\u9009\u9879\u3002\u4f60\u53ef\u4ee5\u6539\u53d8\u4f60\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\uff0c\u800c\u4e0d\u5fc5\u53d6\u6d88\u8ba2\u9605\u548c\u91cd\u65b0\u8ba2\u9605\uff0c\u5f53\u4f60\u53bb\u5ea6\u5047\u65f6\uff0c\u6682\u65f6\u505c\u6b62\u4f60\u7684\u4fe1\u606f\u4f20\u9012\u51e0\u5929\uff0c\u4ee5\u53ca\u66f4\u957f\u65f6\u95f4\u3002\u8bf7\u4f60\u591a\u82b1\u4e00\u4e9b\u65f6\u95f4\u9605\u8bfb\u8fd9\u4e9b\u9009\u9879\uff0c\u4f60\u53ef\u901a\u8fc7\u5411 Majordomo \u53d1\u9001\u5305\u542b \"help\" \u4f5c\u4e3a\u6b63\u6587\u7684\u90ae\u4ef6\uff0c\u6216\u901a\u8fc7 \u7f51\u9875\u754c\u9762 \u7684 \"Help\" \u6807\u7b7e\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u4f60\u8981\u4f11\u5047\u4e24\u5468\u5e76\u4e14\u4e0d\u5e0c\u671b\u6536\u5230\u6570\u5343\u5c01\u7535\u5b50\u90ae\u4ef6\uff0c\u4f60\u53ef\u4ee5\u5728\u5047\u671f\u671f\u95f4\u7981\u7528\u90ae\u4ef6\u670d\u52a1\u5668\u7684\u90ae\u4ef6\u4f20\u9012\uff0c\u5e76\u5728\u4f60\u9884\u5b9a\u7684\u8fd4\u56de\u65f6\u81ea\u52a8\u6062\u590d\u4f20\u9012 \u4f7f\u7528\u547d\u4ee4\uff1a set ALL nomail-14d \u8fd9\u5c06\u6682\u505c\u4f60\u5bf9\u6240\u6709\u90ae\u4ef6\u5217\u8868\u7684\u8ba2\u9605 14 \u5929 ( -14d )\u3002 \u66f4\u591a\u7ec6\u8282\u548c\u9009\u9879\u53ef\u4ee5\u5728 Majordomo \u6982\u89c8\u9875\u9762 \u4e0a\u770b\u5230\u3002","title":"\u90ae\u4ef6\u5217\u8868\u6280\u5de7"},{"location":"others/mail/#\u6458\u8981","text":"\u5982\u679c\u4f60\u5e0c\u671b\u67e5\u770b\u201c\u6458\u8981\u201d\uff08\u4e00\u6bb5\u65f6\u95f4\u5185\u6240\u6709\u6d88\u606f\u7684\u5408\u5e76\u5217\u8868\uff09\uff0c\u800c\u4e0d\u662f\u4ee5\u201c\u5b9e\u65f6\u201d\u5f62\u5f0f\u5355\u72ec\u83b7\u53d6\u6d88\u606f\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a set misc digest-daily set source-changes digest-weekly \u7528\u4e8e\u6742\u9879\u5217\u8868\uff08 misc \uff09\u7684\u6bcf\u65e5\u6458\u8981\u548c source-changes \u5217\u8868\u7684\u6bcf\u5468\u6458\u8981\u3002\u662f\u7684\uff0c\u4f60\u53ef\u4ee5\u5728\u4e00\u5c01 Majordomo \u7535\u5b50\u90ae\u4ef6\u4e2d\u653e\u7f6e\u591a\u4e2a\u547d\u4ee4\u3002","title":"\u6458\u8981"},{"location":"others/mail/#\u5176\u4ed6\u5217\u8868","text":"pf@benzedrine.ch (Archive) \u5173\u4e8e OpenBSD \u5305\u8fc7\u6ee4\u5668 \u7684\u8ba8\u8bba\u3002\u8981\u8ba2\u9605\uff0c\u8bf7\u5c06\u6d88\u606f\u6b63\u6587\u4e3a \u201csubscribe\u201d \u7684\u7535\u5b50\u90ae\u4ef6\u53d1\u9001\u5230 pf-request@benzedrine.ch \u3002 \u66f4\u591a\u4fe1\u606f\u53ef\u4ee5\u5728 \u8fd9\u91cc \u627e\u5230\u3002","title":"\u5176\u4ed6\u5217\u8868"},{"location":"others/mail/#\u975e\u82f1\u8bed\u5217\u8868","text":"\u51e0\u4e2a\u4e0e OpenBSD \u76f8\u5173\u7684\u975e\u82f1\u8bed\u90ae\u4ef6\u5217\u8868\u53ef\u5355\u72ec\u83b7\u5f97\u3002\u4ee5\u4e0b\u662f\u5f53\u524d\u5df2\u77e5\u90ae\u4ef6\u5217\u8868\u7684\u5217\u8868\uff1a \u6cd5\u8bed\uff1a blabla@openbsd.fr.eu.org ( Archive ) \u8981\u8ba2\u9605\uff0c\u8bf7\u53d1\u9001\u6d88\u606f\u81f3 blabla+subscribe@openbsd.fr.eu.org \u897f\u73ed\u7259\u8bed\uff1a OpenBSD-Mexico@googlegroups.com \u8981\u8ba2\u9605\uff0c\u8bf7\u8bbf\u95ee\u4ee5\u4e0b\u7f51\u5740\uff1ahttps://groups.google.com/group/OpenBSD-Mexico \u4e4c\u514b\u5170\u8bed\uff1a openbsd@uaoug.org.ua \u8981\u8ba2\u9605\uff0c\u8bf7\u53d1\u9001\u7a7a\u6d88\u606f\u81f3 openbsd+subscribe@uaoug.org.ua","title":"\u975e\u82f1\u8bed\u5217\u8868"},{"location":"others/report/","text":"OpenBSD - \u62a5\u544a\u95ee\u9898 \u00b6 \u62a5\u544a\u5df2\u53d1\u884c\u7248\u672c\u7684\u95ee\u9898 \u00b6 \u5728\u62a5\u544a\u5df2\u53d1\u5e03\u7248\u672c\u7684\u9519\u8bef/\u95ee\u9898\u4e4b\u524d\uff0c\u8bf7\u67e5\u770b\u6b64\u6e05\u5355\uff1a \u9996\u5148\uff0c\u68c0\u67e5 \u6709\u5173\u8be5\u7248\u672c\u7684\u8865\u4e01\u548c\u8bf4\u660e \u3002 \u63a5\u4e0b\u6765\uff0c\u627e\u51fa\u662f\u5426\u6709\u66f4\u65b0\u7684\u7248\u672c\u53ef\u7528\u3002 \u6700\u540e\uff0c\u68c0\u67e5 OpenBSD \u7248\u672c\u4e4b\u95f4\u7684\u66f4\u6539 \u3002 \u5982\u679c\u770b\u8d77\u6765\u6ca1\u6709\u4efb\u4f55\u4e1c\u897f\u53ef\u4ee5\u89e3\u51b3\u4f60\u7684\u95ee\u9898\uff0c\u90a3\u4e48\u8bf7\u5728\u63d0\u4ea4\u9519\u8bef\u62a5\u544a\u4e4b\u524d\u719f\u6089 sendbug(1) \u3002 \u62a5\u544a -current \u7248\u672c\u7684\u95ee\u9898 \u00b6 \u5982\u679c\u4f60\u7684\u95ee\u9898\u51fa\u5728 -current \u6e90\u4ee3\u7801\u6811\u800c\u4e0d\u662f -release \u6216 -stable \u4e0a\uff0c \u81f3\u5c11\u6d4b\u8bd5\u4e24\u6b21\u95ee\u9898\uff0c\u5e76\u5728\u51e0\u5929\u4e4b\u5185\u66f4\u65b0\u6e90\u4ee3\u7801\u3002 \u4e0d\u8981\u62a5\u544a\u6e90\u4ee3\u7801\u6811\u7f16\u8bd1\u95ee\u9898\uff0c\u9664\u975e\u5b83\u4eec\u4e00\u76f4\u5b58\u5728\u3002\u5b83\u4eec\u51e0\u4e4e\u603b\u662f\u4f60\u9020\u6210\u7684\u9519\u8bef\uff0c\u6216\u8005\u5f53\u4f60\u9047\u5230\u5b83\u4eec\u65f6\u6211\u4eec\u6b63\u5728\u5904\u7406\u5b83\u4eec\u3002\u4ece\u4e8b\u8be5\u9879\u76ee\u7684\u4eba\u5458\u6bcf\u5929\u81f3\u5c11\u8fdb\u884c\u4e00\u6b21 make build \uff0c\u901a\u5e38\u6bcf\u5929\u4f7f\u7528\u4e0d\u540c\u7684\u67b6\u6784\u8fdb\u884c\u6570\u6b21\u7684\u7f16\u8bd1\u3002 \u8bf7\u8bb0\u4f4f\uff0c AnonCVS \u670d\u52a1\u5668\u6bd4\u5b9e\u9645\u5de5\u4f5c\u7684\u6e90\u4ee3\u7801\u6811\u665a\u51e0\u4e2a\u5c0f\u65f6\u66f4\u65b0\u3002 \u68c0\u67e5 OpenBSD \u7248\u672c\u4e4b\u95f4\u6240\u505a\u7684\u66f4\u6539 \u4ee5\u67e5\u770b\u95ee\u9898\u662f\u5426\u5df2\u5f97\u5230\u89e3\u51b3\u3002 \u6211\u4eec\u5728\u521b\u5efa\u5feb\u7167\u65f6\u975e\u5e38\u8c28\u614e\u3002\u6709\u65f6\u4f1a\u72af\u9519\u8bef\uff0c\u6211\u4eec\u5bf9\u6b64\u8868\u793a\u6b49\u610f\u3002\u9605\u8bfb\u6216\u5199\u4fe1\u7ed9\u90ae\u4ef6\u5217\u8868\u6bd4\u53d1\u9001\u9519\u8bef\u62a5\u544a\u66f4\u5408\u9002\u3002 \u5982\u4f55\u521b\u5efa\u95ee\u9898\u62a5\u544a \u00b6 \u59cb\u7ec8\u63d0\u4f9b\u5c3d\u53ef\u80fd\u591a\u7684\u4fe1\u606f\u3002 \u5c1d\u8bd5\u627e\u51fa\u786e\u5207\u7684\u95ee\u9898\u3002\u7ed9\u51fa\u5173\u4e8e\u5982\u4f55\u91cd\u73b0\u95ee\u9898\u7684\u660e\u786e\u8bf4\u660e\u3002\u5c3d\u91cf\u7528\u5c3d\u53ef\u80fd\u51c6\u786e\u548c\u4e0d\u6df7\u6dc6\u7684\u672f\u8bed\u6765\u63cf\u8ff0\u5b83\uff0c\u7279\u522b\u662f\u5982\u679c\u5b83\u4e0d\u5bb9\u6613\u590d\u73b0\u7684\u8bdd\u3002\u901a\u8fc7\u8bf4\u201c\u5b83\u5d29\u6e83\u201d\u6216\u201c\u6211\u5728\u6211\u6784\u5efa\u7684\u8fd9\u4e2a\u76d2\u5b50\u4e0a\u9047\u5230\u5947\u602a\u7684\u4e2d\u65ad\u95ee\u9898\u201d\u6765\u63cf\u8ff0\u95ee\u9898\u662f\u6ca1\u6709\u5e2e\u52a9\u7684\u3002\u4e0e\u5176\u4ed6\u4eba\u4ea4\u6d41\uff08\u5728\u90ae\u4ef6\u5217\u8868\u6216\u4efb\u4f55\u5176\u4ed6\u77e5\u8bc6\u6e0a\u535a\u7684\u7528\u6237\u805a\u96c6\u7684\u8bba\u575b\u4e0a\uff09\u4ee5\u786e\u8ba4\u95ee\u9898\u662f\u65b0\u7684\u5e76\u4e14\u6700\u597d\u662f\u53ef\u91cd\u590d\u7684\u3002\u8bf7\u5c1d\u8bd5\u786e\u4fdd\u5b83\u4e0d\u662f\u4f7f\u7528\u635f\u574f\u6216\u4e0d\u53d7\u652f\u6301\u7684\u786c\u4ef6\u6216\u4f7f\u7528\u4e0d\u53d7\u652f\u6301\u7684\u6784\u5efa\u9009\u9879\u6216\u8f6f\u4ef6\u9020\u6210\u7684\u672c\u5730\u95ee\u9898\u3002 \u8bf7\u4e0d\u8981\u5f00\u59cb\u4fee\u590d\u9700\u8981\u5927\u91cf\u5de5\u4f5c\u7684\u95ee\u9898\uff0c\u76f4\u5230\u4f60\u786e\u5b9a\u4f60\u4e86\u89e3\u8fd9\u4e9b\u95ee\u9898\uff0c\u7279\u522b\u662f\u5728\u6211\u4eec\u7684\u53d1\u5e03\u671f\uff0c\u6211\u4eec\u5fc5\u987b\u4e0d\u6539\u53d8\u4ee3\u7801\u7684\u4e3b\u8981\u90e8\u5206\u3002\u5982\u679c\u4f60\u8981\u5199\u5927\u91cf\u7684\u4ee3\u7801\uff0c\u8bf7\u5728\u90ae\u4ef6\u5217\u8868\u4e2d\u63d0\u53ca\uff0c\u4ee5\u786e\u4fdd\u6ca1\u6709\u5176\u4ed6\u4eba\u5df2\u7ecf\u5728\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\uff08\u8282\u7701\u91cd\u590d\u52b3\u52a8\uff09\u3002 \u6bcf\u4e2a\u9519\u8bef\u62a5\u544a\u4e2d\u90fd\u5e94\u5305\u542b\u4ee5\u4e0b\u9879\u76ee\uff1a \u91cd\u73b0\u8be5\u95ee\u9898\u6240\u9700\u7684\u4ece\u542f\u52a8\u5f00\u59cb\u7684\u786e\u5207\u6b65\u9aa4\u5e8f\u5217\u3002\u8fd9\u5e94\u8be5\u662f\u81ea\u6210\u4e00\u4f53\u7684\uff1b\u4ec5\u4ec5\u53d1\u9001\u4e00\u4e2a\u6ca1\u6709\u53c2\u6570\u548c\u5176\u4ed6\u6570\u636e\u7684\u88f8\u547d\u4ee4\u662f\u4e0d\u591f\u7684\u3002\u5982\u679c\u4e00\u4e2a\u9519\u8bef\u9700\u8981\u4e00\u4e2a\u7279\u5b9a\u7684\u4e8b\u4ef6\u5e8f\u5217\uff0c\u8bf7\u5217\u51fa\u8fd9\u4e9b\u3002\u6211\u4eec\u9f13\u52b1\u4f60\u5c3d\u91cf\u51cf\u5c11\u4f60\u7684\u4f8b\u5b50\u7684\u5927\u5c0f\uff0c\u4f46\u8fd9\u5e76\u4e0d\u662f\u7edd\u5bf9\u5fc5\u8981\u7684\u3002\u5982\u679c\u8fd9\u4e2a\u9519\u8bef\u662f\u53ef\u91cd\u590d\u7684\uff0c\u6211\u4eec\u4e5f\u4f1a\u53d1\u73b0\u5b83\u3002 \u4f60\u5f97\u5230\u7684\u8f93\u51fa\u3002\u8bf7\u4e0d\u8981\u53ea\u8bf4\u5b83 \"\u6ca1\u6709\u5de5\u4f5c \"\u6216 \"\u5931\u8d25\"\u3002\u5982\u679c\u6709\u9519\u8bef\u4fe1\u606f\uff0c\u8bf7\u663e\u793a\u51fa\u6765\uff0c\u5373\u4f7f\u4f60\u4e0d\u4e86\u89e3\u5b83\u3002\u5982\u679c OpenBSD \u56e0\u4e3a\u67d0\u4e2a\u9519\u8bef\u800c\u5d29\u6e83\uff0c\u8bf7\u8bf4\u660e\u662f\u54ea\u4e00\u4e2a\u3002\u5982\u679c\u4ec0\u4e48\u90fd\u6ca1\u53d1\u751f, \u5c31\u8bf4\u51fa\u6765. \u5373\u4f7f\u4f60\u7684\u6d4b\u8bd5\u6848\u4f8b\u7684\u7ed3\u679c\u662f\u7a0b\u5e8f\u5d29\u6e83\u6216\u5176\u4ed6\u660e\u663e\u7684\u60c5\u51b5\uff0c\u5728\u6211\u4eec\u7684\u6d4b\u8bd5\u4e2d\u53ef\u80fd\u4e0d\u4f1a\u53d1\u751f\u3002\u6700\u7b80\u5355\u7684\u662f\u590d\u5236\u7ec8\u7aef\u7684\u8f93\u51fa\uff0c\u5982\u679c\u53ef\u80fd\u7684\u8bdd\u3002 \u6ce8\u610f\uff1a\u5982\u679c\u51fa\u73b0\u81f4\u547d\u9519\u8bef\uff0c\u63d0\u4f9b\u7684\u9519\u8bef\u6d88\u606f\u53ef\u80fd\u4e0d\u5305\u542b\u6240\u6709\u53ef\u7528\u4fe1\u606f\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8fd8\u8981\u67e5\u770b\u7cfb\u7edf\u65e5\u5fd7\u6587\u4ef6\u4e2d\u7684\u8f93\u51fa\uff0c\u4f8b\u5982\u5b58\u50a8\u5728 /var/log \u4e2d\u7684\u8f93\u51fa\u3002 \u6b64\u5916\uff0c\u5982\u679c\u4f60\u6b63\u5728\u5904\u7406\u5177\u6709\u81ea\u5df1\u7684\u65e5\u5fd7\u6587\u4ef6\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f8b\u5982 httpd\uff0c\u8bf7\u68c0\u67e5\u5176\u4fdd\u5b58\u65e5\u5fd7\u7684\u4f4d\u7f6e\u662f\u5426\u5b58\u5728\u9519\u8bef\u3002 OpenBSD \u5185\u6838\u8f93\u51fa\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 dmesg \u547d\u4ee4\u83b7\u53d6\u6b64\u4fe1\u606f\uff0c\u4f46\u4f60\u7684 dmesg \u8f93\u51fa\u53ef\u80fd\u4e0d\u5305\u542b /var/run/dmesg.boot \u4e2d\u6355\u83b7\u7684\u6240\u6709\u4fe1\u606f\u3002\u5982\u679c\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u5305\u62ec\u4e24\u8005\u7684\u4fe1\u606f\u3002 \u8bf7\u5c06\u6b64\u5305\u542b\u5728\u6240\u6709\u9519\u8bef\u62a5\u544a\u4e2d\u3002 \u5982\u679c\u4f60\u8fd0\u884c\u4e0e\u4f60\u7684\u9519\u8bef\u6709\u5173\u7684\u7b2c\u4e09\u65b9\u8f6f\u4ef6\uff0c\u8bf7\u8bf4\u660e\uff0c\u5305\u62ec\u4ec0\u4e48\u7248\u672c\u3002\u5982\u679c\u4f60\u5728\u8c08\u8bba\u5feb\u7167\uff0c\u8bf7\u63d0\u53ca\uff0c\u5305\u62ec\u5176\u65e5\u671f\u548c\u65f6\u95f4\u3002 \u5185\u6838\u5d29\u6e83\uff08kernel panic\uff09\u7684\u56de\u6eaf\u3002\u5982\u679c\u4f60\u7684\u5185\u6838\u51fa\u73b0\u5d29\u6e83\u5e76\u4e14\u4f60\u5904\u4e8e ddb(4) \u63d0\u793a\u7b26\u4e0b\uff0c\u8bf7\u6309\u7167\u5efa\u8bae\u5728\u9519\u8bef\u62a5\u544a\u4e2d\u63d0\u4f9b\u5d29\u6e83\u6d88\u606f\u4ee5\u53ca trace \u548c ps \u547d\u4ee4\u7684\u8f93\u51fa\u3002\u5982\u679c\u673a\u5668\u6302\u8d77\uff0c\u8bf7\u5c1d\u8bd5\u5728\u6302\u8d77\u4e4b\u524d\u542f\u7528 sysctl ddb.console=1 \u5e76\u901a\u8fc7\u952e\u76d8\u4e0a\u7684 Ctl+Alt+Esc \u8fdb\u5165 DDB\uff08\u5fc5\u987b\u5728 X \u4e4b\u5916\uff09\uff0c\u6216\u8005\u5982\u679c\u4f7f\u7528\u4e32\u884c\u63a7\u5236\u53f0\u5219\u53d1\u9001 BREAK\u3002\u5982\u679c\u7531\u4e8e\u67d0\u79cd\u539f\u56e0\uff0c\u5d29\u6e83\u6d88\u606f\u4e0d\u53ef\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 show panic \u547d\u4ee4\u518d\u6b21\u83b7\u53d6\u5b83\u3002\u53ea\u8981\u6709\u53ef\u80fd\uff0c\u8fd9\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002 \u6ca1\u6709\u5d29\u6e83\u6d88\u606f\u3001\u56de\u6eaf\u548c ps \u8f93\u51fa\u7684\u5d29\u6e83\u62a5\u544a\u662f\u65e0\u7528\u7684\u3002 show registers \u7684\u8f93\u51fa\u4e5f\u53ef\u80fd\u5f88\u6709\u4ef7\u503c\u3002\u7136\u540e\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4f7f\u7528 boot dump \u91cd\u65b0\u542f\u52a8\uff0c\u4ee5\u4fbf savecore(8) \u53ef\u4ee5\u4fdd\u5b58\u5185\u6838\u6620\u50cf\u4ee5\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u4e8b\u540e\u8c03\u8bd5\uff0c\u5982 crash(8) \u624b\u518c\u9875\u4e2d\u6240\u8ff0\u3002 \u5982\u679c\u4f60\u5728\u4f7f\u7528 X.Org \u670d\u52a1\u5668\u7684\u67b6\u6784\u4e0a\u62a5\u544a X \u7a97\u53e3\u7684\u95ee\u9898\uff0c\u8bf7\u5728\u62a5\u544a\u4e2d\u5305\u542b\u5b8c\u6574\u7684 /var/log/Xorg.0.log \u6587\u4ef6\u4ee5\u53ca dmesg.boot \u4fe1\u606f\u3002 \u5982\u679c\u4f60\u7684\u9519\u8bef\u62a5\u544a\u53d8\u5f97\u76f8\u5f53\u957f\uff0c\u8bf7\u4e0d\u8981\u5bb3\u6015\u3002\u90a3\u662f\u751f\u6d3b\u4e2d\u7684\u4e00\u4e2a\u4e8b\u5b9e\u3002\u4e0e\u5176\u8ba9\u6211\u4eec\u4ece\u4f60\u90a3\u91cc\u69a8\u53d6\u4e8b\u5b9e\uff0c\u4e0d\u5982\u7b2c\u4e00\u6b21\u5c31\u62a5\u544a\u4e00\u5207\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u5982\u679c\u4f60\u7684\u8f93\u5165\u6587\u4ef6\u5f88\u5927\uff0c\u4f60\u53ef\u4ee5\u5148\u95ee\u95ee\u662f\u5426\u6709\u4eba\u6709\u5174\u8da3\u7814\u7a76\u5b83\u3002 \u53d1\u9001\u9519\u8bef\u62a5\u544a \u00b6 \u5982\u679c\u53ef\u80fd\uff0c\u8bf7\u4f7f\u7528 sendbug(1) \u547d\u4ee4\u5e2e\u52a9\u751f\u6210\u9519\u8bef\u62a5\u544a\u3002\u5b83\u5c06\u81ea\u52a8\u5305\u542b\u4e00\u4e9b\u6709\u5173\u4f60\u7684\u786c\u4ef6\u7684\u6709\u7528\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4fe1\u606f\u6709\u52a9\u4e8e\u8bca\u65ad\u8bb8\u591a\u95ee\u9898\u3002 \u6b64\u5de5\u5177\u8981\u6c42\u4f60\u7684\u7cfb\u7edf\u53ef\u4ee5\u6b63\u786e\u53d1\u9001\u7535\u5b50\u90ae\u4ef6\u3002\u5982\u679c\u4f60\u65e0\u6cd5\u5728\u529f\u80fd\u6b63\u5e38\u7684 OpenBSD \u673a\u5668\u4e0a\u4f7f\u7528 sendbug \uff0c\u8bf7\u5c06\u4f60\u7684\u9519\u8bef\u62a5\u544a\u53d1\u9001\u81f3 bugs@openbsd.org \u3002 \u4e5f\u8bb8\u4f60\u53d1\u6765\u7684\u662f\u4e00\u4e2a\u529f\u80fd\u8bf7\u6c42\uff0c\u4e0d\u4e00\u5b9a\u662f\u4e00\u4e2a\u9519\u8bef\u3002\u65b0\u529f\u80fd\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u5c24\u5176\u662f\u5b9e\u73b0\u4f60\u5efa\u8bae\u7684\u65b0\u529f\u80fd\u7684\u4ee3\u7801\u3002 \u4e3a\u4e86\u8c03\u8bd5\u4e00\u4e9b\u95ee\u9898\uff0c\u6211\u4eec\u5fc5\u987b\u6709\u6709\u95ee\u9898\u7684\u786c\u4ef6\u3002\u8bf7\u8bb0\u4f4f\uff0cOpenBSD \u9879\u76ee\u7684\u8d44\u6e90\u662f\u6709\u9650\u7684\u3002 \u4f60\u53ef\u4ee5 \u6350\u8d60\u4e00\u4e9b\u786c\u4ef6 \u3002","title":"\u62a5\u544a BUG"},{"location":"others/report/#openbsd---\u62a5\u544a\u95ee\u9898","text":"","title":"OpenBSD - \u62a5\u544a\u95ee\u9898"},{"location":"others/report/#\u62a5\u544a\u5df2\u53d1\u884c\u7248\u672c\u7684\u95ee\u9898","text":"\u5728\u62a5\u544a\u5df2\u53d1\u5e03\u7248\u672c\u7684\u9519\u8bef/\u95ee\u9898\u4e4b\u524d\uff0c\u8bf7\u67e5\u770b\u6b64\u6e05\u5355\uff1a \u9996\u5148\uff0c\u68c0\u67e5 \u6709\u5173\u8be5\u7248\u672c\u7684\u8865\u4e01\u548c\u8bf4\u660e \u3002 \u63a5\u4e0b\u6765\uff0c\u627e\u51fa\u662f\u5426\u6709\u66f4\u65b0\u7684\u7248\u672c\u53ef\u7528\u3002 \u6700\u540e\uff0c\u68c0\u67e5 OpenBSD \u7248\u672c\u4e4b\u95f4\u7684\u66f4\u6539 \u3002 \u5982\u679c\u770b\u8d77\u6765\u6ca1\u6709\u4efb\u4f55\u4e1c\u897f\u53ef\u4ee5\u89e3\u51b3\u4f60\u7684\u95ee\u9898\uff0c\u90a3\u4e48\u8bf7\u5728\u63d0\u4ea4\u9519\u8bef\u62a5\u544a\u4e4b\u524d\u719f\u6089 sendbug(1) \u3002","title":"\u62a5\u544a\u5df2\u53d1\u884c\u7248\u672c\u7684\u95ee\u9898"},{"location":"others/report/#\u62a5\u544a--current-\u7248\u672c\u7684\u95ee\u9898","text":"\u5982\u679c\u4f60\u7684\u95ee\u9898\u51fa\u5728 -current \u6e90\u4ee3\u7801\u6811\u800c\u4e0d\u662f -release \u6216 -stable \u4e0a\uff0c \u81f3\u5c11\u6d4b\u8bd5\u4e24\u6b21\u95ee\u9898\uff0c\u5e76\u5728\u51e0\u5929\u4e4b\u5185\u66f4\u65b0\u6e90\u4ee3\u7801\u3002 \u4e0d\u8981\u62a5\u544a\u6e90\u4ee3\u7801\u6811\u7f16\u8bd1\u95ee\u9898\uff0c\u9664\u975e\u5b83\u4eec\u4e00\u76f4\u5b58\u5728\u3002\u5b83\u4eec\u51e0\u4e4e\u603b\u662f\u4f60\u9020\u6210\u7684\u9519\u8bef\uff0c\u6216\u8005\u5f53\u4f60\u9047\u5230\u5b83\u4eec\u65f6\u6211\u4eec\u6b63\u5728\u5904\u7406\u5b83\u4eec\u3002\u4ece\u4e8b\u8be5\u9879\u76ee\u7684\u4eba\u5458\u6bcf\u5929\u81f3\u5c11\u8fdb\u884c\u4e00\u6b21 make build \uff0c\u901a\u5e38\u6bcf\u5929\u4f7f\u7528\u4e0d\u540c\u7684\u67b6\u6784\u8fdb\u884c\u6570\u6b21\u7684\u7f16\u8bd1\u3002 \u8bf7\u8bb0\u4f4f\uff0c AnonCVS \u670d\u52a1\u5668\u6bd4\u5b9e\u9645\u5de5\u4f5c\u7684\u6e90\u4ee3\u7801\u6811\u665a\u51e0\u4e2a\u5c0f\u65f6\u66f4\u65b0\u3002 \u68c0\u67e5 OpenBSD \u7248\u672c\u4e4b\u95f4\u6240\u505a\u7684\u66f4\u6539 \u4ee5\u67e5\u770b\u95ee\u9898\u662f\u5426\u5df2\u5f97\u5230\u89e3\u51b3\u3002 \u6211\u4eec\u5728\u521b\u5efa\u5feb\u7167\u65f6\u975e\u5e38\u8c28\u614e\u3002\u6709\u65f6\u4f1a\u72af\u9519\u8bef\uff0c\u6211\u4eec\u5bf9\u6b64\u8868\u793a\u6b49\u610f\u3002\u9605\u8bfb\u6216\u5199\u4fe1\u7ed9\u90ae\u4ef6\u5217\u8868\u6bd4\u53d1\u9001\u9519\u8bef\u62a5\u544a\u66f4\u5408\u9002\u3002","title":"\u62a5\u544a -current \u7248\u672c\u7684\u95ee\u9898"},{"location":"others/report/#\u5982\u4f55\u521b\u5efa\u95ee\u9898\u62a5\u544a","text":"\u59cb\u7ec8\u63d0\u4f9b\u5c3d\u53ef\u80fd\u591a\u7684\u4fe1\u606f\u3002 \u5c1d\u8bd5\u627e\u51fa\u786e\u5207\u7684\u95ee\u9898\u3002\u7ed9\u51fa\u5173\u4e8e\u5982\u4f55\u91cd\u73b0\u95ee\u9898\u7684\u660e\u786e\u8bf4\u660e\u3002\u5c3d\u91cf\u7528\u5c3d\u53ef\u80fd\u51c6\u786e\u548c\u4e0d\u6df7\u6dc6\u7684\u672f\u8bed\u6765\u63cf\u8ff0\u5b83\uff0c\u7279\u522b\u662f\u5982\u679c\u5b83\u4e0d\u5bb9\u6613\u590d\u73b0\u7684\u8bdd\u3002\u901a\u8fc7\u8bf4\u201c\u5b83\u5d29\u6e83\u201d\u6216\u201c\u6211\u5728\u6211\u6784\u5efa\u7684\u8fd9\u4e2a\u76d2\u5b50\u4e0a\u9047\u5230\u5947\u602a\u7684\u4e2d\u65ad\u95ee\u9898\u201d\u6765\u63cf\u8ff0\u95ee\u9898\u662f\u6ca1\u6709\u5e2e\u52a9\u7684\u3002\u4e0e\u5176\u4ed6\u4eba\u4ea4\u6d41\uff08\u5728\u90ae\u4ef6\u5217\u8868\u6216\u4efb\u4f55\u5176\u4ed6\u77e5\u8bc6\u6e0a\u535a\u7684\u7528\u6237\u805a\u96c6\u7684\u8bba\u575b\u4e0a\uff09\u4ee5\u786e\u8ba4\u95ee\u9898\u662f\u65b0\u7684\u5e76\u4e14\u6700\u597d\u662f\u53ef\u91cd\u590d\u7684\u3002\u8bf7\u5c1d\u8bd5\u786e\u4fdd\u5b83\u4e0d\u662f\u4f7f\u7528\u635f\u574f\u6216\u4e0d\u53d7\u652f\u6301\u7684\u786c\u4ef6\u6216\u4f7f\u7528\u4e0d\u53d7\u652f\u6301\u7684\u6784\u5efa\u9009\u9879\u6216\u8f6f\u4ef6\u9020\u6210\u7684\u672c\u5730\u95ee\u9898\u3002 \u8bf7\u4e0d\u8981\u5f00\u59cb\u4fee\u590d\u9700\u8981\u5927\u91cf\u5de5\u4f5c\u7684\u95ee\u9898\uff0c\u76f4\u5230\u4f60\u786e\u5b9a\u4f60\u4e86\u89e3\u8fd9\u4e9b\u95ee\u9898\uff0c\u7279\u522b\u662f\u5728\u6211\u4eec\u7684\u53d1\u5e03\u671f\uff0c\u6211\u4eec\u5fc5\u987b\u4e0d\u6539\u53d8\u4ee3\u7801\u7684\u4e3b\u8981\u90e8\u5206\u3002\u5982\u679c\u4f60\u8981\u5199\u5927\u91cf\u7684\u4ee3\u7801\uff0c\u8bf7\u5728\u90ae\u4ef6\u5217\u8868\u4e2d\u63d0\u53ca\uff0c\u4ee5\u786e\u4fdd\u6ca1\u6709\u5176\u4ed6\u4eba\u5df2\u7ecf\u5728\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\uff08\u8282\u7701\u91cd\u590d\u52b3\u52a8\uff09\u3002 \u6bcf\u4e2a\u9519\u8bef\u62a5\u544a\u4e2d\u90fd\u5e94\u5305\u542b\u4ee5\u4e0b\u9879\u76ee\uff1a \u91cd\u73b0\u8be5\u95ee\u9898\u6240\u9700\u7684\u4ece\u542f\u52a8\u5f00\u59cb\u7684\u786e\u5207\u6b65\u9aa4\u5e8f\u5217\u3002\u8fd9\u5e94\u8be5\u662f\u81ea\u6210\u4e00\u4f53\u7684\uff1b\u4ec5\u4ec5\u53d1\u9001\u4e00\u4e2a\u6ca1\u6709\u53c2\u6570\u548c\u5176\u4ed6\u6570\u636e\u7684\u88f8\u547d\u4ee4\u662f\u4e0d\u591f\u7684\u3002\u5982\u679c\u4e00\u4e2a\u9519\u8bef\u9700\u8981\u4e00\u4e2a\u7279\u5b9a\u7684\u4e8b\u4ef6\u5e8f\u5217\uff0c\u8bf7\u5217\u51fa\u8fd9\u4e9b\u3002\u6211\u4eec\u9f13\u52b1\u4f60\u5c3d\u91cf\u51cf\u5c11\u4f60\u7684\u4f8b\u5b50\u7684\u5927\u5c0f\uff0c\u4f46\u8fd9\u5e76\u4e0d\u662f\u7edd\u5bf9\u5fc5\u8981\u7684\u3002\u5982\u679c\u8fd9\u4e2a\u9519\u8bef\u662f\u53ef\u91cd\u590d\u7684\uff0c\u6211\u4eec\u4e5f\u4f1a\u53d1\u73b0\u5b83\u3002 \u4f60\u5f97\u5230\u7684\u8f93\u51fa\u3002\u8bf7\u4e0d\u8981\u53ea\u8bf4\u5b83 \"\u6ca1\u6709\u5de5\u4f5c \"\u6216 \"\u5931\u8d25\"\u3002\u5982\u679c\u6709\u9519\u8bef\u4fe1\u606f\uff0c\u8bf7\u663e\u793a\u51fa\u6765\uff0c\u5373\u4f7f\u4f60\u4e0d\u4e86\u89e3\u5b83\u3002\u5982\u679c OpenBSD \u56e0\u4e3a\u67d0\u4e2a\u9519\u8bef\u800c\u5d29\u6e83\uff0c\u8bf7\u8bf4\u660e\u662f\u54ea\u4e00\u4e2a\u3002\u5982\u679c\u4ec0\u4e48\u90fd\u6ca1\u53d1\u751f, \u5c31\u8bf4\u51fa\u6765. \u5373\u4f7f\u4f60\u7684\u6d4b\u8bd5\u6848\u4f8b\u7684\u7ed3\u679c\u662f\u7a0b\u5e8f\u5d29\u6e83\u6216\u5176\u4ed6\u660e\u663e\u7684\u60c5\u51b5\uff0c\u5728\u6211\u4eec\u7684\u6d4b\u8bd5\u4e2d\u53ef\u80fd\u4e0d\u4f1a\u53d1\u751f\u3002\u6700\u7b80\u5355\u7684\u662f\u590d\u5236\u7ec8\u7aef\u7684\u8f93\u51fa\uff0c\u5982\u679c\u53ef\u80fd\u7684\u8bdd\u3002 \u6ce8\u610f\uff1a\u5982\u679c\u51fa\u73b0\u81f4\u547d\u9519\u8bef\uff0c\u63d0\u4f9b\u7684\u9519\u8bef\u6d88\u606f\u53ef\u80fd\u4e0d\u5305\u542b\u6240\u6709\u53ef\u7528\u4fe1\u606f\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8fd8\u8981\u67e5\u770b\u7cfb\u7edf\u65e5\u5fd7\u6587\u4ef6\u4e2d\u7684\u8f93\u51fa\uff0c\u4f8b\u5982\u5b58\u50a8\u5728 /var/log \u4e2d\u7684\u8f93\u51fa\u3002 \u6b64\u5916\uff0c\u5982\u679c\u4f60\u6b63\u5728\u5904\u7406\u5177\u6709\u81ea\u5df1\u7684\u65e5\u5fd7\u6587\u4ef6\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f8b\u5982 httpd\uff0c\u8bf7\u68c0\u67e5\u5176\u4fdd\u5b58\u65e5\u5fd7\u7684\u4f4d\u7f6e\u662f\u5426\u5b58\u5728\u9519\u8bef\u3002 OpenBSD \u5185\u6838\u8f93\u51fa\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 dmesg \u547d\u4ee4\u83b7\u53d6\u6b64\u4fe1\u606f\uff0c\u4f46\u4f60\u7684 dmesg \u8f93\u51fa\u53ef\u80fd\u4e0d\u5305\u542b /var/run/dmesg.boot \u4e2d\u6355\u83b7\u7684\u6240\u6709\u4fe1\u606f\u3002\u5982\u679c\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u5305\u62ec\u4e24\u8005\u7684\u4fe1\u606f\u3002 \u8bf7\u5c06\u6b64\u5305\u542b\u5728\u6240\u6709\u9519\u8bef\u62a5\u544a\u4e2d\u3002 \u5982\u679c\u4f60\u8fd0\u884c\u4e0e\u4f60\u7684\u9519\u8bef\u6709\u5173\u7684\u7b2c\u4e09\u65b9\u8f6f\u4ef6\uff0c\u8bf7\u8bf4\u660e\uff0c\u5305\u62ec\u4ec0\u4e48\u7248\u672c\u3002\u5982\u679c\u4f60\u5728\u8c08\u8bba\u5feb\u7167\uff0c\u8bf7\u63d0\u53ca\uff0c\u5305\u62ec\u5176\u65e5\u671f\u548c\u65f6\u95f4\u3002 \u5185\u6838\u5d29\u6e83\uff08kernel panic\uff09\u7684\u56de\u6eaf\u3002\u5982\u679c\u4f60\u7684\u5185\u6838\u51fa\u73b0\u5d29\u6e83\u5e76\u4e14\u4f60\u5904\u4e8e ddb(4) \u63d0\u793a\u7b26\u4e0b\uff0c\u8bf7\u6309\u7167\u5efa\u8bae\u5728\u9519\u8bef\u62a5\u544a\u4e2d\u63d0\u4f9b\u5d29\u6e83\u6d88\u606f\u4ee5\u53ca trace \u548c ps \u547d\u4ee4\u7684\u8f93\u51fa\u3002\u5982\u679c\u673a\u5668\u6302\u8d77\uff0c\u8bf7\u5c1d\u8bd5\u5728\u6302\u8d77\u4e4b\u524d\u542f\u7528 sysctl ddb.console=1 \u5e76\u901a\u8fc7\u952e\u76d8\u4e0a\u7684 Ctl+Alt+Esc \u8fdb\u5165 DDB\uff08\u5fc5\u987b\u5728 X \u4e4b\u5916\uff09\uff0c\u6216\u8005\u5982\u679c\u4f7f\u7528\u4e32\u884c\u63a7\u5236\u53f0\u5219\u53d1\u9001 BREAK\u3002\u5982\u679c\u7531\u4e8e\u67d0\u79cd\u539f\u56e0\uff0c\u5d29\u6e83\u6d88\u606f\u4e0d\u53ef\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 show panic \u547d\u4ee4\u518d\u6b21\u83b7\u53d6\u5b83\u3002\u53ea\u8981\u6709\u53ef\u80fd\uff0c\u8fd9\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002 \u6ca1\u6709\u5d29\u6e83\u6d88\u606f\u3001\u56de\u6eaf\u548c ps \u8f93\u51fa\u7684\u5d29\u6e83\u62a5\u544a\u662f\u65e0\u7528\u7684\u3002 show registers \u7684\u8f93\u51fa\u4e5f\u53ef\u80fd\u5f88\u6709\u4ef7\u503c\u3002\u7136\u540e\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4f7f\u7528 boot dump \u91cd\u65b0\u542f\u52a8\uff0c\u4ee5\u4fbf savecore(8) \u53ef\u4ee5\u4fdd\u5b58\u5185\u6838\u6620\u50cf\u4ee5\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u4e8b\u540e\u8c03\u8bd5\uff0c\u5982 crash(8) \u624b\u518c\u9875\u4e2d\u6240\u8ff0\u3002 \u5982\u679c\u4f60\u5728\u4f7f\u7528 X.Org \u670d\u52a1\u5668\u7684\u67b6\u6784\u4e0a\u62a5\u544a X \u7a97\u53e3\u7684\u95ee\u9898\uff0c\u8bf7\u5728\u62a5\u544a\u4e2d\u5305\u542b\u5b8c\u6574\u7684 /var/log/Xorg.0.log \u6587\u4ef6\u4ee5\u53ca dmesg.boot \u4fe1\u606f\u3002 \u5982\u679c\u4f60\u7684\u9519\u8bef\u62a5\u544a\u53d8\u5f97\u76f8\u5f53\u957f\uff0c\u8bf7\u4e0d\u8981\u5bb3\u6015\u3002\u90a3\u662f\u751f\u6d3b\u4e2d\u7684\u4e00\u4e2a\u4e8b\u5b9e\u3002\u4e0e\u5176\u8ba9\u6211\u4eec\u4ece\u4f60\u90a3\u91cc\u69a8\u53d6\u4e8b\u5b9e\uff0c\u4e0d\u5982\u7b2c\u4e00\u6b21\u5c31\u62a5\u544a\u4e00\u5207\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u5982\u679c\u4f60\u7684\u8f93\u5165\u6587\u4ef6\u5f88\u5927\uff0c\u4f60\u53ef\u4ee5\u5148\u95ee\u95ee\u662f\u5426\u6709\u4eba\u6709\u5174\u8da3\u7814\u7a76\u5b83\u3002","title":"\u5982\u4f55\u521b\u5efa\u95ee\u9898\u62a5\u544a"},{"location":"others/report/#\u53d1\u9001\u9519\u8bef\u62a5\u544a","text":"\u5982\u679c\u53ef\u80fd\uff0c\u8bf7\u4f7f\u7528 sendbug(1) \u547d\u4ee4\u5e2e\u52a9\u751f\u6210\u9519\u8bef\u62a5\u544a\u3002\u5b83\u5c06\u81ea\u52a8\u5305\u542b\u4e00\u4e9b\u6709\u5173\u4f60\u7684\u786c\u4ef6\u7684\u6709\u7528\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4fe1\u606f\u6709\u52a9\u4e8e\u8bca\u65ad\u8bb8\u591a\u95ee\u9898\u3002 \u6b64\u5de5\u5177\u8981\u6c42\u4f60\u7684\u7cfb\u7edf\u53ef\u4ee5\u6b63\u786e\u53d1\u9001\u7535\u5b50\u90ae\u4ef6\u3002\u5982\u679c\u4f60\u65e0\u6cd5\u5728\u529f\u80fd\u6b63\u5e38\u7684 OpenBSD \u673a\u5668\u4e0a\u4f7f\u7528 sendbug \uff0c\u8bf7\u5c06\u4f60\u7684\u9519\u8bef\u62a5\u544a\u53d1\u9001\u81f3 bugs@openbsd.org \u3002 \u4e5f\u8bb8\u4f60\u53d1\u6765\u7684\u662f\u4e00\u4e2a\u529f\u80fd\u8bf7\u6c42\uff0c\u4e0d\u4e00\u5b9a\u662f\u4e00\u4e2a\u9519\u8bef\u3002\u65b0\u529f\u80fd\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u5c24\u5176\u662f\u5b9e\u73b0\u4f60\u5efa\u8bae\u7684\u65b0\u529f\u80fd\u7684\u4ee3\u7801\u3002 \u4e3a\u4e86\u8c03\u8bd5\u4e00\u4e9b\u95ee\u9898\uff0c\u6211\u4eec\u5fc5\u987b\u6709\u6709\u95ee\u9898\u7684\u786c\u4ef6\u3002\u8bf7\u8bb0\u4f4f\uff0cOpenBSD \u9879\u76ee\u7684\u8d44\u6e90\u662f\u6709\u9650\u7684\u3002 \u4f60\u53ef\u4ee5 \u6350\u8d60\u4e00\u4e9b\u786c\u4ef6 \u3002","title":"\u53d1\u9001\u9519\u8bef\u62a5\u544a"},{"location":"others/upgrade70/","text":"OpenBSD \u5347\u7ea7\u5411\u5bfc\uff1a6.9 \u81f3 7.0 \u00b6 [ FAQ Index ] | [ 6.8 -> 6.9 ] \u4ec5\u652f\u6301\u4ece\u4e00\u4e2a\u7248\u672c\u5347\u7ea7\u5230\u7d27\u968f\u5176\u540e\u7684\u7248\u672c\u3002 \u5728\u5c1d\u8bd5\u4e4b\u524d\u901a\u8bfb\u5e76\u7406\u89e3\u6b64\u8fc7\u7a0b\u3002\u5bf9\u4e8e\u91cd\u8981\u7684\u6216\u7269\u7406\u8fdc\u7a0b\u673a\u5668\uff0c\u9996\u5148\u5728\u76f8\u540c\u7684\u672c\u5730\u7cfb\u7edf\u4e0a\u5bf9\u5176\u8fdb\u884c\u6d4b\u8bd5\u3002 \u5728\u4f7f\u7528\u4efb\u4f55\u5347\u7ea7\u65b9\u6cd5\u4e4b\u524d \u00b6 \u68c0\u67e5 /usr \u4e2d\u7684\u53ef\u7528\u78c1\u76d8\u7a7a\u95f4\u3002 \u786e\u8ba4 /usr \u5206\u533a\u7684\u5927\u5c0f\u81f3\u5c11\u4e3a 1.1G\u3002\u5982\u679c\u7a7a\u95f4\u8f83\u5c0f\uff0c\u5347\u7ea7\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u4f60\u5e94\u8be5\u8003\u8651\u91cd\u65b0\u5b89\u88c5\u7cfb\u7edf\u3002 \u9605\u8bfb\u914d\u7f6e\u548c\u8bed\u6cd5\u66f4\u6539\u4ee5\u53ca\u8f6f\u4ef6\u5305\u5347\u7ea7\u8bf4\u660e\u3002 \u5728\u5f00\u59cb\u5347\u7ea7\u4e4b\u524d\uff0c\u53ef\u80fd\u9700\u8981\u8ba1\u5212\u4e00\u4e9b \u914d\u7f6e\u66f4\u6539 \u548c \u8f6f\u4ef6\u5305\u66f4\u6539 \u3002 \u5347\u7ea7\u65b9\u6cd5 \u00b6 \u65e0\u4eba\u503c\u5b88\u5347\u7ea7\uff1a \u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u4f7f\u7528 sysupgrade(8) \u8fdb\u884c\u65e0\u4eba\u503c\u5b88\u5347\u7ea7\u3002\u8be5\u7a0b\u5e8f\u5c06\u4e0b\u8f7d\u6240\u6709\u5b89\u88c5\u6587\u4ef6\u96c6\uff08install sets\uff09\uff0c\u9a8c\u8bc1\u5176\u7b7e\u540d\uff0c\u7136\u540e\u91cd\u65b0\u542f\u52a8\u4ee5\u81ea\u52a8\u6267\u884c\u5347\u7ea7\u3002\u65e0\u4eba\u503c\u5b88\u5347\u7ea7\u5b8c\u6210\u540e\uff0c\u7ee7\u7eed \u4e0b\u9762 \u7684\u64cd\u4f5c\u3002 \u4ea4\u4e92\u5f0f\u5347\u7ea7\uff1a \u5982\u679c\u4f60\u575a\u6301\u7701\u7565\u4e00\u4e9b\u5b89\u88c5\u96c6\uff0c\u4f60\u5c06\u9700\u8981\u6267\u884c \u4ea4\u4e92\u5f0f\u5347\u7ea7 \u3002\uff08\u5e26\u6709\u6240\u6709\u5b89\u88c5\u96c6\u7684 sysupgrade \u5347\u7ea7\u3002\uff09 \u624b\u52a8\u5347\u7ea7\uff1a \u6700\u540e\u4e00\u4e2a\u9009\u9879\u662f \u624b\u52a8\u5347\u7ea7\u7cfb\u7edf \u3002\uff08\u4e0d\u5efa\u8bae\u8fd9\u6837\u505a\uff0c\u56e0\u4e3a\u5b83\u662f\u6700\u5bb9\u6613\u51fa\u9519\u7684\u65b9\u6cd5\u3002\uff09 \u4ea4\u4e92\u5f0f\u5347\u7ea7 \u00b6 \u83b7\u53d6\u5e76\u9a8c\u8bc1 bsd.rd \u3002\u4e3a\u4f60\u7684\u673a\u5668\u4e0b\u8f7d\u76f8\u5e94\u67b6\u6784\u7684 ramdisk \u5185\u6838\u548c\u52a0\u5bc6\u7b7e\u540d\u7684\u6821\u9a8c\u548c\u6587\u4ef6\u3002 \u6587\u4ef6\u540d \u5bf9\u5e94\u67b6\u6784\u7684\u4e0b\u8f7d\u5730\u5740 bsd.rd alpha amd64 arm64 armv7 hppa i386 landisk loongson luna88k macppc octeon powerpc64 sparc64 SHA256.sig alpha amd64 arm64 armv7 hppa i386 landisk loongson luna88k macppc octeon powerpc64 sparc64 \u4f7f\u7528 signify(1) \u9a8c\u8bc1 bsd.rd \u548c SHA256.sig \uff1a $ signify -C -p /etc/signify/openbsd-70-base.pub -x SHA256.sig bsd.rd Signature Verified bsd.rd: OK \u63a5\u4e0b\u6765\uff0c\u4ece\u4e0a\u4e00\u6b65\u4e2d\u83b7\u53d6\u7684\u5b89\u88c5\u5185\u6838 bsd.rd \u542f\u52a8\u3002\u628a\u5b83\u653e\u5728\u4f60\u7684\u6587\u4ef6\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\u4e0b\uff0c\u5e76\u6307\u793a\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u542f\u52a8\u8fd9\u4e2a\u5185\u6838\u3002\u542f\u52a8\u6b64\u5185\u6838\u540e\uff0c\u9009\u62e9 (U)pgrade \u9009\u9879\u5e76\u6309\u7167\u63d0\u793a\u8fdb\u884c\u64cd\u4f5c\u3002 \u5b89\u88c5\u6587\u4ef6\u96c6\u540e\uff0c\u7cfb\u7edf\u5c06\u4f7f\u7528\u5347\u7ea7\u7684\u5185\u6838\u91cd\u65b0\u542f\u52a8\u3002\u73b0\u5728\u7ee7\u7eed \u4e0b\u4e00\u6b65 \uff1a \u5728\u5347\u7ea7\u540e \u00b6 \u5347\u7ea7\u6587\u4ef6\u96c6\u540e\uff0c\u7cfb\u7edf\u5c06\u4f7f\u7528\u5347\u7ea7\u7684\u5185\u6838\u91cd\u65b0\u542f\u52a8\uff0c\u5e76\u5728\u5f15\u5bfc\u671f\u95f4\u8fd0\u884c sysmerge(8) \u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u82e5\u65e0\u6cd5\u81ea\u52a8\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002\u5219\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a # sysmerge \u68c0\u67e5\u5e76\u6267\u884c\u8fd9\u4e9b \u914d\u7f6e\u66f4\u6539 \u3002 \u63a5\u4e0b\u6765 \u5220\u9664\u65e7\u6587\u4ef6 \u3002\u6700\u540e\u4f7f\u7528 pkg_add -u \u5347\u7ea7\u8f6f\u4ef6\u5305\u3002 \u4f60\u53ef\u80fd\u9700\u8981\u68c0\u67e5 \u52d8\u8bef\u8868\u9875\u9762 \u4ee5\u4e86\u89e3\u4efb\u4f55\u53d1\u5e03\u540e\u7684\u4fee\u590d\u3002 \u624b\u52a8\u5347\u7ea7\uff08\u6ca1\u6709\u5b89\u88c5\u5185\u6838\uff09 \u00b6 \u8fd9\u4e0d\u662f\u63a8\u8350\u7684\u8fc7\u7a0b\u3002\u5982\u679c\u53ef\u80fd\uff0c\u8bf7\u4f7f\u7528\u65e0\u4eba\u503c\u5b88\u6216\u4ea4\u4e92\u5f0f\u5347\u7ea7\u65b9\u6cd5\uff01 \u6709\u65f6\uff0c\u4f60\u9700\u8981\u5bf9\u65e0\u6cd5\u8fdb\u884c\u6b63\u5e38\u65e0\u4eba\u503c\u5b88\u6216\u4ea4\u4e92\u5f0f\u5347\u7ea7\u8fc7\u7a0b\u7684\u673a\u5668\u8fdb\u884c\u5347\u7ea7\u3002 \u51c6\u5907 \u00b6 \u5c06\u5b89\u88c5\u6587\u4ef6\u653e\u5728\u4e00\u4e2a\u9002\u5f53\u7684\u4f4d\u7f6e \u3002\u786e\u4fdd\u4f60\u6709\u8db3\u591f\u7684\u7a7a\u95f4\uff01\u8fdc\u7a0b\u5347\u7ea7\u65f6\u7a7a\u95f4\u4e0d\u8db3\u53ef\u80fd\u662f\u2026\u2026\u4e0d\u5e78\u7684\u3002\u8bf7\u6ce8\u610f\uff0c\u4f7f\u7528 softdep \u4f1a\u52a0\u5267\u8fd9\u79cd\u60c5\u51b5\uff0c\u56e0\u4e3a\u5220\u9664\u548c\u8986\u76d6\u7684\u6587\u4ef6\u4e0d\u4f1a\u7acb\u5373\u91ca\u653e\u5b83\u4eec\u7684\u7a7a\u95f4\u3002\u8003\u8651\u5728 /etc/fstab \u4e2d\u7981\u7528 softdep \u6302\u8f7d\u9009\u9879\u5e76\u5728\u8fdb\u884c\u624b\u52a8\u5347\u7ea7\u4e4b\u524d\u91cd\u65b0\u542f\u52a8\u3002\u5efa\u8bae\u5728 /usr \u4e0a\u81f3\u5c11\u6709 500MB \u53ef\u7528\u7a7a\u95f4\u3002 \u6210\u4e3a root \u7528\u6237 \u3002\u867d\u7136\u5728\u6bcf\u4e2a\u547d\u4ee4\u4e4b\u524d\u4f7f\u7528 doas(1) \u901a\u5e38\u662f\u4e00\u4e2a\u597d\u4e60\u60ef\uff0c\u4f46\u8be5\u547d\u4ee4\u53ef\u80fd\u4f1a\u88ab\u6700\u540e\u7684\u6b65\u9aa4\u7834\u574f\uff0c\u56e0\u6b64\u4f60\u5e94\u8be5\u5728\u5f00\u59cb\u6b64\u8fc7\u7a0b\u4e4b\u524d\u83b7\u5f97 root \u6743\u9650\u3002\u6b64\u65f6\u6700\u597d\u4f7f\u7528 doas \u4ee5\u5916\u7684\u65b9\u6cd5\u9a8c\u8bc1\u4f60\u5bf9 root \u7684\u8bbf\u95ee\u6743\u9650\uff0c\u5373\u76f4\u63a5\u767b\u5f55\u6216\u4f7f\u7528 su(1) \u3002 \u505c\u6b62\u548c/\u6216\u7981\u7528\u4efb\u4f55\u9002\u5f53\u7684\u5e94\u7528\u7a0b\u5e8f \u3002\u5728\u6b64\u8fc7\u7a0b\u4e2d\uff0c\u6240\u6709\u7528\u6237\u6001\u5e94\u7528\u7a0b\u5e8f\u90fd\u4f1a\u88ab\u66ff\u6362\uff0c\u4f46\u53ef\u80fd\u65e0\u6cd5\u8fd0\u884c\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u53d1\u751f\u5947\u602a\u7684\u4e8b\u60c5\u3002\u5728\u7b2c\u4e00\u6b21\u91cd\u65b0\u542f\u52a8\u671f\u95f4\uff0c\u4f60\u53ef\u80fd\u8fd8\u4f1a\u9047\u5230 DNS \u89e3\u6790\u95ee\u9898\uff0c\u56e0\u6b64\u4f9d\u8d56\u4e8e DNS \u7684 PF \u89c4\u5219\u548c NFS \u6302\u8f7d\u53ef\u80fd\u4f1a\u5bfc\u81f4\u542f\u52a8\u95ee\u9898\u3002\u53ef\u80fd\u8fd8\u6709\u5176\u4ed6\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f60\u5e0c\u671b\u5728\u5347\u7ea7\u540e\u4e0d\u8981\u7acb\u5373\u8fd0\u884c\uff1b\u4e5f\u8981\u505c\u6b62\u5e76\u7981\u7528\u5b83\u4eec\u3002 \u5b89\u88c5\u65b0\u7684\u5f15\u5bfc\u5757 \u3002\u8fd9\u5b9e\u9645\u4e0a\u5e94\u8be5\u5728\u4efb\u4f55\u5347\u7ea7\u7ed3\u675f\u65f6\u5b8c\u6210\u3002\u5982\u679c\u8fd9\u88ab\u5ffd\u7565\u4e86\uff0c\u90a3\u4e48\u73b0\u5728\u4e0d\u8fd9\u6837\u505a\u53ef\u80fd\u4f1a\u7834\u574f\u4e32\u884c\u63a7\u5236\u53f0\u6216\u5176\u4ed6\u4e1c\u897f\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u4f60\u7684\u5e73\u53f0\u3002\u4f7f\u7528 installboot(8) \u8fdb\u884c\u914d\u7f6e\uff0c\u5047\u8bbe sd0 \u662f\u4f60\u7684\u542f\u52a8\u76d8\uff1a # installboot sd0 \u624b\u52a8\u5347\u7ea7 \u00b6 \u5b89\u88c5\u65b0\u5185\u6838 \u3002\u590d\u5236\u4e3b\u5185\u6838\u7684\u989d\u5916\u6b65\u9aa4\u662f\u4e3a\u4e86\u786e\u4fdd\u78c1\u76d8\u4e0a\u59cb\u7ec8\u5b58\u5728\u6709\u6548\u7684\u5185\u6838\u3002 \u5982\u679c\u4f7f\u7528\u591a\u5904\u7406\u5668\u5185\u6838\uff1a # cd /usr/rel # where you put the release files # ln -f /bsd /obsd && cp bsd.mp /nbsd && mv /nbsd /bsd # cp bsd.rd / # cp bsd /bsd.sp \u5982\u679c\u4f7f\u7528\u5355\u5904\u7406\u5668\u5185\u6838\uff1a # cd /usr/rel # where you put the release files # ln -f /bsd /obsd && cp bsd /nbsd && mv /nbsd /bsd # cp bsd.rd bsd.mp / # may give a harmless warning \u542f\u7528 KARL \u3002\u5b58\u50a8\u5185\u6838\u7684\u6821\u9a8c\u548c\uff1a # sha256 -h /var/db/kernel.SHA256 /bsd \u5b89\u88c5\u65b0\u7684\u7528\u6237\u7a7a\u95f4\u3002 \u4fdd\u5b58reboot(8) \u7684\u526f\u672c\uff0c\u89e3\u538b\u7f29\u5e76\u5b89\u88c5\u53d1\u884c\u7248\u5305\uff0c\u91cd\u65b0\u542f\u52a8\u3002\u6700\u540e\u5b89\u88c5 base70.tgz \uff0c\u56e0\u4e3a\u65b0\u7684\u57fa\u672c\u7cfb\u7edf\uff0c\u7279\u522b\u662f tar(1) \u3001 gzip(1) \u548c reboot(8) \uff0c\u5c06\u65e0\u6cd5\u4e0e\u65e7\u5185\u6838\u4e00\u8d77\u4f7f\u7528\u3002\u624b\u52a8\u89e3\u538b\u6240\u9700\u7684\u6587\u4ef6\u96c6\uff1a # cp /sbin/reboot /sbin/oreboot # tar -C / -xzphf xshare70.tgz # tar -C / -xzphf xserv70.tgz # tar -C / -xzphf xfont70.tgz # tar -C / -xzphf xbase70.tgz # tar -C / -xzphf man70.tgz # tar -C / -xzphf game70.tgz # tar -C / -xzphf comp70.tgz # tar -C / -xzphf base70.tgz # Install last! # /sbin/oreboot \u6216\u8005\uff0c\u5982\u679c\u4f60\u4f7f\u7528 ksh(1) \uff0c\u4f60\u53ef\u4ee5\uff1a # cp /sbin/reboot /sbin/oreboot # for _f in [!b]*70.tgz base70.tgz; do tar -C / -xzphf \"$_f\" || break; done # /sbin/oreboot \u8bf7\u6ce8\u610f\uff0c tar(1) \u6bcf\u6b21\u8c03\u7528\u53ea\u80fd\u6269\u5c55\u4e00\u4e2a\u5b58\u6863\uff0c\u56e0\u6b64\u7b80\u5355\u7684 glob \u4e0d\u8d77\u4f5c\u7528\u3002 \u91cd\u542f\u540e\uff0c\u66f4\u65b0 /dev \u3002\u8fd0\u884c MAKEDEV(8) \uff1a # cd /dev # ./MAKEDEV all \u66f4\u65b0\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f \u3002\u4ecd\u7136\u5047\u8bbe sd0 \u662f\u4f60\u7684\u542f\u52a8\u76d8\uff1a # installboot sd0 \u66f4\u65b0\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6 \u3002\u8fd0\u884c sysmerge(8) \uff1a # sysmerge \u66f4\u65b0\u56fa\u4ef6 \u3002\u4f60\u7684\u7cfb\u7edf\u53ef\u80fd\u6709\u65b0\u56fa\u4ef6\u3002\u7528 fw_update(1) \u66f4\u65b0\u5b83\uff1a # fw_update \u5b8c\u6210 \u3002\u67e5\u770b\u5f15\u5bfc\u7684\u63a7\u5236\u53f0\u8f93\u51fa\uff08\u4f7f\u7528 dmesg -s \uff09\u5e76\u6839\u636e\u9700\u8981\u66f4\u6b63\u4efb\u4f55\u6545\u969c\u3002\u4ee5\u4e0b \u914d\u7f6e\u66f4\u6539 \u540e\u7684\u6240\u6709\u6b65\u9aa4\u4e5f\u9002\u7528\u4e8e\u624b\u52a8\u5347\u7ea7\u3002\u6700\u540e\uff0c\u5220\u9664 /sbin/oreboot \u5e76\u66f4\u65b0\u8f6f\u4ef6\u5305\uff1a pkg_add -u \u3002 \u518d\u6b21\u91cd\u65b0\u542f\u52a8\u4ee5\u786e\u4fdd\u4f60\u4f7f\u7528\u6700\u65b0\u7684\u56fa\u4ef6\u6587\u4ef6\u5e76\u5728\u4f60\u81ea\u5df1\u7684 KARL \u751f\u6210\u7684\u5185\u6838\u4e0a\u8fd0\u884c\u3002 \u914d\u7f6e\u548c\u8bed\u6cd5\u66f4\u6539 \u00b6 snmpd(8) \u3002\u9ed8\u8ba4\u5b89\u5168\u8bbe\u7f6e\u5df2\u6536\u7d27\u3002 \u9ed8\u8ba4\u534f\u8bae\u5df2\u66f4\u6539\u4e3a SNMPv3\u3002 \u9ed8\u8ba4\u7684 public \u548c private \u793e\u533a\u5df2\u88ab\u5220\u9664\u3002\u73b0\u5728\u5fc5\u987b\u660e\u786e\u8bbe\u7f6e\u793e\u533a\u3002 seclevel \u9ed8\u8ba4\u503c\u4ece none \u66f4\u6539\u4e3a enc \u3002 \u9ed8\u8ba4 SNMPv3 \u52a0\u5bc6\u5df2\u66f4\u6539\u4e3a AES\u3002 trap receiver \uff08\u9677\u9631\u63a5\u6536\u5668\uff0c\u7528\u4e8e\u5411\u53e6\u4e00\u53f0\u4e3b\u673a\u53d1\u9001\u9677\u9631\uff09\u7684\u534f\u8bae\u7248\u672c\u4e0d\u518d\u9ed8\u8ba4\u4e3a SNMPv2\u3002 \u8981\u914d\u7f6e SNMPv3\uff0c\u4f60\u9700\u8981\u5728\u914d\u7f6e\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u7528\u6237\uff0c\u4f8b\u5982\uff1a user \"manager\" authkey \"XblueQ300ZyAbUIbndmWjfl\" auth hmac-sha1 enc aes enckey \"tVadj9jxq8rdJ\" \u5982\u679c\u4f60\u9700\u8981\u6062\u590d SNMPv1/v2c\uff0c\u4f60\u53ef\u4ee5\u5728 snmpd.conf(5) \u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a listen on any snmpv1 snmpv2c read read-only community U9PeBY1694bcxMnm seclevel none \u793e\u533a\u540d\u79f0\u4e0d\u5e94\u8be5\u662f\u5e38\u89c1\u7684\u6216\u5bb9\u6613\u88ab\u66b4\u529b\u7834\u89e3\u7684\uff0c\u7279\u522b\u662f\u5982\u679c\u66b4\u9732\u5728\u4e92\u8054\u7f51\u4e0a\u3002 snmp(1) 1. \u9ed8\u8ba4\u534f\u8bae\u7248\u672c\u5df2\u4ece v2c \u66f4\u6539\u4e3a v3\u3002 2. \u9ed8\u8ba4\u52a0\u5bc6\u5df2\u66f4\u6539\u4e3a AES\u3002 3. \u9ed8\u8ba4\u8eab\u4efd\u9a8c\u8bc1\u5df2\u66f4\u6539\u4e3a SHA1\u3002 4. \u9ed8\u8ba4\u793e\u533a public \u5df2\u88ab\u5220\u9664\u3002 \u5220\u9664\u7684\u6587\u4ef6 \u00b6 dmx \u5e93\u5df2\u88ab\u5220\u9664\u3002 # rm -f /usr/X11R6/lib/libdmx.* \\ /usr/X11R6/include/X11/extensions/dmxext.h \\ /usr/X11R6/lib/pkgconfig/dmx.pc \\ /usr/X11R6/man/man3/DMX*.3 \u4f60\u53ef\u4ee5\u501f\u52a9 sysclean \u5305\u8fdb\u884c\u66f4\u8be6\u7ec6\u7684\u6e05\u7406\u3002 \u7279\u6b8a\u7684\u8f6f\u4ef6\u5305 \u00b6 net/freeradius \u3002FreeRADIUS \u5728 3.0.22 \u4e2d\u5220\u9664\u4e86 LEAP\u3002 \u8fd9\u662f\u4ee5\u524d\u7684\u9ed8\u8ba4\u914d\u7f6e\uff0c\u56e0\u6b64\u5982\u679c\u4f60\u542f\u7528\u4e86 EAP\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u66f4\u65b0 /etc/raddb/mods-available/eap \u5e76\u5220\u9664 leap { ... } \u884c\u3002 [ FAQ Index ] | [ 6.8 -> 6.9 ]","title":"\u5347\u7ea7\u5411\u5bfc"},{"location":"others/upgrade70/#openbsd-\u5347\u7ea7\u5411\u5bfc69-\u81f3-70","text":"[ FAQ Index ] | [ 6.8 -> 6.9 ] \u4ec5\u652f\u6301\u4ece\u4e00\u4e2a\u7248\u672c\u5347\u7ea7\u5230\u7d27\u968f\u5176\u540e\u7684\u7248\u672c\u3002 \u5728\u5c1d\u8bd5\u4e4b\u524d\u901a\u8bfb\u5e76\u7406\u89e3\u6b64\u8fc7\u7a0b\u3002\u5bf9\u4e8e\u91cd\u8981\u7684\u6216\u7269\u7406\u8fdc\u7a0b\u673a\u5668\uff0c\u9996\u5148\u5728\u76f8\u540c\u7684\u672c\u5730\u7cfb\u7edf\u4e0a\u5bf9\u5176\u8fdb\u884c\u6d4b\u8bd5\u3002","title":"OpenBSD \u5347\u7ea7\u5411\u5bfc\uff1a6.9 \u81f3 7.0"},{"location":"others/upgrade70/#\u5728\u4f7f\u7528\u4efb\u4f55\u5347\u7ea7\u65b9\u6cd5\u4e4b\u524d","text":"\u68c0\u67e5 /usr \u4e2d\u7684\u53ef\u7528\u78c1\u76d8\u7a7a\u95f4\u3002 \u786e\u8ba4 /usr \u5206\u533a\u7684\u5927\u5c0f\u81f3\u5c11\u4e3a 1.1G\u3002\u5982\u679c\u7a7a\u95f4\u8f83\u5c0f\uff0c\u5347\u7ea7\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u4f60\u5e94\u8be5\u8003\u8651\u91cd\u65b0\u5b89\u88c5\u7cfb\u7edf\u3002 \u9605\u8bfb\u914d\u7f6e\u548c\u8bed\u6cd5\u66f4\u6539\u4ee5\u53ca\u8f6f\u4ef6\u5305\u5347\u7ea7\u8bf4\u660e\u3002 \u5728\u5f00\u59cb\u5347\u7ea7\u4e4b\u524d\uff0c\u53ef\u80fd\u9700\u8981\u8ba1\u5212\u4e00\u4e9b \u914d\u7f6e\u66f4\u6539 \u548c \u8f6f\u4ef6\u5305\u66f4\u6539 \u3002","title":"\u5728\u4f7f\u7528\u4efb\u4f55\u5347\u7ea7\u65b9\u6cd5\u4e4b\u524d"},{"location":"others/upgrade70/#\u5347\u7ea7\u65b9\u6cd5","text":"\u65e0\u4eba\u503c\u5b88\u5347\u7ea7\uff1a \u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u4f7f\u7528 sysupgrade(8) \u8fdb\u884c\u65e0\u4eba\u503c\u5b88\u5347\u7ea7\u3002\u8be5\u7a0b\u5e8f\u5c06\u4e0b\u8f7d\u6240\u6709\u5b89\u88c5\u6587\u4ef6\u96c6\uff08install sets\uff09\uff0c\u9a8c\u8bc1\u5176\u7b7e\u540d\uff0c\u7136\u540e\u91cd\u65b0\u542f\u52a8\u4ee5\u81ea\u52a8\u6267\u884c\u5347\u7ea7\u3002\u65e0\u4eba\u503c\u5b88\u5347\u7ea7\u5b8c\u6210\u540e\uff0c\u7ee7\u7eed \u4e0b\u9762 \u7684\u64cd\u4f5c\u3002 \u4ea4\u4e92\u5f0f\u5347\u7ea7\uff1a \u5982\u679c\u4f60\u575a\u6301\u7701\u7565\u4e00\u4e9b\u5b89\u88c5\u96c6\uff0c\u4f60\u5c06\u9700\u8981\u6267\u884c \u4ea4\u4e92\u5f0f\u5347\u7ea7 \u3002\uff08\u5e26\u6709\u6240\u6709\u5b89\u88c5\u96c6\u7684 sysupgrade \u5347\u7ea7\u3002\uff09 \u624b\u52a8\u5347\u7ea7\uff1a \u6700\u540e\u4e00\u4e2a\u9009\u9879\u662f \u624b\u52a8\u5347\u7ea7\u7cfb\u7edf \u3002\uff08\u4e0d\u5efa\u8bae\u8fd9\u6837\u505a\uff0c\u56e0\u4e3a\u5b83\u662f\u6700\u5bb9\u6613\u51fa\u9519\u7684\u65b9\u6cd5\u3002\uff09","title":"\u5347\u7ea7\u65b9\u6cd5"},{"location":"others/upgrade70/#\u4ea4\u4e92\u5f0f\u5347\u7ea7","text":"\u83b7\u53d6\u5e76\u9a8c\u8bc1 bsd.rd \u3002\u4e3a\u4f60\u7684\u673a\u5668\u4e0b\u8f7d\u76f8\u5e94\u67b6\u6784\u7684 ramdisk \u5185\u6838\u548c\u52a0\u5bc6\u7b7e\u540d\u7684\u6821\u9a8c\u548c\u6587\u4ef6\u3002 \u6587\u4ef6\u540d \u5bf9\u5e94\u67b6\u6784\u7684\u4e0b\u8f7d\u5730\u5740 bsd.rd alpha amd64 arm64 armv7 hppa i386 landisk loongson luna88k macppc octeon powerpc64 sparc64 SHA256.sig alpha amd64 arm64 armv7 hppa i386 landisk loongson luna88k macppc octeon powerpc64 sparc64 \u4f7f\u7528 signify(1) \u9a8c\u8bc1 bsd.rd \u548c SHA256.sig \uff1a $ signify -C -p /etc/signify/openbsd-70-base.pub -x SHA256.sig bsd.rd Signature Verified bsd.rd: OK \u63a5\u4e0b\u6765\uff0c\u4ece\u4e0a\u4e00\u6b65\u4e2d\u83b7\u53d6\u7684\u5b89\u88c5\u5185\u6838 bsd.rd \u542f\u52a8\u3002\u628a\u5b83\u653e\u5728\u4f60\u7684\u6587\u4ef6\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\u4e0b\uff0c\u5e76\u6307\u793a\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u542f\u52a8\u8fd9\u4e2a\u5185\u6838\u3002\u542f\u52a8\u6b64\u5185\u6838\u540e\uff0c\u9009\u62e9 (U)pgrade \u9009\u9879\u5e76\u6309\u7167\u63d0\u793a\u8fdb\u884c\u64cd\u4f5c\u3002 \u5b89\u88c5\u6587\u4ef6\u96c6\u540e\uff0c\u7cfb\u7edf\u5c06\u4f7f\u7528\u5347\u7ea7\u7684\u5185\u6838\u91cd\u65b0\u542f\u52a8\u3002\u73b0\u5728\u7ee7\u7eed \u4e0b\u4e00\u6b65 \uff1a","title":"\u4ea4\u4e92\u5f0f\u5347\u7ea7"},{"location":"others/upgrade70/#\u5728\u5347\u7ea7\u540e","text":"\u5347\u7ea7\u6587\u4ef6\u96c6\u540e\uff0c\u7cfb\u7edf\u5c06\u4f7f\u7528\u5347\u7ea7\u7684\u5185\u6838\u91cd\u65b0\u542f\u52a8\uff0c\u5e76\u5728\u5f15\u5bfc\u671f\u95f4\u8fd0\u884c sysmerge(8) \u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u82e5\u65e0\u6cd5\u81ea\u52a8\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002\u5219\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a # sysmerge \u68c0\u67e5\u5e76\u6267\u884c\u8fd9\u4e9b \u914d\u7f6e\u66f4\u6539 \u3002 \u63a5\u4e0b\u6765 \u5220\u9664\u65e7\u6587\u4ef6 \u3002\u6700\u540e\u4f7f\u7528 pkg_add -u \u5347\u7ea7\u8f6f\u4ef6\u5305\u3002 \u4f60\u53ef\u80fd\u9700\u8981\u68c0\u67e5 \u52d8\u8bef\u8868\u9875\u9762 \u4ee5\u4e86\u89e3\u4efb\u4f55\u53d1\u5e03\u540e\u7684\u4fee\u590d\u3002","title":"\u5728\u5347\u7ea7\u540e"},{"location":"others/upgrade70/#\u624b\u52a8\u5347\u7ea7\u6ca1\u6709\u5b89\u88c5\u5185\u6838","text":"\u8fd9\u4e0d\u662f\u63a8\u8350\u7684\u8fc7\u7a0b\u3002\u5982\u679c\u53ef\u80fd\uff0c\u8bf7\u4f7f\u7528\u65e0\u4eba\u503c\u5b88\u6216\u4ea4\u4e92\u5f0f\u5347\u7ea7\u65b9\u6cd5\uff01 \u6709\u65f6\uff0c\u4f60\u9700\u8981\u5bf9\u65e0\u6cd5\u8fdb\u884c\u6b63\u5e38\u65e0\u4eba\u503c\u5b88\u6216\u4ea4\u4e92\u5f0f\u5347\u7ea7\u8fc7\u7a0b\u7684\u673a\u5668\u8fdb\u884c\u5347\u7ea7\u3002","title":"\u624b\u52a8\u5347\u7ea7\uff08\u6ca1\u6709\u5b89\u88c5\u5185\u6838\uff09"},{"location":"others/upgrade70/#\u51c6\u5907","text":"\u5c06\u5b89\u88c5\u6587\u4ef6\u653e\u5728\u4e00\u4e2a\u9002\u5f53\u7684\u4f4d\u7f6e \u3002\u786e\u4fdd\u4f60\u6709\u8db3\u591f\u7684\u7a7a\u95f4\uff01\u8fdc\u7a0b\u5347\u7ea7\u65f6\u7a7a\u95f4\u4e0d\u8db3\u53ef\u80fd\u662f\u2026\u2026\u4e0d\u5e78\u7684\u3002\u8bf7\u6ce8\u610f\uff0c\u4f7f\u7528 softdep \u4f1a\u52a0\u5267\u8fd9\u79cd\u60c5\u51b5\uff0c\u56e0\u4e3a\u5220\u9664\u548c\u8986\u76d6\u7684\u6587\u4ef6\u4e0d\u4f1a\u7acb\u5373\u91ca\u653e\u5b83\u4eec\u7684\u7a7a\u95f4\u3002\u8003\u8651\u5728 /etc/fstab \u4e2d\u7981\u7528 softdep \u6302\u8f7d\u9009\u9879\u5e76\u5728\u8fdb\u884c\u624b\u52a8\u5347\u7ea7\u4e4b\u524d\u91cd\u65b0\u542f\u52a8\u3002\u5efa\u8bae\u5728 /usr \u4e0a\u81f3\u5c11\u6709 500MB \u53ef\u7528\u7a7a\u95f4\u3002 \u6210\u4e3a root \u7528\u6237 \u3002\u867d\u7136\u5728\u6bcf\u4e2a\u547d\u4ee4\u4e4b\u524d\u4f7f\u7528 doas(1) \u901a\u5e38\u662f\u4e00\u4e2a\u597d\u4e60\u60ef\uff0c\u4f46\u8be5\u547d\u4ee4\u53ef\u80fd\u4f1a\u88ab\u6700\u540e\u7684\u6b65\u9aa4\u7834\u574f\uff0c\u56e0\u6b64\u4f60\u5e94\u8be5\u5728\u5f00\u59cb\u6b64\u8fc7\u7a0b\u4e4b\u524d\u83b7\u5f97 root \u6743\u9650\u3002\u6b64\u65f6\u6700\u597d\u4f7f\u7528 doas \u4ee5\u5916\u7684\u65b9\u6cd5\u9a8c\u8bc1\u4f60\u5bf9 root \u7684\u8bbf\u95ee\u6743\u9650\uff0c\u5373\u76f4\u63a5\u767b\u5f55\u6216\u4f7f\u7528 su(1) \u3002 \u505c\u6b62\u548c/\u6216\u7981\u7528\u4efb\u4f55\u9002\u5f53\u7684\u5e94\u7528\u7a0b\u5e8f \u3002\u5728\u6b64\u8fc7\u7a0b\u4e2d\uff0c\u6240\u6709\u7528\u6237\u6001\u5e94\u7528\u7a0b\u5e8f\u90fd\u4f1a\u88ab\u66ff\u6362\uff0c\u4f46\u53ef\u80fd\u65e0\u6cd5\u8fd0\u884c\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u53d1\u751f\u5947\u602a\u7684\u4e8b\u60c5\u3002\u5728\u7b2c\u4e00\u6b21\u91cd\u65b0\u542f\u52a8\u671f\u95f4\uff0c\u4f60\u53ef\u80fd\u8fd8\u4f1a\u9047\u5230 DNS \u89e3\u6790\u95ee\u9898\uff0c\u56e0\u6b64\u4f9d\u8d56\u4e8e DNS \u7684 PF \u89c4\u5219\u548c NFS \u6302\u8f7d\u53ef\u80fd\u4f1a\u5bfc\u81f4\u542f\u52a8\u95ee\u9898\u3002\u53ef\u80fd\u8fd8\u6709\u5176\u4ed6\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f60\u5e0c\u671b\u5728\u5347\u7ea7\u540e\u4e0d\u8981\u7acb\u5373\u8fd0\u884c\uff1b\u4e5f\u8981\u505c\u6b62\u5e76\u7981\u7528\u5b83\u4eec\u3002 \u5b89\u88c5\u65b0\u7684\u5f15\u5bfc\u5757 \u3002\u8fd9\u5b9e\u9645\u4e0a\u5e94\u8be5\u5728\u4efb\u4f55\u5347\u7ea7\u7ed3\u675f\u65f6\u5b8c\u6210\u3002\u5982\u679c\u8fd9\u88ab\u5ffd\u7565\u4e86\uff0c\u90a3\u4e48\u73b0\u5728\u4e0d\u8fd9\u6837\u505a\u53ef\u80fd\u4f1a\u7834\u574f\u4e32\u884c\u63a7\u5236\u53f0\u6216\u5176\u4ed6\u4e1c\u897f\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u4f60\u7684\u5e73\u53f0\u3002\u4f7f\u7528 installboot(8) \u8fdb\u884c\u914d\u7f6e\uff0c\u5047\u8bbe sd0 \u662f\u4f60\u7684\u542f\u52a8\u76d8\uff1a # installboot sd0","title":"\u51c6\u5907"},{"location":"others/upgrade70/#\u624b\u52a8\u5347\u7ea7","text":"\u5b89\u88c5\u65b0\u5185\u6838 \u3002\u590d\u5236\u4e3b\u5185\u6838\u7684\u989d\u5916\u6b65\u9aa4\u662f\u4e3a\u4e86\u786e\u4fdd\u78c1\u76d8\u4e0a\u59cb\u7ec8\u5b58\u5728\u6709\u6548\u7684\u5185\u6838\u3002 \u5982\u679c\u4f7f\u7528\u591a\u5904\u7406\u5668\u5185\u6838\uff1a # cd /usr/rel # where you put the release files # ln -f /bsd /obsd && cp bsd.mp /nbsd && mv /nbsd /bsd # cp bsd.rd / # cp bsd /bsd.sp \u5982\u679c\u4f7f\u7528\u5355\u5904\u7406\u5668\u5185\u6838\uff1a # cd /usr/rel # where you put the release files # ln -f /bsd /obsd && cp bsd /nbsd && mv /nbsd /bsd # cp bsd.rd bsd.mp / # may give a harmless warning \u542f\u7528 KARL \u3002\u5b58\u50a8\u5185\u6838\u7684\u6821\u9a8c\u548c\uff1a # sha256 -h /var/db/kernel.SHA256 /bsd \u5b89\u88c5\u65b0\u7684\u7528\u6237\u7a7a\u95f4\u3002 \u4fdd\u5b58reboot(8) \u7684\u526f\u672c\uff0c\u89e3\u538b\u7f29\u5e76\u5b89\u88c5\u53d1\u884c\u7248\u5305\uff0c\u91cd\u65b0\u542f\u52a8\u3002\u6700\u540e\u5b89\u88c5 base70.tgz \uff0c\u56e0\u4e3a\u65b0\u7684\u57fa\u672c\u7cfb\u7edf\uff0c\u7279\u522b\u662f tar(1) \u3001 gzip(1) \u548c reboot(8) \uff0c\u5c06\u65e0\u6cd5\u4e0e\u65e7\u5185\u6838\u4e00\u8d77\u4f7f\u7528\u3002\u624b\u52a8\u89e3\u538b\u6240\u9700\u7684\u6587\u4ef6\u96c6\uff1a # cp /sbin/reboot /sbin/oreboot # tar -C / -xzphf xshare70.tgz # tar -C / -xzphf xserv70.tgz # tar -C / -xzphf xfont70.tgz # tar -C / -xzphf xbase70.tgz # tar -C / -xzphf man70.tgz # tar -C / -xzphf game70.tgz # tar -C / -xzphf comp70.tgz # tar -C / -xzphf base70.tgz # Install last! # /sbin/oreboot \u6216\u8005\uff0c\u5982\u679c\u4f60\u4f7f\u7528 ksh(1) \uff0c\u4f60\u53ef\u4ee5\uff1a # cp /sbin/reboot /sbin/oreboot # for _f in [!b]*70.tgz base70.tgz; do tar -C / -xzphf \"$_f\" || break; done # /sbin/oreboot \u8bf7\u6ce8\u610f\uff0c tar(1) \u6bcf\u6b21\u8c03\u7528\u53ea\u80fd\u6269\u5c55\u4e00\u4e2a\u5b58\u6863\uff0c\u56e0\u6b64\u7b80\u5355\u7684 glob \u4e0d\u8d77\u4f5c\u7528\u3002 \u91cd\u542f\u540e\uff0c\u66f4\u65b0 /dev \u3002\u8fd0\u884c MAKEDEV(8) \uff1a # cd /dev # ./MAKEDEV all \u66f4\u65b0\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f \u3002\u4ecd\u7136\u5047\u8bbe sd0 \u662f\u4f60\u7684\u542f\u52a8\u76d8\uff1a # installboot sd0 \u66f4\u65b0\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6 \u3002\u8fd0\u884c sysmerge(8) \uff1a # sysmerge \u66f4\u65b0\u56fa\u4ef6 \u3002\u4f60\u7684\u7cfb\u7edf\u53ef\u80fd\u6709\u65b0\u56fa\u4ef6\u3002\u7528 fw_update(1) \u66f4\u65b0\u5b83\uff1a # fw_update \u5b8c\u6210 \u3002\u67e5\u770b\u5f15\u5bfc\u7684\u63a7\u5236\u53f0\u8f93\u51fa\uff08\u4f7f\u7528 dmesg -s \uff09\u5e76\u6839\u636e\u9700\u8981\u66f4\u6b63\u4efb\u4f55\u6545\u969c\u3002\u4ee5\u4e0b \u914d\u7f6e\u66f4\u6539 \u540e\u7684\u6240\u6709\u6b65\u9aa4\u4e5f\u9002\u7528\u4e8e\u624b\u52a8\u5347\u7ea7\u3002\u6700\u540e\uff0c\u5220\u9664 /sbin/oreboot \u5e76\u66f4\u65b0\u8f6f\u4ef6\u5305\uff1a pkg_add -u \u3002 \u518d\u6b21\u91cd\u65b0\u542f\u52a8\u4ee5\u786e\u4fdd\u4f60\u4f7f\u7528\u6700\u65b0\u7684\u56fa\u4ef6\u6587\u4ef6\u5e76\u5728\u4f60\u81ea\u5df1\u7684 KARL \u751f\u6210\u7684\u5185\u6838\u4e0a\u8fd0\u884c\u3002","title":"\u624b\u52a8\u5347\u7ea7"},{"location":"others/upgrade70/#\u914d\u7f6e\u548c\u8bed\u6cd5\u66f4\u6539","text":"snmpd(8) \u3002\u9ed8\u8ba4\u5b89\u5168\u8bbe\u7f6e\u5df2\u6536\u7d27\u3002 \u9ed8\u8ba4\u534f\u8bae\u5df2\u66f4\u6539\u4e3a SNMPv3\u3002 \u9ed8\u8ba4\u7684 public \u548c private \u793e\u533a\u5df2\u88ab\u5220\u9664\u3002\u73b0\u5728\u5fc5\u987b\u660e\u786e\u8bbe\u7f6e\u793e\u533a\u3002 seclevel \u9ed8\u8ba4\u503c\u4ece none \u66f4\u6539\u4e3a enc \u3002 \u9ed8\u8ba4 SNMPv3 \u52a0\u5bc6\u5df2\u66f4\u6539\u4e3a AES\u3002 trap receiver \uff08\u9677\u9631\u63a5\u6536\u5668\uff0c\u7528\u4e8e\u5411\u53e6\u4e00\u53f0\u4e3b\u673a\u53d1\u9001\u9677\u9631\uff09\u7684\u534f\u8bae\u7248\u672c\u4e0d\u518d\u9ed8\u8ba4\u4e3a SNMPv2\u3002 \u8981\u914d\u7f6e SNMPv3\uff0c\u4f60\u9700\u8981\u5728\u914d\u7f6e\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u7528\u6237\uff0c\u4f8b\u5982\uff1a user \"manager\" authkey \"XblueQ300ZyAbUIbndmWjfl\" auth hmac-sha1 enc aes enckey \"tVadj9jxq8rdJ\" \u5982\u679c\u4f60\u9700\u8981\u6062\u590d SNMPv1/v2c\uff0c\u4f60\u53ef\u4ee5\u5728 snmpd.conf(5) \u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a listen on any snmpv1 snmpv2c read read-only community U9PeBY1694bcxMnm seclevel none \u793e\u533a\u540d\u79f0\u4e0d\u5e94\u8be5\u662f\u5e38\u89c1\u7684\u6216\u5bb9\u6613\u88ab\u66b4\u529b\u7834\u89e3\u7684\uff0c\u7279\u522b\u662f\u5982\u679c\u66b4\u9732\u5728\u4e92\u8054\u7f51\u4e0a\u3002 snmp(1) 1. \u9ed8\u8ba4\u534f\u8bae\u7248\u672c\u5df2\u4ece v2c \u66f4\u6539\u4e3a v3\u3002 2. \u9ed8\u8ba4\u52a0\u5bc6\u5df2\u66f4\u6539\u4e3a AES\u3002 3. \u9ed8\u8ba4\u8eab\u4efd\u9a8c\u8bc1\u5df2\u66f4\u6539\u4e3a SHA1\u3002 4. \u9ed8\u8ba4\u793e\u533a public \u5df2\u88ab\u5220\u9664\u3002","title":"\u914d\u7f6e\u548c\u8bed\u6cd5\u66f4\u6539"},{"location":"others/upgrade70/#\u5220\u9664\u7684\u6587\u4ef6","text":"dmx \u5e93\u5df2\u88ab\u5220\u9664\u3002 # rm -f /usr/X11R6/lib/libdmx.* \\ /usr/X11R6/include/X11/extensions/dmxext.h \\ /usr/X11R6/lib/pkgconfig/dmx.pc \\ /usr/X11R6/man/man3/DMX*.3 \u4f60\u53ef\u4ee5\u501f\u52a9 sysclean \u5305\u8fdb\u884c\u66f4\u8be6\u7ec6\u7684\u6e05\u7406\u3002","title":"\u5220\u9664\u7684\u6587\u4ef6"},{"location":"others/upgrade70/#\u7279\u6b8a\u7684\u8f6f\u4ef6\u5305","text":"net/freeradius \u3002FreeRADIUS \u5728 3.0.22 \u4e2d\u5220\u9664\u4e86 LEAP\u3002 \u8fd9\u662f\u4ee5\u524d\u7684\u9ed8\u8ba4\u914d\u7f6e\uff0c\u56e0\u6b64\u5982\u679c\u4f60\u542f\u7528\u4e86 EAP\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u66f4\u65b0 /etc/raddb/mods-available/eap \u5e76\u5220\u9664 leap { ... } \u884c\u3002 [ FAQ Index ] | [ 6.8 -> 6.9 ]","title":"\u7279\u6b8a\u7684\u8f6f\u4ef6\u5305"},{"location":"pf-user-guide/","text":"","title":"Index"},{"location":"porter-handbook/","text":"","title":"Index"},{"location":"ports-testing-guide/","text":"","title":"Index"}]}